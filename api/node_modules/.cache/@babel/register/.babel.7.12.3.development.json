{
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\app.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _routes = _interopRequireDefault(require(\"./REST/routes\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\n//'use strict';\nconst app = (0, _express.default)();\napp.use('/', _express.default.static('public/dist/client'));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n}));\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)());\n\n_mongoose.default.connect(_config.default.databaseUrl, {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true\n}, error => {\n  if (error) {\n    console.error(error);\n  } else {\n    console.log('Connect with database established');\n  }\n});\n\nprocess.on('SIGINT', () => {\n  _mongoose.default.connection.close(function () {\n    console.error('Mongoose default connection disconnected through app termination');\n    process.exit(0);\n  });\n});\n(0, _routes.default)(app);\napp.get('/*', function (req, res) {\n  res.sendFile(__dirname + '/public/dist/Client/index.html');\n});\napp.listen(_config.default.port, () => {\n  console.info(`Server is running at ${_config.default.port}`);\n});\nmodule.exports = app; // // const express = require('express');\n// // const mongoose = require('mongoose');\n// // const cors = require('cors');\n// // const parser = require('body-parser');\n// // const path = require('path');\n// // require('dotenv/config');\n// // const routes = require('./REST/routes');\n// import express from 'express';\n// import mongoose from 'mongoose';\n// import bodyParser from 'body-parser';\n// import cors from 'cors';\n// import * as parser from \"body-parser\";\n//\n// const app = express();\n//\n// //connect to database\n// const mongooseDB = async () => {\n//   await mongoose.connect(process.env.DB_CONNECTION,\n//     { useNewUrlParser: true });\n//   console.log('Connected to database');\n// }\n// mongooseDB().then();\n//\n// //adding middleware - cors\n// app.use(cors());\n//\n// //body-parser\n// app.use(parser.json());\n//\n// app.use('/', express.static(path.join(__dirname, 'public/dist/client')));\n// app.get('/*', (req, res) => res.sendFile(__dirname + '/public/dist/Client/index.html'));\n//\n// app.listen(process.env.PORT, () => {\n//   console.log('Server working at port: ' + process.env.PORT)\n// });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJleHByZXNzIiwic3RhdGljIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJkYXRhYmFzZVVybCIsInVzZU5ld1VybFBhcnNlciIsInVzZUNyZWF0ZUluZGV4IiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsIm9uIiwiY29ubmVjdGlvbiIsImNsb3NlIiwiZXhpdCIsImdldCIsInJlcSIsInJlcyIsInNlbmRGaWxlIiwiX19kaXJuYW1lIiwibGlzdGVuIiwicG9ydCIsImluZm8iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBUEE7QUFRQSxNQUFNQSxHQUFHLEdBQUcsdUJBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhQyxpQkFBUUMsTUFBUixDQUFlLG9CQUFmLENBQWI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFHLG9CQUFXQyxVQUFYLENBQXNCO0FBQUNDLEVBQUFBLFFBQVEsRUFBRTtBQUFYLENBQXRCLENBQVI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVFHLG9CQUFXRyxJQUFYLEVBQVI7QUFDQVAsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7O0FBRUFPLGtCQUFTQyxPQUFULENBQWlCQyxnQkFBT0MsV0FBeEIsRUFBcUM7QUFBQ0MsRUFBQUEsZUFBZSxFQUFFLElBQWxCO0FBQXdCQyxFQUFBQSxjQUFjLEVBQUUsSUFBeEM7QUFBOENDLEVBQUFBLGtCQUFrQixFQUFFO0FBQWxFLENBQXJDLEVBQStHQyxLQUFELElBQVc7QUFDdkgsTUFBSUEsS0FBSixFQUFXO0FBQ1RDLElBQUFBLE9BQU8sQ0FBQ0QsS0FBUixDQUFjQSxLQUFkO0FBQ0QsR0FGRCxNQUdLO0FBQ0hDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFaO0FBQ0Q7QUFDRixDQVBEOztBQVNBQyxPQUFPLENBQUNDLEVBQVIsQ0FBVyxRQUFYLEVBQXFCLE1BQU07QUFDekJYLG9CQUFTWSxVQUFULENBQW9CQyxLQUFwQixDQUEwQixZQUFZO0FBQ3BDTCxJQUFBQSxPQUFPLENBQUNELEtBQVIsQ0FBYyxrRUFBZDtBQUNBRyxJQUFBQSxPQUFPLENBQUNJLElBQVIsQ0FBYSxDQUFiO0FBQ0QsR0FIRDtBQUlELENBTEQ7QUFPQSxxQkFBT3RCLEdBQVA7QUFFQUEsR0FBRyxDQUFDdUIsR0FBSixDQUFRLElBQVIsRUFBYyxVQUFVQyxHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDaENBLEVBQUFBLEdBQUcsQ0FBQ0MsUUFBSixDQUFhQyxTQUFTLEdBQUcsZ0NBQXpCO0FBQ0QsQ0FGRDtBQUlBM0IsR0FBRyxDQUFDNEIsTUFBSixDQUFXbEIsZ0JBQU9tQixJQUFsQixFQUF3QixNQUFNO0FBQzVCYixFQUFBQSxPQUFPLENBQUNjLElBQVIsQ0FBYyx3QkFBdUJwQixnQkFBT21CLElBQUssRUFBakQ7QUFDRCxDQUZEO0FBSUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhDLEdBQWpCLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyd1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gXCIuL1JFU1Qvcm91dGVzXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoJy8nLCBleHByZXNzLnN0YXRpYygncHVibGljL2Rpc3QvY2xpZW50JykpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IGZhbHNlfSkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdChjb25maWcuZGF0YWJhc2VVcmwsIHt1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZUNyZWF0ZUluZGV4OiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWV9LCAoZXJyb3IpID0+IHtcclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0IHdpdGggZGF0YWJhc2UgZXN0YWJsaXNoZWQnKTtcclxuICB9XHJcbn0pO1xyXG5cclxucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4ge1xyXG4gIG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5lcnJvcignTW9uZ29vc2UgZGVmYXVsdCBjb25uZWN0aW9uIGRpc2Nvbm5lY3RlZCB0aHJvdWdoIGFwcCB0ZXJtaW5hdGlvbicpO1xyXG4gICAgcHJvY2Vzcy5leGl0KDApO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnJvdXRlcyhhcHApO1xyXG5cclxuYXBwLmdldCgnLyonLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9wdWJsaWMvZGlzdC9DbGllbnQvaW5kZXguaHRtbCcpO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oY29uZmlnLnBvcnQsICgpID0+IHtcclxuICBjb25zb2xlLmluZm8oYFNlcnZlciBpcyBydW5uaW5nIGF0ICR7Y29uZmlnLnBvcnR9YClcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcclxuXHJcbi8vIC8vIGNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbi8vIC8vIGNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuLy8gLy8gY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcclxuLy8gLy8gY29uc3QgcGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuLy8gLy8gY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuLy8gLy8gcmVxdWlyZSgnZG90ZW52L2NvbmZpZycpO1xyXG4vLyAvLyBjb25zdCByb3V0ZXMgPSByZXF1aXJlKCcuL1JFU1Qvcm91dGVzJyk7XHJcbi8vIGltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG4vLyBpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG4vLyBpbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbi8vIGltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG4vLyBpbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbi8vXHJcbi8vIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuLy9cclxuLy8gLy9jb25uZWN0IHRvIGRhdGFiYXNlXHJcbi8vIGNvbnN0IG1vbmdvb3NlREIgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5EQl9DT05ORUNUSU9OLFxyXG4vLyAgICAgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUgfSk7XHJcbi8vICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBkYXRhYmFzZScpO1xyXG4vLyB9XHJcbi8vIG1vbmdvb3NlREIoKS50aGVuKCk7XHJcbi8vXHJcbi8vIC8vYWRkaW5nIG1pZGRsZXdhcmUgLSBjb3JzXHJcbi8vIGFwcC51c2UoY29ycygpKTtcclxuLy9cclxuLy8gLy9ib2R5LXBhcnNlclxyXG4vLyBhcHAudXNlKHBhcnNlci5qc29uKCkpO1xyXG4vL1xyXG4vLyBhcHAudXNlKCcvJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYy9kaXN0L2NsaWVudCcpKSk7XHJcbi8vIGFwcC5nZXQoJy8qJywgKHJlcSwgcmVzKSA9PiByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9wdWJsaWMvZGlzdC9DbGllbnQvaW5kZXguaHRtbCcpKTtcclxuLy9cclxuLy8gYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JULCAoKSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coJ1NlcnZlciB3b3JraW5nIGF0IHBvcnQ6ICcgKyBwcm9jZXNzLmVudi5QT1JUKVxyXG4vLyB9KTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "use",
        "express",
        "static",
        "bodyParser",
        "urlencoded",
        "extended",
        "json",
        "mongoose",
        "connect",
        "config",
        "databaseUrl",
        "useNewUrlParser",
        "useCreateIndex",
        "useUnifiedTopology",
        "error",
        "console",
        "log",
        "process",
        "on",
        "connection",
        "close",
        "exit",
        "get",
        "req",
        "res",
        "sendFile",
        "__dirname",
        "listen",
        "port",
        "info",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAPA;AAQA,MAAMA,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaC,iBAAQC,MAAR,CAAe,oBAAf,CAAb;AACAH,GAAG,CAACC,GAAJ,CAAQG,oBAAWC,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAtB,CAAR;AACAN,GAAG,CAACC,GAAJ,CAAQG,oBAAWG,IAAX,EAAR;AACAP,GAAG,CAACC,GAAJ,CAAQ,oBAAR;;AAEAO,kBAASC,OAAT,CAAiBC,gBAAOC,WAAxB,EAAqC;AAACC,EAAAA,eAAe,EAAE,IAAlB;AAAwBC,EAAAA,cAAc,EAAE,IAAxC;AAA8CC,EAAAA,kBAAkB,EAAE;AAAlE,CAArC,EAA+GC,KAAD,IAAW;AACvH,MAAIA,KAAJ,EAAW;AACTC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,GAFD,MAGK;AACHC,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACD;AACF,CAPD;;AASAC,OAAO,CAACC,EAAR,CAAW,QAAX,EAAqB,MAAM;AACzBX,oBAASY,UAAT,CAAoBC,KAApB,CAA0B,YAAY;AACpCL,IAAAA,OAAO,CAACD,KAAR,CAAc,kEAAd;AACAG,IAAAA,OAAO,CAACI,IAAR,CAAa,CAAb;AACD,GAHD;AAID,CALD;AAOA,qBAAOtB,GAAP;AAEAA,GAAG,CAACuB,GAAJ,CAAQ,IAAR,EAAc,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAChCA,EAAAA,GAAG,CAACC,QAAJ,CAAaC,SAAS,GAAG,gCAAzB;AACD,CAFD;AAIA3B,GAAG,CAAC4B,MAAJ,CAAWlB,gBAAOmB,IAAlB,EAAwB,MAAM;AAC5Bb,EAAAA,OAAO,CAACc,IAAR,CAAc,wBAAuBpB,gBAAOmB,IAAK,EAAjD;AACD,CAFD;AAIAE,MAAM,CAACC,OAAP,GAAiBhC,GAAjB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
      "sourcesContent": [
        "//'use strict';\r\n\r\nimport express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport cors from 'cors';\r\nimport routes from \"./REST/routes\";\r\nimport config from \"./config\";\r\nconst app = express();\r\n\r\napp.use('/', express.static('public/dist/client'));\r\napp.use(bodyParser.urlencoded({extended: false}));\r\napp.use(bodyParser.json());\r\napp.use(cors());\r\n\r\nmongoose.connect(config.databaseUrl, {useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true}, (error) => {\r\n  if (error) {\r\n    console.error(error);\r\n  }\r\n  else {\r\n    console.log('Connect with database established');\r\n  }\r\n});\r\n\r\nprocess.on('SIGINT', () => {\r\n  mongoose.connection.close(function () {\r\n    console.error('Mongoose default connection disconnected through app termination');\r\n    process.exit(0);\r\n  });\r\n});\r\n\r\nroutes(app);\r\n\r\napp.get('/*', function (req, res) {\r\n  res.sendFile(__dirname + '/public/dist/Client/index.html');\r\n});\r\n\r\napp.listen(config.port, () => {\r\n  console.info(`Server is running at ${config.port}`)\r\n});\r\n\r\nmodule.exports = app;\r\n\r\n// // const express = require('express');\r\n// // const mongoose = require('mongoose');\r\n// // const cors = require('cors');\r\n// // const parser = require('body-parser');\r\n// // const path = require('path');\r\n// // require('dotenv/config');\r\n// // const routes = require('./REST/routes');\r\n// import express from 'express';\r\n// import mongoose from 'mongoose';\r\n// import bodyParser from 'body-parser';\r\n// import cors from 'cors';\r\n// import * as parser from \"body-parser\";\r\n//\r\n// const app = express();\r\n//\r\n// //connect to database\r\n// const mongooseDB = async () => {\r\n//   await mongoose.connect(process.env.DB_CONNECTION,\r\n//     { useNewUrlParser: true });\r\n//   console.log('Connected to database');\r\n// }\r\n// mongooseDB().then();\r\n//\r\n// //adding middleware - cors\r\n// app.use(cors());\r\n//\r\n// //body-parser\r\n// app.use(parser.json());\r\n//\r\n// app.use('/', express.static(path.join(__dirname, 'public/dist/client')));\r\n// app.get('/*', (req, res) => res.sendFile(__dirname + '/public/dist/Client/index.html'));\r\n//\r\n// app.listen(process.env.PORT, () => {\r\n//   console.log('Server working at port: ' + process.env.PORT)\r\n// });\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611942206566
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\routes.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"./user.endpoint\"));\n\nvar _medicines = _interopRequireDefault(require(\"./medicines.endpoints\"));\n\nvar _equipment = _interopRequireDefault(require(\"./equipment.endpoint\"));\n\nvar _order = _interopRequireDefault(require(\"./order.endpoint\"));\n\nvar _prescriptions = _interopRequireDefault(require(\"./prescriptions.endpoint\"));\n\nvar _form = _interopRequireDefault(require(\"./form.endpoint\"));\n\nconst routes = (router, config) => {\n  (0, _medicines.default)(router);\n  (0, _equipment.default)(router);\n  (0, _user.default)(router);\n  (0, _order.default)(router);\n  (0, _prescriptions.default)(router);\n  (0, _form.default)(router);\n};\n\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJyb3V0ZXIiLCJjb25maWciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsQ0FBQ0MsTUFBRCxFQUFTQyxNQUFULEtBQW9CO0FBQ2pDLDBCQUFpQkQsTUFBakI7QUFDQSwwQkFBa0JBLE1BQWxCO0FBQ0EscUJBQWFBLE1BQWI7QUFDQSxzQkFBY0EsTUFBZDtBQUNBLDhCQUFzQkEsTUFBdEI7QUFDQSxxQkFBYUEsTUFBYjtBQUNELENBUEQ7O2VBU2VELE0iLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXFJFU1RcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB1c2VyRW5kcG9pbnQgZnJvbSBcIi4vdXNlci5lbmRwb2ludFwiO1xyXG5pbXBvcnQgbWVkaWNpbmVFbmRwb2ludCBmcm9tIFwiLi9tZWRpY2luZXMuZW5kcG9pbnRzXCI7XHJcbmltcG9ydCBlcXVpcG1lbnRFbmRwb2ludCBmcm9tIFwiLi9lcXVpcG1lbnQuZW5kcG9pbnRcIjtcclxuaW1wb3J0IG9yZGVyRW5kcG9pbnQgZnJvbSBcIi4vb3JkZXIuZW5kcG9pbnRcIjtcclxuaW1wb3J0IHByZXNjcmlwdGlvbnNFbmRwb2ludCBmcm9tIFwiLi9wcmVzY3JpcHRpb25zLmVuZHBvaW50XCI7XHJcbmltcG9ydCBmb3JtRW5kcG9pbnQgZnJvbSBcIi4vZm9ybS5lbmRwb2ludFwiO1xyXG5cclxuY29uc3Qgcm91dGVzID0gKHJvdXRlciwgY29uZmlnKSA9PiB7XHJcbiAgbWVkaWNpbmVFbmRwb2ludChyb3V0ZXIpO1xyXG4gIGVxdWlwbWVudEVuZHBvaW50KHJvdXRlcilcclxuICB1c2VyRW5kcG9pbnQocm91dGVyKTtcclxuICBvcmRlckVuZHBvaW50KHJvdXRlcik7XHJcbiAgcHJlc2NyaXB0aW9uc0VuZHBvaW50KHJvdXRlcik7XHJcbiAgZm9ybUVuZHBvaW50KHJvdXRlcik7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "router",
        "config"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AACjC,0BAAiBD,MAAjB;AACA,0BAAkBA,MAAlB;AACA,qBAAaA,MAAb;AACA,sBAAcA,MAAd;AACA,8BAAsBA,MAAtB;AACA,qBAAaA,MAAb;AACD,CAPD;;eASeD,M",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport userEndpoint from \"./user.endpoint\";\r\nimport medicineEndpoint from \"./medicines.endpoints\";\r\nimport equipmentEndpoint from \"./equipment.endpoint\";\r\nimport orderEndpoint from \"./order.endpoint\";\r\nimport prescriptionsEndpoint from \"./prescriptions.endpoint\";\r\nimport formEndpoint from \"./form.endpoint\";\r\n\r\nconst routes = (router, config) => {\r\n  medicineEndpoint(router);\r\n  equipmentEndpoint(router)\r\n  userEndpoint(router);\r\n  orderEndpoint(router);\r\n  prescriptionsEndpoint(router);\r\n  formEndpoint(router);\r\n};\r\n\r\nexport default routes;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611670168263
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\user.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "user.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\n\n// import auth from '../middleware/auth';\nconst admin = require('../middleware/admin');\n\nconst userEndpoint = router => {\n  router.get('/api/users', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/auth', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).authenticate(request.body.login, request.body.password);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  }); // router.delete('/api/user/logout', async (request, response, next) => {\n  //   try {\n  //     let result = await business(request).getUserManager(request).removeHashSession(request.body.userId);\n  //     response.status(200).send('Access token for user with id: ' + result + ' deleted.');\n  //   } catch (error) {\n  //     applicationException.errorHandler(error, response);\n  //   }\n  // })\n\n  router.post('/api/user/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/passwordCheck', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).checkPassword(request.body.loginName, request.body.password);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  }); // router.get('/api/user/:id', async (request, response, next) => {\n  //   try {\n  //     let result = await business(request).getUserManager(request).get(request.params.id);\n  //     response.status(200).send(result);\n  //   } catch (error) {\n  //     applicationException.errorHandler(error, response);\n  //   }\n  // });\n\n  router.get('/api/user/:loginName', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).getByEmail(request.params.loginName);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/user/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).removeUserById(request.params.id);\n      response.status(200).send('User with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/user/logout/:userId', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).removeHashSession(request.params.userId);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/sendEmail', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).sendEmail(request.body.loginName);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = userEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuZW5kcG9pbnQuanMiXSwibmFtZXMiOlsiYWRtaW4iLCJyZXF1aXJlIiwidXNlckVuZHBvaW50Iiwicm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInJlc3VsdCIsImdldFVzZXJNYW5hZ2VyIiwicXVlcnkiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsImVycm9ySGFuZGxlciIsInBvc3QiLCJhdXRoZW50aWNhdGUiLCJib2R5IiwibG9naW4iLCJwYXNzd29yZCIsImNyZWF0ZU5ld09yVXBkYXRlIiwiY2hlY2tQYXNzd29yZCIsImxvZ2luTmFtZSIsImdldEJ5RW1haWwiLCJwYXJhbXMiLCJkZWxldGUiLCJyZW1vdmVVc2VyQnlJZCIsImlkIiwicmVtb3ZlSGFzaFNlc3Npb24iLCJ1c2VySWQiLCJzZW5kRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFHQTs7QUFGQTtBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLHFCQUFELENBQXJCOztBQUdBLE1BQU1DLFlBQVksR0FBSUMsTUFBRCxJQUFZO0FBQy9CQSxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxZQUFYLEVBQXlCLE9BQU9DLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUMxRCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNILE9BQVQsRUFBa0JJLGNBQWxCLENBQWlDSixPQUFqQyxFQUEwQ0ssS0FBMUMsRUFBbkI7QUFDQUosTUFBQUEsUUFBUSxDQUFDSyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUCxRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVNBSCxFQUFBQSxNQUFNLENB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QXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNQLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBUUQsQ0ExRkQ7O2VBNEZlSixZIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxSRVNUXFwiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgYnVzaW5lc3MgZnJvbSAnLi4vYnVzaW5lc3MvYnVzaW5lc3MuY29udGFpbmVyJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG4vLyBpbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgnO1xyXG5jb25zdCBhZG1pbiA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvYWRtaW4nKTtcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoJztcclxuXHJcbmNvbnN0IHVzZXJFbmRwb2ludCA9IChyb3V0ZXIpID0+IHtcclxuICByb3V0ZXIuZ2V0KCcvYXBpL3VzZXJzJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucXVlcnkoKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5wb3N0KCcvYXBpL3VzZXIvYXV0aCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmF1dGhlbnRpY2F0ZShyZXF1ZXN0LmJvZHkubG9naW4sIHJlcXVlc3QuYm9keS5wYXNzd29yZCk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyByb3V0ZXIuZGVsZXRlKCcvYXBpL3VzZXIvbG9nb3V0JywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgLy8gICB0cnkge1xyXG4gIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucmVtb3ZlSGFzaFNlc3Npb24ocmVxdWVzdC5ib2R5LnVzZXJJZCk7XHJcbiAgLy8gICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoJ0FjY2VzcyB0b2tlbiBmb3IgdXNlciB3aXRoIGlkOiAnICsgcmVzdWx0ICsgJyBkZWxldGVkLicpO1xyXG4gIC8vICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAvLyAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfSlcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9jcmVhdGUnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5jcmVhdGVOZXdPclVwZGF0ZShyZXF1ZXN0LmJvZHkpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9wYXNzd29yZENoZWNrJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkuY2hlY2tQYXNzd29yZChyZXF1ZXN0LmJvZHkubG9naW5OYW1lLCByZXF1ZXN0LmJvZHkucGFzc3dvcmQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS91c2VyLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gIC8vICAgdHJ5IHtcclxuICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmdldChyZXF1ZXN0LnBhcmFtcy5pZCk7XHJcbiAgLy8gICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgLy8gICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH0pO1xyXG5cclxuICByb3V0ZXIuZ2V0KCcvYXBpL3VzZXIvOmxvZ2luTmFtZScsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmdldEJ5RW1haWwocmVxdWVzdC5wYXJhbXMubG9naW5OYW1lKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5kZWxldGUoJy9hcGkvdXNlci9kZWxldGUvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucmVtb3ZlVXNlckJ5SWQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKCdVc2VyIHdpdGggaWQ6ICcgKyByZXN1bHQgKyAnIGRlbGV0ZWQuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByb3V0ZXIuZGVsZXRlKCcvYXBpL3VzZXIvbG9nb3V0Lzp1c2VySWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5yZW1vdmVIYXNoU2Vzc2lvbihyZXF1ZXN0LnBhcmFtcy51c2VySWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9zZW5kRW1haWwnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5zZW5kRW1haWwocmVxdWVzdC5ib2R5LmxvZ2luTmFtZSk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckVuZHBvaW50O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.endpoint.js"
      ],
      "names": [
        "admin",
        "require",
        "userEndpoint",
        "router",
        "get",
        "request",
        "response",
        "next",
        "result",
        "getUserManager",
        "query",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "post",
        "authenticate",
        "body",
        "login",
        "password",
        "createNewOrUpdate",
        "checkPassword",
        "loginName",
        "getByEmail",
        "params",
        "delete",
        "removeUserById",
        "id",
        "removeHashSession",
        "userId",
        "sendEmail"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n// import auth from '../middleware/auth';\r\nconst admin = require('../middleware/admin');\r\nimport auth from '../middleware/auth';\r\n\r\nconst userEndpoint = (router) => {\r\n  router.get('/api/users', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).query();\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/auth', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).authenticate(request.body.login, request.body.password);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  // router.delete('/api/user/logout', async (request, response, next) => {\r\n  //   try {\r\n  //     let result = await business(request).getUserManager(request).removeHashSession(request.body.userId);\r\n  //     response.status(200).send('Access token for user with id: ' + result + ' deleted.');\r\n  //   } catch (error) {\r\n  //     applicationException.errorHandler(error, response);\r\n  //   }\r\n  // })\r\n\r\n  router.post('/api/user/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/passwordCheck', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).checkPassword(request.body.loginName, request.body.password);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  // router.get('/api/user/:id', async (request, response, next) => {\r\n  //   try {\r\n  //     let result = await business(request).getUserManager(request).get(request.params.id);\r\n  //     response.status(200).send(result);\r\n  //   } catch (error) {\r\n  //     applicationException.errorHandler(error, response);\r\n  //   }\r\n  // });\r\n\r\n  router.get('/api/user/:loginName', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).getByEmail(request.params.loginName);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.delete('/api/user/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).removeUserById(request.params.id);\r\n      response.status(200).send('User with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.delete('/api/user/logout/:userId', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).removeHashSession(request.params.userId);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/sendEmail', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).sendEmail(request.body.loginName);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n};\r\n\r\nexport default userEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1610281010657
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\business.container.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "business.container.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _medicine = _interopRequireDefault(require(\"./medicine.manager\"));\n\nvar _user = _interopRequireDefault(require(\"./user.manager\"));\n\nvar _equipment = _interopRequireDefault(require(\"./equipment.manager\"));\n\nvar _order = _interopRequireDefault(require(\"./order.manager\"));\n\nvar _prescription = _interopRequireDefault(require(\"./prescription.manager\"));\n\nvar _form = _interopRequireDefault(require(\"./form.manager\"));\n\nfunction getContext(request) {\n  return {\n    user: request && request.user\n  };\n}\n\nfunction getter(manager, request) {\n  return function (request) {\n    return manager.create(getContext(request), this);\n  };\n}\n\nconst createBusinessContainer = (request, config) => {\n  return {\n    getMedicineManager: getter(_medicine.default, request),\n    getUserManager: getter(_user.default, request),\n    getEquipmentManager: getter(_equipment.default, request),\n    getOrderManager: getter(_order.default, request),\n    getPrescriptionManager: getter(_prescription.default, request),\n    getFormManager: getter(_form.default, request)\n  };\n};\n\nvar _default = createBusinessContainer;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2luZXNzLmNvbnRhaW5lci5qcyJdLCJuYW1lcyI6WyJnZXRDb250ZXh0IiwicmVxdWVzdCIsInVzZXIiLCJnZXR0ZXIiLCJtYW5hZ2VyIiwiY3JlYXRlIiwiY3JlYXRlQnVzaW5lc3NDb250YWluZXIiLCJjb25maWciLCJnZXRNZWRpY2luZU1hbmFnZXIiLCJtZWRpY2luZU1hbmFnZXIiLCJnZXRVc2VyTWFuYWdlciIsInVzZXJNYW5hZ2VyIiwiZ2V0RXF1aXBtZW50TWFuYWdlciIsImVxdWlwbWVudE1hbmFnZXIiLCJnZXRPcmRlck1hbmFnZXIiLCJvcmRlck1hbmFnZXIiLCJnZXRQcmVzY3JpcHRpb25NYW5hZ2VyIiwicHJlc2NyaXB0aW9uTWFuYWdlciIsImdldEZvcm1NYW5hZ2VyIiwiZm9ybU1hbmFnZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxTQUFTQSxVQUFULENBQW9CQyxPQUFwQixFQUE2QjtBQUMzQixTQUFPO0FBQUVDLElBQUFBLElBQUksRUFBRUQsT0FBTyxJQUFJQSxPQUFPLENBQUNDO0FBQTNCLEdBQVA7QUFDRDs7QUFFRCxTQUFTQyxNQUFULENBQWdCQyxPQUFoQixFQUF5QkgsT0FBekIsRUFBa0M7QUFDaEMsU0FBTyxVQUFVQSxPQUFWLEVBQW1CO0FBQ3hCLFdBQU9HLE9BQU8sQ0FBQ0MsTUFBUixDQUFlTCxVQUFVLENBQUNDLE9BQUQsQ0FBekIsRUFBb0MsSUFBcEMsQ0FBUDtBQUNELEdBRkQ7QUFHRDs7QUFFRCxNQUFNSyx1QkFBdUIsR0FBRyxDQUFDTCxPQUFELEVBQVVNLE1BQVYsS0FBcUI7QUFFbkQsU0FBTztBQUNMQyxJQUFBQSxrQkFBa0IsRUFBRUwsTUFBTSxDQUFDTSxpQkFBRCxFQUFrQlIsT0FBbEIsQ0FEckI7QUFFTFMsSUFBQUEsY0FBYyxFQUFFUCxNQUFNLENBQUNRLGFBQUQsRUFBY1YsT0FBZCxDQUZqQjtBQUdMVyxJQUFBQSxtQkFBbUIsRUFBRVQsTUFBTSxDQUFDVSxrQkFBRCxFQUFtQlosT0FBbkIsQ0FIdEI7QUFJTGEsSUFBQUEsZUFBZSxFQUFFWCxNQUFNLENBQUNZLGNBQUQsRUFBZWQsT0FBZixDQUpsQjtBQUtMZSxJQUFBQSxzQkFBc0IsRUFBRWIsTUFBTSxDQUFDYyxxQkFBRCxFQUFzQmhCLE9BQXRCLENBTHpCO0FBTUxpQixJQUFBQSxjQUFjLEVBQUVmLE1BQU0sQ0FBQ2dCLGFBQUQsRUFBY2xCLE9BQWQ7QUFOakIsR0FBUDtBQVFELENBVkQ7O2VBWWVLLHVCIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxidXNpbmVzc1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1lZGljaW5lTWFuYWdlciBmcm9tICcuL21lZGljaW5lLm1hbmFnZXInXHJcbmltcG9ydCB1c2VyTWFuYWdlciBmcm9tICcuL3VzZXIubWFuYWdlcidcclxuaW1wb3J0IGVxdWlwbWVudE1hbmFnZXIgZnJvbSAnLi9lcXVpcG1lbnQubWFuYWdlcic7XHJcbmltcG9ydCBvcmRlck1hbmFnZXIgZnJvbSAnLi9vcmRlci5tYW5hZ2VyJztcclxuaW1wb3J0IHByZXNjcmlwdGlvbk1hbmFnZXIgZnJvbSAnLi9wcmVzY3JpcHRpb24ubWFuYWdlcic7XHJcbmltcG9ydCBmb3JtTWFuYWdlciBmcm9tICcuL2Zvcm0ubWFuYWdlcic7XHJcblxyXG5mdW5jdGlvbiBnZXRDb250ZXh0KHJlcXVlc3QpIHtcclxuICByZXR1cm4geyB1c2VyOiByZXF1ZXN0ICYmIHJlcXVlc3QudXNlciB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXR0ZXIobWFuYWdlciwgcmVxdWVzdCkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgcmV0dXJuIG1hbmFnZXIuY3JlYXRlKGdldENvbnRleHQocmVxdWVzdCksIHRoaXMpO1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUJ1c2luZXNzQ29udGFpbmVyID0gKHJlcXVlc3QsIGNvbmZpZykgPT4ge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0TWVkaWNpbmVNYW5hZ2VyOiBnZXR0ZXIobWVkaWNpbmVNYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldFVzZXJNYW5hZ2VyOiBnZXR0ZXIodXNlck1hbmFnZXIsIHJlcXVlc3QpLFxyXG4gICAgZ2V0RXF1aXBtZW50TWFuYWdlcjogZ2V0dGVyKGVxdWlwbWVudE1hbmFnZXIsIHJlcXVlc3QpLFxyXG4gICAgZ2V0T3JkZXJNYW5hZ2VyOiBnZXR0ZXIob3JkZXJNYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldFByZXNjcmlwdGlvbk1hbmFnZXI6IGdldHRlcihwcmVzY3JpcHRpb25NYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldEZvcm1NYW5hZ2VyOiBnZXR0ZXIoZm9ybU1hbmFnZXIsIHJlcXVlc3QpXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJ1c2luZXNzQ29udGFpbmVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "business.container.js"
      ],
      "names": [
        "getContext",
        "request",
        "user",
        "getter",
        "manager",
        "create",
        "createBusinessContainer",
        "config",
        "getMedicineManager",
        "medicineManager",
        "getUserManager",
        "userManager",
        "getEquipmentManager",
        "equipmentManager",
        "getOrderManager",
        "orderManager",
        "getPrescriptionManager",
        "prescriptionManager",
        "getFormManager",
        "formManager"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,SAASA,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,SAAO;AAAEC,IAAAA,IAAI,EAAED,OAAO,IAAIA,OAAO,CAACC;AAA3B,GAAP;AACD;;AAED,SAASC,MAAT,CAAgBC,OAAhB,EAAyBH,OAAzB,EAAkC;AAChC,SAAO,UAAUA,OAAV,EAAmB;AACxB,WAAOG,OAAO,CAACC,MAAR,CAAeL,UAAU,CAACC,OAAD,CAAzB,EAAoC,IAApC,CAAP;AACD,GAFD;AAGD;;AAED,MAAMK,uBAAuB,GAAG,CAACL,OAAD,EAAUM,MAAV,KAAqB;AAEnD,SAAO;AACLC,IAAAA,kBAAkB,EAAEL,MAAM,CAACM,iBAAD,EAAkBR,OAAlB,CADrB;AAELS,IAAAA,cAAc,EAAEP,MAAM,CAACQ,aAAD,EAAcV,OAAd,CAFjB;AAGLW,IAAAA,mBAAmB,EAAET,MAAM,CAACU,kBAAD,EAAmBZ,OAAnB,CAHtB;AAILa,IAAAA,eAAe,EAAEX,MAAM,CAACY,cAAD,EAAed,OAAf,CAJlB;AAKLe,IAAAA,sBAAsB,EAAEb,MAAM,CAACc,qBAAD,EAAsBhB,OAAtB,CALzB;AAMLiB,IAAAA,cAAc,EAAEf,MAAM,CAACgB,aAAD,EAAclB,OAAd;AANjB,GAAP;AAQD,CAVD;;eAYeK,uB",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport medicineManager from './medicine.manager'\r\nimport userManager from './user.manager'\r\nimport equipmentManager from './equipment.manager';\r\nimport orderManager from './order.manager';\r\nimport prescriptionManager from './prescription.manager';\r\nimport formManager from './form.manager';\r\n\r\nfunction getContext(request) {\r\n  return { user: request && request.user };\r\n}\r\n\r\nfunction getter(manager, request) {\r\n  return function (request) {\r\n    return manager.create(getContext(request), this);\r\n  };\r\n}\r\n\r\nconst createBusinessContainer = (request, config) => {\r\n\r\n  return {\r\n    getMedicineManager: getter(medicineManager, request),\r\n    getUserManager: getter(userManager, request),\r\n    getEquipmentManager: getter(equipmentManager, request),\r\n    getOrderManager: getter(orderManager, request),\r\n    getPrescriptionManager: getter(prescriptionManager, request),\r\n    getFormManager: getter(formManager, request)\r\n  };\r\n};\r\n\r\nexport default createBusinessContainer;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611670168248
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\medicine.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\medicine.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\medicine.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\medicine.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "medicine.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _medicineDAO = _interopRequireDefault(require(\"../DAO/medicineDAO\"));\n\nvar _userDAO = _interopRequireDefault(require(\"../DAO/userDAO\"));\n\nfunction create(context) {\n  async function query() {\n    let result = _medicineDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function get(id) {\n    let result = await _medicineDAO.default.get(id);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function createNewOrUpdate(data) {\n    let result = await _medicineDAO.default.createNewOrUpdate(data);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function removeMedicineById(id) {\n    return await _medicineDAO.default.removeById(id);\n  }\n\n  return {\n    query: query,\n    get: get,\n    removeMedicineById: removeMedicineById,\n    createNewOrUpdate: createNewOrUpdate\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZGljaW5lLm1hbmFnZXIuanMiXSwibmFtZXMiOlsiY3JlYXRlIiwiY29udGV4dCIsInF1ZXJ5IiwicmVzdWx0IiwibWVkaWNpbmVEQU8iLCJnZXQiLCJpZCIsImNyZWF0ZU5ld09yVXBkYXRlIiwiZGF0YSIsInJlbW92ZU1lZGljaW5lQnlJZCIsInJlbW92ZUJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxPQUFoQixFQUF5QjtBQUN2QixpQkFBZUMsS0FBZixHQUF1QjtBQUNyQixRQUFJQyxNQUFNLEdBQUdDLHFCQUFZRixLQUFaLEVBQWI7O0FBQ0EsUUFBSUMsTUFBSixFQUFZO0FBQ1YsYUFBT0EsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQsaUJBQWVFLEdBQWYsQ0FBbUJDLEVBQW5CLEVBQXVCO0FBQ3JCLFFBQUlILE1BQU0sR0FBRyxNQUFNQyxxQkFBWUMsR0FBWixDQUFnQkMsRUFBaEIsQ0FBbkI7O0FBQ0EsUUFBSUgsTUFBSixFQUFZO0FBQ1YsYUFBT0EsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQsaUJBQWVJLGlCQUFmLENBQWlDQyxJQUFqQyxFQUF1QztBQUNyQyxRQUFJTCxNQUFNLEdBQUcsTUFBTUMscUJBQVlHLGlCQUFaLENBQThCQyxJQUE5QixDQUFuQjs7QUFDQSxRQUFJTCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxpQkFBZU0sa0JBQWYsQ0FBa0NILEVBQWxDLEVBQXNDO0FBQ3BDLFdBQU8sTUFBTUYscUJBQVlNLFVBQVosQ0FBdUJKLEVBQXZCLENBQWI7QUFDRDs7QUFFRCxTQUFPO0FBQ0xKLElBQUFBLEtBQUssRUFBRUEsS0FERjtBQUVMRyxJQUFBQSxHQUFHLEVBQUVBLEdBRkE7QUFHTEksSUFBQUEsa0JBQWtCLEVBQUVBLGtCQUhmO0FBSUxGLElBQUFBLGlCQUFpQixFQUFFQTtBQUpkLEdBQVA7QUFNRDs7ZUFFYztBQUNiUCxFQUFBQSxNQUFNLEVBQUVBO0FBREssQyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcYnVzaW5lc3NcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBtZWRpY2luZURBTyBmcm9tIFwiLi4vREFPL21lZGljaW5lREFPXCI7XHJcbmltcG9ydCBVc2VyREFPIGZyb20gXCIuLi9EQU8vdXNlckRBT1wiO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlKGNvbnRleHQpIHtcclxuICBhc3luYyBmdW5jdGlvbiBxdWVyeSgpIHtcclxuICAgIGxldCByZXN1bHQgPSBtZWRpY2luZURBTy5xdWVyeSgpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0KGlkKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbWVkaWNpbmVEQU8uZ2V0KGlkKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5ld09yVXBkYXRlKGRhdGEpIHtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBtZWRpY2luZURBTy5jcmVhdGVOZXdPclVwZGF0ZShkYXRhKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZU1lZGljaW5lQnlJZChpZCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IG1lZGljaW5lREFPLnJlbW92ZUJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHF1ZXJ5OiBxdWVyeSxcclxuICAgIGdldDogZ2V0LFxyXG4gICAgcmVtb3ZlTWVkaWNpbmVCeUlkOiByZW1vdmVNZWRpY2luZUJ5SWQsXHJcbiAgICBjcmVhdGVOZXdPclVwZGF0ZTogY3JlYXRlTmV3T3JVcGRhdGUsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNyZWF0ZTogY3JlYXRlXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "medicine.manager.js"
      ],
      "names": [
        "create",
        "context",
        "query",
        "result",
        "medicineDAO",
        "get",
        "id",
        "createNewOrUpdate",
        "data",
        "removeMedicineById",
        "removeById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,iBAAeC,KAAf,GAAuB;AACrB,QAAIC,MAAM,GAAGC,qBAAYF,KAAZ,EAAb;;AACA,QAAIC,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeE,GAAf,CAAmBC,EAAnB,EAAuB;AACrB,QAAIH,MAAM,GAAG,MAAMC,qBAAYC,GAAZ,CAAgBC,EAAhB,CAAnB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeI,iBAAf,CAAiCC,IAAjC,EAAuC;AACrC,QAAIL,MAAM,GAAG,MAAMC,qBAAYG,iBAAZ,CAA8BC,IAA9B,CAAnB;;AACA,QAAIL,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeM,kBAAf,CAAkCH,EAAlC,EAAsC;AACpC,WAAO,MAAMF,qBAAYM,UAAZ,CAAuBJ,EAAvB,CAAb;AACD;;AAED,SAAO;AACLJ,IAAAA,KAAK,EAAEA,KADF;AAELG,IAAAA,GAAG,EAAEA,GAFA;AAGLI,IAAAA,kBAAkB,EAAEA,kBAHf;AAILF,IAAAA,iBAAiB,EAAEA;AAJd,GAAP;AAMD;;eAEc;AACbP,EAAAA,MAAM,EAAEA;AADK,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport medicineDAO from \"../DAO/medicineDAO\";\r\nimport UserDAO from \"../DAO/userDAO\";\r\n\r\nfunction create(context) {\r\n  async function query() {\r\n    let result = medicineDAO.query();\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function get(id) {\r\n    let result = await medicineDAO.get(id);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function createNewOrUpdate(data) {\r\n    let result = await medicineDAO.createNewOrUpdate(data);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function removeMedicineById(id) {\r\n    return await medicineDAO.removeById(id);\r\n  }\r\n\r\n  return {\r\n    query: query,\r\n    get: get,\r\n    removeMedicineById: removeMedicineById,\r\n    createNewOrUpdate: createNewOrUpdate,\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609674683173
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\medicineDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\medicineDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\medicineDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\medicineDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "medicineDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst medicineSchema = new _mongoose.default.Schema({\n  name: {\n    type: String\n  },\n  price: {\n    type: String\n  },\n  imageURL: {\n    type: String\n  },\n  reimbursed: {\n    type: Boolean\n  },\n  prescription: {\n    type: Boolean\n  },\n  description: {\n    type: String\n  }\n}, {\n  collection: 'medicines'\n});\nmedicineSchema.plugin(_mongooseUniqueValidator.default);\n\nconst MedicineModel = _mongoose.default.model('medicines', medicineSchema);\n\nfunction createNewOrUpdate(order) {\n  return Promise.resolve().then(() => {\n    if (!order.id) {\n      return new MedicineModel(order).save().then(result => {\n        if (result) {\n          return (0, _mongoConverter.default)(result);\n        }\n      });\n    } else {\n      return MedicineModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), {\n        new: true\n      });\n    }\n  }).catch(error => {\n    if ('ValidationError' === error.name) {\n      error = error.errors[Object.keys(error.errors)[0]];\n      throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n    }\n\n    throw error;\n  });\n}\n\nasync function query() {\n  const result = await MedicineModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n}\n\nasync function get(id) {\n  const result = await MedicineModel.findOne({\n    _id: id\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Medicine not found');\n}\n\nasync function removeById(id) {\n  return await MedicineModel.findByIdAndRemove(id);\n}\n\nvar _default = {\n  createNewOrUpdate: createNewOrUpdate,\n  removeById: removeById,\n  query: query,\n  get: get,\n  model: MedicineModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZGljaW5lREFPLmpzIl0sIm5hbWVzIjpbIm1lZGljaW5lU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInByaWNlIiwiaW1hZ2VVUkwiLCJyZWltYnVyc2VkIiwiQm9vbGVhbiIsInByZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiY29sbGVjdGlvbiIsInBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIk1lZGljaW5lTW9kZWwiLCJtb2RlbCIsImNyZWF0ZU5ld09yVXBkYXRlIiwib3JkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJpZCIsInNhdmUiLCJyZXN1bHQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl8iLCJvbWl0IiwibmV3IiwiY2F0Y2giLCJlcnJvciIsImVycm9ycyIsIk9iamVjdCIsImtleXMiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsIkJBRF9SRVFVRVNUIiwibWVzc2FnZSIsInF1ZXJ5IiwiZmluZCIsImdldCIsImZpbmRPbmUiLCJfaWQiLCJOT1RfRk9VTkQiLCJyZW1vdmVCeUlkIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLGNBQWMsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsSUFBSSxFQUFFO0FBQUNDLElBQUFBLElBQUksRUFBRUM7QUFBUCxHQURtQztBQUV6Q0MsRUFBQUEsS0FBSyxFQUFFO0FBQUNGLElBQUFBLElBQUksRUFBRUM7QUFBUCxHQUZrQztBQUd6Q0UsRUFBQUEsUUFBUSxFQUFFO0FBQUNILElBQUFBLElBQUksRUFBRUM7QUFBUCxHQUgrQjtBQUl6Q0csRUFBQUEsVUFBVSxFQUFFO0FBQUNKLElBQUFBLElBQUksRUFBRUs7QUFBUCxHQUo2QjtBQUt6Q0MsRUFBQUEsWUFBWSxFQUFFO0FBQUNOLElBQUFBLElBQUksRUFBRUs7QUFBUCxHQUwyQjtBQU16Q0UsRUFBQUEsV0FBVyxFQUFFO0FBQUNQLElBQUFBLElBQUksRUFBRUM7QUFBUDtBQU40QixDQUFwQixFQU9wQjtBQUNETyxFQUFBQSxVQUFVLEVBQUU7QUFEWCxDQVBvQixDQUF2QjtBQVVBWixjQUFjLENBQUNhLE1BQWYsQ0FBc0JDLGdDQUF0Qjs7QUFFQSxNQUFNQyxhQUFhLEdBQUdkLGtCQUFTZSxLQUFULENBQWUsV0FBZixFQUE0QmhCLGNBQTVCLENBQXRCOztBQUVBLFNBQVNpQixpQkFBVCxDQUEyQkMsS0FBM0IsRUFBa0M7QUFDaEMsU0FBT0MsT0FBTyxDQUFDQyxPQUFSLEdBQWtCQyxJQUFsQixDQUF1QixNQUFNO0FBQ2xDLFFBQUksQ0FBQ0gsS0FBSyxDQUFDSSxFQUFYLEVBQWU7QUFDYixhQUFPLElBQUlQLGFBQUosQ0FBa0JHLEtBQWxCLEVBQXlCSyxJQUF6QixHQUFnQ0YsSUFBaEMsQ0FBcUNHLE1BQU0sSUFBSTtBQUNwRCxZQUFJQSxNQUFKLEVBQVk7QUFDVixpQkFBTyw2QkFBZUEsTUFBZixDQUFQO0FBQ0Q7QUFDRixPQUpNLENBQVA7QUFLRCxLQU5ELE1BTU87QUFDTCxhQUFPVCxhQUFhLENBQUNVLGlCQUFkLENBQWdDUCxLQUFLLENBQUNJLEVBQXRDLEVBQTBDSSxDQUFDLENBQUNDLElBQUYsQ0FBT1QsS0FBUCxFQUFjLElBQWQsQ0FBMUMsRUFBK0Q7QUFBRVUsUUFBQUEsR0FBRyxFQUFFO0FBQVAsT0FBL0QsQ0FBUDtBQUNEO0FBQ0YsR0FWTSxFQVVKQyxLQVZJLENBVUVDLEtBQUssSUFBSTtBQUNoQixRQUFJLHNCQUFzQkEsS0FBSyxDQUFDM0IsSUFBaEMsRUFBc0M7QUFDcEMyQixNQUFBQSxLQUFLLEdBQUdBLEtBQUssQ0FBQ0MsTUFBTixDQUFhQyxNQUFNLENBQUNDLElBQVAsQ0FBWUgsS0FBSyxDQUFDQyxNQUFsQixFQUEwQixDQUExQixDQUFiLENBQVI7QUFDQSxZQUFNRyw4QkFBcUJOLEdBQXJCLENBQXlCTSw4QkFBcUJDLFdBQTlDLEVBQTJETCxLQUFLLENBQUNNLE9BQWpFLENBQU47QUFDRDs7QUFDRCxVQUFNTixLQUFOO0FBQ0QsR0FoQk0sQ0FBUDtBQWlCRDs7QUFFRCxlQUFlTyxLQUFmLEdBQXVCO0FBQ3JCLFFBQU1iLE1BQU0sR0FBRyxNQUFNVCxhQUFhLENBQUN1QixJQUFkLENBQW1CLEVBQW5CLENBQXJCOztBQUNBLE1BQUlkLE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBZWUsR0FBZixDQUFtQmpCLEVBQW5CLEVBQXVCO0FBQ3JCLFFBQU1FLE1BQU0sR0FBRyxNQUFNVCxhQUFhLENBQUN5QixPQUFkLENBQXNCO0FBQUVDLElBQUFBLEdBQUcsRUFBRW5CO0FBQVAsR0FBdEIsQ0FBckI7O0FBQ0EsTUFBSUUsTUFBSixFQUFZO0FBQ1YsV0FBTyw2QkFBZUEsTUFBZixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTVUsOEJBQXFCTixHQUFyQixDQUF5Qk0sOEJBQXFCUSxTQUE5QyxFQUF5RCxvQkFBekQsQ0FBTjtBQUNEOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJyQixFQUExQixFQUE4QjtBQUM1QixTQUFPLE1BQU1QLGFBQWEsQ0FBQzZCLGlCQUFkLENBQWdDdEIsRUFBaEMsQ0FBYjtBQUNEOztlQUVjO0FBQ2JMLEVBQUFBLGlCQUFpQixFQUFFQSxpQkFETjtBQUViMEIsRUFBQUEsVUFBVSxFQUFFQSxVQUZDO0FBR2JOLEVBQUFBLEtBQUssRUFBRUEsS0FITTtBQUliRSxFQUFBQSxHQUFHLEVBQUVBLEdBSlE7QUFLYnZCLEVBQUFBLEtBQUssRUFBRUQ7QUFMTSxDIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxEQU9cXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XHJcbmltcG9ydCBtb25nb0NvbnZlcnRlciBmcm9tICcuLi9zZXJ2aWNlL21vbmdvQ29udmVydGVyJztcclxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkV4Y2VwdGlvbiBmcm9tIFwiLi4vc2VydmljZS9hcHBsaWNhdGlvbkV4Y2VwdGlvblwiO1xyXG5cclxuY29uc3QgbWVkaWNpbmVTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7dHlwZTogU3RyaW5nfSxcclxuICBwcmljZToge3R5cGU6IFN0cmluZ30sXHJcbiAgaW1hZ2VVUkw6IHt0eXBlOiBTdHJpbmd9LFxyXG4gIHJlaW1idXJzZWQ6IHt0eXBlOiBCb29sZWFufSxcclxuICBwcmVzY3JpcHRpb246IHt0eXBlOiBCb29sZWFufSxcclxuICBkZXNjcmlwdGlvbjoge3R5cGU6IFN0cmluZ30sXHJcbn0sIHtcclxuICBjb2xsZWN0aW9uOiAnbWVkaWNpbmVzJ1xyXG59KTtcclxubWVkaWNpbmVTY2hlbWEucGx1Z2luKHVuaXF1ZVZhbGlkYXRvcik7XHJcblxyXG5jb25zdCBNZWRpY2luZU1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ21lZGljaW5lcycsIG1lZGljaW5lU2NoZW1hKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld09yVXBkYXRlKG9yZGVyKSB7XHJcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgaWYgKCFvcmRlci5pZCkge1xyXG4gICAgICByZXR1cm4gbmV3IE1lZGljaW5lTW9kZWwob3JkZXIpLnNhdmUoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBNZWRpY2luZU1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKG9yZGVyLmlkLCBfLm9taXQob3JkZXIsICdpZCcpLCB7IG5ldzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICBpZiAoJ1ZhbGlkYXRpb25FcnJvcicgPT09IGVycm9yLm5hbWUpIHtcclxuICAgICAgZXJyb3IgPSBlcnJvci5lcnJvcnNbT2JqZWN0LmtleXMoZXJyb3IuZXJyb3JzKVswXV07XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5CQURfUkVRVUVTVCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcXVlcnkoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTWVkaWNpbmVNb2RlbC5maW5kKHt9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldChpZCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1lZGljaW5lTW9kZWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgfVxyXG4gIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdNZWRpY2luZSBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQnlJZChpZCkge1xyXG4gIHJldHVybiBhd2FpdCBNZWRpY2luZU1vZGVsLmZpbmRCeUlkQW5kUmVtb3ZlKGlkKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNyZWF0ZU5ld09yVXBkYXRlOiBjcmVhdGVOZXdPclVwZGF0ZSxcclxuICByZW1vdmVCeUlkOiByZW1vdmVCeUlkLFxyXG4gIHF1ZXJ5OiBxdWVyeSxcclxuICBnZXQ6IGdldCxcclxuICBtb2RlbDogTWVkaWNpbmVNb2RlbFxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "medicineDAO.js"
      ],
      "names": [
        "medicineSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "price",
        "imageURL",
        "reimbursed",
        "Boolean",
        "prescription",
        "description",
        "collection",
        "plugin",
        "uniqueValidator",
        "MedicineModel",
        "model",
        "createNewOrUpdate",
        "order",
        "Promise",
        "resolve",
        "then",
        "id",
        "save",
        "result",
        "findByIdAndUpdate",
        "_",
        "omit",
        "new",
        "catch",
        "error",
        "errors",
        "Object",
        "keys",
        "applicationException",
        "BAD_REQUEST",
        "message",
        "query",
        "find",
        "get",
        "findOne",
        "_id",
        "NOT_FOUND",
        "removeById",
        "findByIdAndRemove"
      ],
      "mappings": "AAAA;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,cAAc,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,IAAI,EAAE;AAACC,IAAAA,IAAI,EAAEC;AAAP,GADmC;AAEzCC,EAAAA,KAAK,EAAE;AAACF,IAAAA,IAAI,EAAEC;AAAP,GAFkC;AAGzCE,EAAAA,QAAQ,EAAE;AAACH,IAAAA,IAAI,EAAEC;AAAP,GAH+B;AAIzCG,EAAAA,UAAU,EAAE;AAACJ,IAAAA,IAAI,EAAEK;AAAP,GAJ6B;AAKzCC,EAAAA,YAAY,EAAE;AAACN,IAAAA,IAAI,EAAEK;AAAP,GAL2B;AAMzCE,EAAAA,WAAW,EAAE;AAACP,IAAAA,IAAI,EAAEC;AAAP;AAN4B,CAApB,EAOpB;AACDO,EAAAA,UAAU,EAAE;AADX,CAPoB,CAAvB;AAUAZ,cAAc,CAACa,MAAf,CAAsBC,gCAAtB;;AAEA,MAAMC,aAAa,GAAGd,kBAASe,KAAT,CAAe,WAAf,EAA4BhB,cAA5B,CAAtB;;AAEA,SAASiB,iBAAT,CAA2BC,KAA3B,EAAkC;AAChC,SAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,MAAM;AAClC,QAAI,CAACH,KAAK,CAACI,EAAX,EAAe;AACb,aAAO,IAAIP,aAAJ,CAAkBG,KAAlB,EAAyBK,IAAzB,GAAgCF,IAAhC,CAAqCG,MAAM,IAAI;AACpD,YAAIA,MAAJ,EAAY;AACV,iBAAO,6BAAeA,MAAf,CAAP;AACD;AACF,OAJM,CAAP;AAKD,KAND,MAMO;AACL,aAAOT,aAAa,CAACU,iBAAd,CAAgCP,KAAK,CAACI,EAAtC,EAA0CI,CAAC,CAACC,IAAF,CAAOT,KAAP,EAAc,IAAd,CAA1C,EAA+D;AAAEU,QAAAA,GAAG,EAAE;AAAP,OAA/D,CAAP;AACD;AACF,GAVM,EAUJC,KAVI,CAUEC,KAAK,IAAI;AAChB,QAAI,sBAAsBA,KAAK,CAAC3B,IAAhC,EAAsC;AACpC2B,MAAAA,KAAK,GAAGA,KAAK,CAACC,MAAN,CAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,MAAlB,EAA0B,CAA1B,CAAb,CAAR;AACA,YAAMG,8BAAqBN,GAArB,CAAyBM,8BAAqBC,WAA9C,EAA2DL,KAAK,CAACM,OAAjE,CAAN;AACD;;AACD,UAAMN,KAAN;AACD,GAhBM,CAAP;AAiBD;;AAED,eAAeO,KAAf,GAAuB;AACrB,QAAMb,MAAM,GAAG,MAAMT,aAAa,CAACuB,IAAd,CAAmB,EAAnB,CAArB;;AACA,MAAId,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;AACF;;AAED,eAAee,GAAf,CAAmBjB,EAAnB,EAAuB;AACrB,QAAME,MAAM,GAAG,MAAMT,aAAa,CAACyB,OAAd,CAAsB;AAAEC,IAAAA,GAAG,EAAEnB;AAAP,GAAtB,CAArB;;AACA,MAAIE,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;;AACD,QAAMU,8BAAqBN,GAArB,CAAyBM,8BAAqBQ,SAA9C,EAAyD,oBAAzD,CAAN;AACD;;AAED,eAAeC,UAAf,CAA0BrB,EAA1B,EAA8B;AAC5B,SAAO,MAAMP,aAAa,CAAC6B,iBAAd,CAAgCtB,EAAhC,CAAb;AACD;;eAEc;AACbL,EAAAA,iBAAiB,EAAEA,iBADN;AAEb0B,EAAAA,UAAU,EAAEA,UAFC;AAGbN,EAAAA,KAAK,EAAEA,KAHM;AAIbE,EAAAA,GAAG,EAAEA,GAJQ;AAKbvB,EAAAA,KAAK,EAAED;AALM,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport * as _ from \"lodash\";\r\nimport applicationException from \"../service/applicationException\";\r\n\r\nconst medicineSchema = new mongoose.Schema({\r\n  name: {type: String},\r\n  price: {type: String},\r\n  imageURL: {type: String},\r\n  reimbursed: {type: Boolean},\r\n  prescription: {type: Boolean},\r\n  description: {type: String},\r\n}, {\r\n  collection: 'medicines'\r\n});\r\nmedicineSchema.plugin(uniqueValidator);\r\n\r\nconst MedicineModel = mongoose.model('medicines', medicineSchema);\r\n\r\nfunction createNewOrUpdate(order) {\r\n  return Promise.resolve().then(() => {\r\n    if (!order.id) {\r\n      return new MedicineModel(order).save().then(result => {\r\n        if (result) {\r\n          return mongoConverter(result);\r\n        }\r\n      });\r\n    } else {\r\n      return MedicineModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), { new: true });\r\n    }\r\n  }).catch(error => {\r\n    if ('ValidationError' === error.name) {\r\n      error = error.errors[Object.keys(error.errors)[0]];\r\n      throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n    }\r\n    throw error;\r\n  });\r\n}\r\n\r\nasync function query() {\r\n  const result = await MedicineModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\nasync function get(id) {\r\n  const result = await MedicineModel.findOne({ _id: id });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Medicine not found');\r\n}\r\n\r\nasync function removeById(id) {\r\n  return await MedicineModel.findByIdAndRemove(id);\r\n}\r\n\r\nexport default {\r\n  createNewOrUpdate: createNewOrUpdate,\r\n  removeById: removeById,\r\n  query: query,\r\n  get: get,\r\n  model: MedicineModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609674683179
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\mongoConverter.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\mongoConverter.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\mongoConverter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\mongoConverter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
        "sourceFileName": "mongoConverter.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nfunction convert(data) {\n  if (Array.isArray(data)) {\n    return _.map(data, function (elem) {\n      return convert(elem);\n    });\n  }\n\n  data = data.toObject({\n    getters: true,\n    versionKey: false\n  });\n  delete data._id;\n  return data;\n}\n\nvar _default = convert;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvQ29udmVydGVyLmpzIl0sIm5hbWVzIjpbImNvbnZlcnQiLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwiXyIsIm1hcCIsImVsZW0iLCJ0b09iamVjdCIsImdldHRlcnMiLCJ2ZXJzaW9uS2V5IiwiX2lkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FBRUE7O0FBRUEsU0FBU0EsT0FBVCxDQUFpQkMsSUFBakIsRUFBdUI7QUFDckIsTUFBSUMsS0FBSyxDQUFDQyxPQUFOLENBQWNGLElBQWQsQ0FBSixFQUF5QjtBQUN2QixXQUFPRyxDQUFDLENBQUNDLEdBQUYsQ0FBTUosSUFBTixFQUFZLFVBQVVLLElBQVYsRUFBZ0I7QUFDakMsYUFBT04sT0FBTyxDQUFDTSxJQUFELENBQWQ7QUFDRCxLQUZNLENBQVA7QUFHRDs7QUFDREwsRUFBQUEsSUFBSSxHQUFHQSxJQUFJLENBQUNNLFFBQUwsQ0FBYztBQUFDQyxJQUFBQSxPQUFPLEVBQUUsSUFBVjtBQUFnQkMsSUFBQUEsVUFBVSxFQUFFO0FBQTVCLEdBQWQsQ0FBUDtBQUNBLFNBQU9SLElBQUksQ0FBQ1MsR0FBWjtBQUNBLFNBQU9ULElBQVA7QUFDRDs7ZUFFY0QsTyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcc2VydmljZVxcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5cclxuZnVuY3Rpb24gY29udmVydChkYXRhKSB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgIHJldHVybiBfLm1hcChkYXRhLCBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICByZXR1cm4gY29udmVydChlbGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBkYXRhID0gZGF0YS50b09iamVjdCh7Z2V0dGVyczogdHJ1ZSwgdmVyc2lvbktleTogZmFsc2V9KTtcclxuICBkZWxldGUgZGF0YS5faWQ7XHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbnZlcnQ7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mongoConverter.js"
      ],
      "names": [
        "convert",
        "data",
        "Array",
        "isArray",
        "_",
        "map",
        "elem",
        "toObject",
        "getters",
        "versionKey",
        "_id"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AAEA,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,MAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAJ,EAAyB;AACvB,WAAOG,CAAC,CAACC,GAAF,CAAMJ,IAAN,EAAY,UAAUK,IAAV,EAAgB;AACjC,aAAON,OAAO,CAACM,IAAD,CAAd;AACD,KAFM,CAAP;AAGD;;AACDL,EAAAA,IAAI,GAAGA,IAAI,CAACM,QAAL,CAAc;AAACC,IAAAA,OAAO,EAAE,IAAV;AAAgBC,IAAAA,UAAU,EAAE;AAA5B,GAAd,CAAP;AACA,SAAOR,IAAI,CAACS,GAAZ;AACA,SAAOT,IAAP;AACD;;eAEcD,O",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport * as _ from 'lodash';\r\n\r\nfunction convert(data) {\r\n  if (Array.isArray(data)) {\r\n    return _.map(data, function (elem) {\r\n      return convert(elem);\r\n    });\r\n  }\r\n  data = data.toObject({getters: true, versionKey: false});\r\n  delete data._id;\r\n  return data;\r\n}\r\n\r\nexport default convert;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605025233440
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\applicationException.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\applicationException.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\applicationException.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\applicationException.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
        "sourceFileName": "applicationException.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction ApplicationException(error, message) {\n  this.error = error;\n  this.message = message;\n}\n\nvar _default = {\n  BAD_REQUEST: {\n    message: 'BAD_REQUEST',\n    code: 400\n  },\n  NOT_FOUND: {\n    message: 'NOT_FOUND',\n    code: 404\n  },\n  FORBIDDEN: {\n    message: 'FORBIDDEN',\n    code: 403\n  },\n  UNAUTHORIZED: {\n    message: 'UNAUTHORIZED',\n    code: 401\n  },\n  VALIDATION_FAILURE: {\n    message: 'VALIDATION_FAILURE',\n    code: 406\n  },\n  METHOD_NOT_ALLOWED: {\n    message: 'METHOD_NOT_ALLOWED',\n    code: 405\n  },\n  PRECONDITION_FAILED: {\n    message: 'PRECONDITION_FAILED',\n    code: 412\n  },\n  CONFLICT: {\n    message: 'CONFLICT',\n    code: 409\n  },\n  is: function (error, errorCode) {\n    return error instanceof ApplicationException && (null == errorCode || error.error === errorCode);\n  },\n  new: function (code, message) {\n    return new ApplicationException(code, message);\n  },\n  errorHandler: function (error, response) {\n    if (error instanceof ApplicationException) {\n      response.status(error.error.code).send(error.message || error.error.message);\n    } else {\n      console.error(error && error.stack || error);\n      response.sendStatus(500);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGxpY2F0aW9uRXhjZXB0aW9uLmpzIl0sIm5hbWVzIjpbIkFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiZXJyb3IiLCJtZXNzYWdlIiwiQkFEX1JFUVVFU1QiLCJjb2RlIiwiTk9UX0ZPVU5EIiwiRk9SQklEREVOIiwiVU5BVVRIT1JJWkVEIiwiVkFMSURBVElPTl9GQUlMVVJFIiwiTUVUSE9EX05PVF9BTExPV0VEIiwiUFJFQ09ORElUSU9OX0ZBSUxFRCIsIkNPTkZMSUNUIiwiaXMiLCJlcnJvckNvZGUiLCJuZXciLCJlcnJvckhhbmRsZXIiLCJyZXNwb25zZSIsInN0YXR1cyIsInNlbmQiLCJjb25zb2xlIiwic3RhY2siLCJzZW5kU3RhdHVzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBLFNBQVNBLG9CQUFULENBQThCQyxLQUE5QixFQUFxQ0MsT0FBckMsRUFBOEM7QUFDNUMsT0FBS0QsS0FBTCxHQUFhQSxLQUFiO0FBQ0EsT0FBS0MsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O2VBRWM7QUFDYkMsRUFBQUEsV0FBVyxFQUFFO0FBQUNELElBQUFBLE9BQU8sRUFBRSxhQUFWO0FBQXlCRSxJQUFBQSxJQUFJLEVBQUU7QUFBL0IsR0FEQTtBQUViQyxFQUFBQSxTQUFTLEVBQUU7QUFBQ0gsSUFBQUEsT0FBTyxFQUFFLFdBQVY7QUFBdUJFLElBQUFBLElBQUksRUFBRTtBQUE3QixHQUZFO0FBR2JFLEVBQUFBLFNBQVMsRUFBRTtBQUFDSixJQUFBQSxPQUFPLEVBQUUsV0FBVjtBQUF1QkUsSUFBQUEsSUFBSSxFQUFFO0FBQTdCLEdBSEU7QUFJYkcsRUFBQUEsWUFBWSxFQUFFO0FBQUNMLElBQUFBLE9BQU8sRUFBRSxjQUFWO0FBQTBCRSxJQUFBQSxJQUFJLEVBQUU7QUFBaEMsR0FKRDtBQUtiSSxFQUFBQSxrQkFBa0IsRUFBRTtBQUFDTixJQUFBQSxPQUFPLEVBQUUsb0JBQVY7QUFBZ0NFLElBQUFBLElBQUksRUFBRTtBQUF0QyxHQUxQO0FBTWJLLEVBQUFBLGtCQUFrQixFQUFFO0FBQUNQLElBQUFBLE9BQU8sRUFBRSxvQkFBVjtBQUFnQ0UsSUFBQUEsSUFBSSxFQUFFO0FBQXRDLEdBTlA7QUFPYk0sRUFBQUEsbUJBQW1CLEVBQUU7QUFBQ1IsSUFBQUEsT0FBTyxFQUFFLHFCQUFWO0FBQWlDRSxJQUFBQSxJQUFJLEVBQUU7QUFBdkMsR0FQUjtBQVFiTyxFQUFBQSxRQUFRLEVBQUU7QUFBQ1QsSUFBQUEsT0FBTyxFQUFFLFVBQVY7QUFBc0JFLElBQUFBLElBQUksRUFBRTtBQUE1QixHQVJHO0FBU2JRLEVBQUFBLEVBQUUsRUFBRSxVQUFVWCxLQUFWLEVBQWlCWSxTQUFqQixFQUE0QjtBQUM5QixXQUFPWixLQUFLLFlBQVlELG9CQUFqQixLQUEwQyxRQUFRYSxTQUFSLElBQXFCWixLQUFLLENBQUNBLEtBQU4sS0FBZ0JZLFNBQS9FLENBQVA7QUFDRCxHQVhZO0FBWWJDLEVBQUFBLEdBQUcsRUFBRSxVQUFVVixJQUFWLEVBQWdCRixPQUFoQixFQUF5QjtBQUM1QixXQUFPLElBQUlGLG9CQUFKLENBQXlCSSxJQUF6QixFQUErQkYsT0FBL0IsQ0FBUDtBQUNELEdBZFk7QUFlYmEsRUFBQUEsWUFBWSxFQUFFLFVBQVVkLEtBQVYsRUFBaUJlLFFBQWpCLEVBQTJCO0FBQ3ZDLFFBQUlmLEtBQUssWUFBWUQsb0JBQXJCLEVBQTJDO0FBQ3pDZ0IsTUFBQUEsUUFBUSxDQUFDQyxNQUFULENBQWdCaEIsS0FBSyxDQUFDQSxLQUFOLENBQVlHLElBQTVCLEVBQWtDYyxJQUFsQyxDQUF1Q2pCLEtBQUssQ0FBQ0MsT0FBTixJQUFpQkQsS0FBSyxDQUFDQSxLQUFOLENBQVlDLE9BQXBFO0FBQ0QsS0FGRCxNQUVPO0FBQ0xpQixNQUFBQSxPQUFPLENBQUNsQixLQUFSLENBQWNBLEtBQUssSUFBSUEsS0FBSyxDQUFDbUIsS0FBZixJQUF3Qm5CLEtBQXRDO0FBQ0FlLE1BQUFBLFFBQVEsQ0FBQ0ssVUFBVCxDQUFvQixHQUFwQjtBQUNEO0FBQ0Y7QUF0QlksQyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcc2VydmljZVxcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZnVuY3Rpb24gQXBwbGljYXRpb25FeGNlcHRpb24oZXJyb3IsIG1lc3NhZ2UpIHtcclxuICB0aGlzLmVycm9yID0gZXJyb3I7XHJcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIEJBRF9SRVFVRVNUOiB7bWVzc2FnZTogJ0JBRF9SRVFVRVNUJywgY29kZTogNDAwfSxcclxuICBOT1RfRk9VTkQ6IHttZXNzYWdlOiAnTk9UX0ZPVU5EJywgY29kZTogNDA0fSxcclxuICBGT1JCSURERU46IHttZXNzYWdlOiAnRk9SQklEREVOJywgY29kZTogNDAzfSxcclxuICBVTkFVVEhPUklaRUQ6IHttZXNzYWdlOiAnVU5BVVRIT1JJWkVEJywgY29kZTogNDAxfSxcclxuICBWQUxJREFUSU9OX0ZBSUxVUkU6IHttZXNzYWdlOiAnVkFMSURBVElPTl9GQUlMVVJFJywgY29kZTogNDA2fSxcclxuICBNRVRIT0RfTk9UX0FMTE9XRUQ6IHttZXNzYWdlOiAnTUVUSE9EX05PVF9BTExPV0VEJywgY29kZTogNDA1fSxcclxuICBQUkVDT05ESVRJT05fRkFJTEVEOiB7bWVzc2FnZTogJ1BSRUNPTkRJVElPTl9GQUlMRUQnLCBjb2RlOiA0MTJ9LFxyXG4gIENPTkZMSUNUOiB7bWVzc2FnZTogJ0NPTkZMSUNUJywgY29kZTogNDA5fSxcclxuICBpczogZnVuY3Rpb24gKGVycm9yLCBlcnJvckNvZGUpIHtcclxuICAgIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uRXhjZXB0aW9uICYmIChudWxsID09IGVycm9yQ29kZSB8fCBlcnJvci5lcnJvciA9PT0gZXJyb3JDb2RlKTtcclxuICB9LFxyXG4gIG5ldzogZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBuZXcgQXBwbGljYXRpb25FeGNlcHRpb24oY29kZSwgbWVzc2FnZSk7XHJcbiAgfSxcclxuICBlcnJvckhhbmRsZXI6IGZ1bmN0aW9uIChlcnJvciwgcmVzcG9uc2UpIHtcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uRXhjZXB0aW9uKSB7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cyhlcnJvci5lcnJvci5jb2RlKS5zZW5kKGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IuZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yICYmIGVycm9yLnN0YWNrIHx8IGVycm9yKTtcclxuICAgICAgcmVzcG9uc2Uuc2VuZFN0YXR1cyg1MDApO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "applicationException.js"
      ],
      "names": [
        "ApplicationException",
        "error",
        "message",
        "BAD_REQUEST",
        "code",
        "NOT_FOUND",
        "FORBIDDEN",
        "UNAUTHORIZED",
        "VALIDATION_FAILURE",
        "METHOD_NOT_ALLOWED",
        "PRECONDITION_FAILED",
        "CONFLICT",
        "is",
        "errorCode",
        "new",
        "errorHandler",
        "response",
        "status",
        "send",
        "console",
        "stack",
        "sendStatus"
      ],
      "mappings": "AAAA;;;;;;;AAEA,SAASA,oBAAT,CAA8BC,KAA9B,EAAqCC,OAArC,EAA8C;AAC5C,OAAKD,KAAL,GAAaA,KAAb;AACA,OAAKC,OAAL,GAAeA,OAAf;AACD;;eAEc;AACbC,EAAAA,WAAW,EAAE;AAACD,IAAAA,OAAO,EAAE,aAAV;AAAyBE,IAAAA,IAAI,EAAE;AAA/B,GADA;AAEbC,EAAAA,SAAS,EAAE;AAACH,IAAAA,OAAO,EAAE,WAAV;AAAuBE,IAAAA,IAAI,EAAE;AAA7B,GAFE;AAGbE,EAAAA,SAAS,EAAE;AAACJ,IAAAA,OAAO,EAAE,WAAV;AAAuBE,IAAAA,IAAI,EAAE;AAA7B,GAHE;AAIbG,EAAAA,YAAY,EAAE;AAACL,IAAAA,OAAO,EAAE,cAAV;AAA0BE,IAAAA,IAAI,EAAE;AAAhC,GAJD;AAKbI,EAAAA,kBAAkB,EAAE;AAACN,IAAAA,OAAO,EAAE,oBAAV;AAAgCE,IAAAA,IAAI,EAAE;AAAtC,GALP;AAMbK,EAAAA,kBAAkB,EAAE;AAACP,IAAAA,OAAO,EAAE,oBAAV;AAAgCE,IAAAA,IAAI,EAAE;AAAtC,GANP;AAObM,EAAAA,mBAAmB,EAAE;AAACR,IAAAA,OAAO,EAAE,qBAAV;AAAiCE,IAAAA,IAAI,EAAE;AAAvC,GAPR;AAQbO,EAAAA,QAAQ,EAAE;AAACT,IAAAA,OAAO,EAAE,UAAV;AAAsBE,IAAAA,IAAI,EAAE;AAA5B,GARG;AASbQ,EAAAA,EAAE,EAAE,UAAUX,KAAV,EAAiBY,SAAjB,EAA4B;AAC9B,WAAOZ,KAAK,YAAYD,oBAAjB,KAA0C,QAAQa,SAAR,IAAqBZ,KAAK,CAACA,KAAN,KAAgBY,SAA/E,CAAP;AACD,GAXY;AAYbC,EAAAA,GAAG,EAAE,UAAUV,IAAV,EAAgBF,OAAhB,EAAyB;AAC5B,WAAO,IAAIF,oBAAJ,CAAyBI,IAAzB,EAA+BF,OAA/B,CAAP;AACD,GAdY;AAeba,EAAAA,YAAY,EAAE,UAAUd,KAAV,EAAiBe,QAAjB,EAA2B;AACvC,QAAIf,KAAK,YAAYD,oBAArB,EAA2C;AACzCgB,MAAAA,QAAQ,CAACC,MAAT,CAAgBhB,KAAK,CAACA,KAAN,CAAYG,IAA5B,EAAkCc,IAAlC,CAAuCjB,KAAK,CAACC,OAAN,IAAiBD,KAAK,CAACA,KAAN,CAAYC,OAApE;AACD,KAFD,MAEO;AACLiB,MAAAA,OAAO,CAAClB,KAAR,CAAcA,KAAK,IAAIA,KAAK,CAACmB,KAAf,IAAwBnB,KAAtC;AACAe,MAAAA,QAAQ,CAACK,UAAT,CAAoB,GAApB;AACD;AACF;AAtBY,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nfunction ApplicationException(error, message) {\r\n  this.error = error;\r\n  this.message = message;\r\n}\r\n\r\nexport default {\r\n  BAD_REQUEST: {message: 'BAD_REQUEST', code: 400},\r\n  NOT_FOUND: {message: 'NOT_FOUND', code: 404},\r\n  FORBIDDEN: {message: 'FORBIDDEN', code: 403},\r\n  UNAUTHORIZED: {message: 'UNAUTHORIZED', code: 401},\r\n  VALIDATION_FAILURE: {message: 'VALIDATION_FAILURE', code: 406},\r\n  METHOD_NOT_ALLOWED: {message: 'METHOD_NOT_ALLOWED', code: 405},\r\n  PRECONDITION_FAILED: {message: 'PRECONDITION_FAILED', code: 412},\r\n  CONFLICT: {message: 'CONFLICT', code: 409},\r\n  is: function (error, errorCode) {\r\n    return error instanceof ApplicationException && (null == errorCode || error.error === errorCode);\r\n  },\r\n  new: function (code, message) {\r\n    return new ApplicationException(code, message);\r\n  },\r\n  errorHandler: function (error, response) {\r\n    if (error instanceof ApplicationException) {\r\n      response.status(error.error.code).send(error.message || error.error.message);\r\n    } else {\r\n      console.error(error && error.stack || error);\r\n      response.sendStatus(500);\r\n    }\r\n  }\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605025812393
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\userDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\userDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\userDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\userDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "userDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nconst userRole = {\n  admin: 'admin',\n  user: 'user'\n};\nconst userRoles = [userRole.admin, userRole.user];\nconst userSchema = new _mongoose.default.Schema({\n  loginName: {\n    type: String,\n    required: false,\n    unique: true,\n    sparse: true\n  },\n  //PESEL: { type: String, required: false, unique: true, sparse: true},\n  name: {\n    type: String,\n    required: true,\n    unique: false\n  },\n  surname: {\n    type: String,\n    required: true,\n    unique: false\n  },\n  phone: {\n    type: Number,\n    required: false,\n    unique: false\n  },\n  role: {\n    type: String,\n    enum: userRoles,\n    default: userRole.user\n  },\n  active: {\n    type: Boolean,\n    default: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false,\n    required: false\n  }\n}, {\n  collection: 'users'\n});\nuserSchema.plugin(_mongooseUniqueValidator.default);\n\nconst UserModel = _mongoose.default.model('users', userSchema);\n\nfunction createNewOrUpdate(user) {\n  return _bluebird.default.resolve().then(() => {\n    if (!user.id) {\n      return new UserModel(user).save().then(result => {\n        if (result) {\n          return (0, _mongoConverter.default)(result);\n        }\n      });\n    } else {\n      return UserModel.findByIdAndUpdate(user.id, _.omit(user, 'id'), {\n        new: true\n      });\n    }\n  }).catch(error => {\n    if ('ValidationError' === error.name) {\n      error = error.errors[Object.keys(error.errors)[0]];\n      throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n    }\n\n    throw error;\n  });\n}\n\nasync function getByEmail(name) {\n  const result = await UserModel.findOne({\n    loginName: name\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User not found');\n}\n\nasync function query() {\n  const result = await UserModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n}\n\nasync function get(id) {\n  const result = await UserModel.findOne({\n    _id: id\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User not found');\n}\n\nasync function removeById(id) {\n  return await UserModel.findByIdAndRemove(id);\n}\n\nasync function sendEmail(email) {\n  return await UserModel.sendEmail(email);\n}\n\nvar _default = {\n  createNewOrUpdate: createNewOrUpdate,\n  getByEmail: getByEmail,\n  query: query,\n  get: get,\n  removeById: removeById,\n  sendEmail: sendEmail,\n  userRole: userRole,\n  model: UserModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJEQU8uanMiXSwibmFtZXMiOlsidXNlclJvbGUiLCJhZG1pbiIsInVzZXIiLCJ1c2VyUm9sZXMiLCJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJsb2dpbk5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJzcGFyc2UiLCJuYW1lIiwic3VybmFtZSIsInBob25lIiwiTnVtYmVyIiwicm9sZSIsImVudW0iLCJkZWZhdWx0IiwiYWN0aXZlIiwiQm9vbGVhbiIsImlzQWRtaW4iLCJjb2xsZWN0aW9uIiwicGx1Z2luIiwidW5pcXVlVmFsaWRhdG9yIiwiVXNlck1vZGVsIiwibW9kZWwiLCJjcmVhdGVOZXdPclVwZGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImlkIiwic2F2ZSIsInJlc3VsdCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiXyIsIm9taXQiLCJuZXciLCJjYXRjaCIsImVycm9yIiwiZXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiQkFEX1JFUVVFU1QiLCJtZXNzYWdlIiwiZ2V0QnlFbWFpbCIsImZpbmRPbmUiLCJOT1RfRk9VTkQiLCJxdWVyeSIsImZpbmQiLCJnZXQiLCJfaWQiLCJyZW1vdmVCeUlkIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJzZW5kRW1haWwiLCJlbWFpbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0EsTUFBTUEsUUFBUSxHQUFHO0FBQ2ZDLEVBQUFBLEtBQUssRUFBRSxPQURRO0FBRWZDLEVBQUFBLElBQUksRUFBRTtBQUZTLENBQWpCO0FBS0EsTUFBTUMsU0FBUyxHQUFHLENBQUNILFFBQVEsQ0FBQ0MsS0FBVixFQUFpQkQsUUFBUSxDQUFDRSxJQUExQixDQUFsQjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUNyQ0Ms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LEVBQUFBLFVBQVUsRUFBRUEsVUFMQztBQU1iRSxFQUFBQSxTQUFTLEVBQUVBLFNBTkU7QUFPYnhELEVBQUFBLFFBQVEsRUFBRUEsUUFQRztBQVFiMkIsRUFBQUEsS0FBSyxFQUFFRDtBQVJNLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXERBT1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkV4Y2VwdGlvbiBmcm9tICcuLi9zZXJ2aWNlL2FwcGxpY2F0aW9uRXhjZXB0aW9uJztcclxuaW1wb3J0IG1vbmdvQ29udmVydGVyIGZyb20gJy4uL3NlcnZpY2UvbW9uZ29Db252ZXJ0ZXInO1xyXG5pbXBvcnQgdW5pcXVlVmFsaWRhdG9yIGZyb20gJ21vbmdvb3NlLXVuaXF1ZS12YWxpZGF0b3InO1xyXG5cclxuXHJcbmNvbnN0IHVzZXJSb2xlID0ge1xyXG4gIGFkbWluOiAnYWRtaW4nLFxyXG4gIHVzZXI6ICd1c2VyJ1xyXG59O1xyXG5cclxuY29uc3QgdXNlclJvbGVzID0gW3VzZXJSb2xlLmFkbWluLCB1c2VyUm9sZS51c2VyXTtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBsb2dpbk5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIHVuaXF1ZTogdHJ1ZSwgc3BhcnNlOiB0cnVlfSxcclxuICAvL1BFU0VMOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlLCB1bmlxdWU6IHRydWUsIHNwYXJzZTogdHJ1ZX0sXHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IGZhbHNlIH0sXHJcbiAgc3VybmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IGZhbHNlfSxcclxuICBwaG9uZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiBmYWxzZSwgdW5pcXVlOiBmYWxzZSB9LFxyXG4gIHJvbGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiB1c2VyUm9sZXMsIGRlZmF1bHQ6IHVzZXJSb2xlLnVzZXIgfSxcclxuICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZSB9XHJcbn0sIHtcclxuICBjb2xsZWN0aW9uOiAndXNlcnMnXHJcbn0pO1xyXG5cclxudXNlclNjaGVtYS5wbHVnaW4odW5pcXVlVmFsaWRhdG9yKTtcclxuXHJcbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCd1c2VycycsIHVzZXJTY2hlbWEpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlTmV3T3JVcGRhdGUodXNlcikge1xyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgIGlmICghdXNlci5pZCkge1xyXG4gICAgICByZXR1cm4gbmV3IFVzZXJNb2RlbCh1c2VyKS5zYXZlKCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIHJldHVybiBtb25nb0NvbnZlcnRlcihyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gVXNlck1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKHVzZXIuaWQsIF8ub21pdCh1c2VyLCAnaWQnKSwgeyBuZXc6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgaWYgKCdWYWxpZGF0aW9uRXJyb3InID09PSBlcnJvci5uYW1lKSB7XHJcbiAgICAgIGVycm9yID0gZXJyb3IuZXJyb3JzW09iamVjdC5rZXlzKGVycm9yLmVycm9ycylbMF1dO1xyXG4gICAgICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uQkFEX1JFUVVFU1QsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEJ5RW1haWwobmFtZSkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgbG9naW5OYW1lOiBuYW1lIH0pO1xyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBtb25nb0NvbnZlcnRlcihyZXN1bHQpO1xyXG4gIH1cclxuICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uTk9UX0ZPVU5ELCAnVXNlciBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcXVlcnkoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlck1vZGVsLmZpbmQoe30pO1xyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBtb25nb0NvbnZlcnRlcihyZXN1bHQpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0KGlkKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IGlkIH0pO1xyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBtb25nb0NvbnZlcnRlcihyZXN1bHQpO1xyXG4gIH1cclxuICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uTk9UX0ZPVU5ELCAnVXNlciBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQnlJZChpZCkge1xyXG4gIHJldHVybiBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWRBbmRSZW1vdmUoaWQpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kRW1haWwoZW1haWwpIHtcclxuICByZXR1cm4gYXdhaXQgVXNlck1vZGVsLnNlbmRFbWFpbChlbWFpbCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjcmVhdGVOZXdPclVwZGF0ZTogY3JlYXRlTmV3T3JVcGRhdGUsXHJcbiAgZ2V0QnlFbWFpbDogZ2V0QnlFbWFpbCxcclxuICBxdWVyeTogcXVlcnksXHJcbiAgZ2V0OiBnZXQsXHJcbiAgcmVtb3ZlQnlJZDogcmVtb3ZlQnlJZCxcclxuICBzZW5kRW1haWw6IHNlbmRFbWFpbCxcclxuICB1c2VyUm9sZTogdXNlclJvbGUsXHJcbiAgbW9kZWw6IFVzZXJNb2RlbFxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userDAO.js"
      ],
      "names": [
        "userRole",
        "admin",
        "user",
        "userRoles",
        "userSchema",
        "mongoose",
        "Schema",
        "loginName",
        "type",
        "String",
        "required",
        "unique",
        "sparse",
        "name",
        "surname",
        "phone",
        "Number",
        "role",
        "enum",
        "default",
        "active",
        "Boolean",
        "isAdmin",
        "collection",
        "plugin",
        "uniqueValidator",
        "UserModel",
        "model",
        "createNewOrUpdate",
        "Promise",
        "resolve",
        "then",
        "id",
        "save",
        "result",
        "findByIdAndUpdate",
        "_",
        "omit",
        "new",
        "catch",
        "error",
        "errors",
        "Object",
        "keys",
        "applicationException",
        "BAD_REQUEST",
        "message",
        "getByEmail",
        "findOne",
        "NOT_FOUND",
        "query",
        "find",
        "get",
        "_id",
        "removeById",
        "findByIdAndRemove",
        "sendEmail",
        "email"
      ],
      "mappings": "AAAA;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA,MAAMA,QAAQ,GAAG;AACfC,EAAAA,KAAK,EAAE,OADQ;AAEfC,EAAAA,IAAI,EAAE;AAFS,CAAjB;AAKA,MAAMC,SAAS,GAAG,CAACH,QAAQ,CAACC,KAAV,EAAiBD,QAAQ,CAACE,IAA1B,CAAlB;AAEA,MAAME,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,SAAS,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,KAA1B;AAAiCC,IAAAA,MAAM,EAAE,IAAzC;AAA+CC,IAAAA,MAAM,EAAE;AAAvD,GAD0B;AAErC;AACAC,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GAH+B;AAIrCG,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GAJ4B;AAKrCI,EAAAA,KAAK,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,MAAR;AAAgBN,IAAAA,QAAQ,EAAE,KAA1B;AAAiCC,IAAAA,MAAM,EAAE;AAAzC,GAL8B;AAMrCM,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBS,IAAAA,IAAI,EAAEf,SAAtB;AAAiCgB,IAAAA,OAAO,EAAEnB,QAAQ,CAACE;AAAnD,GAN+B;AAOrCkB,EAAAA,MAAM,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,OAAR;AAAiBF,IAAAA,OAAO,EAAE;AAA1B,GAP6B;AAQrCG,EAAAA,OAAO,EAAE;AAAEd,IAAAA,IAAI,EAAEa,OAAR;AAAiBF,IAAAA,OAAO,EAAE,KAA1B;AAAiCT,IAAAA,QAAQ,EAAE;AAA3C;AAR4B,CAApB,EAShB;AACDa,EAAAA,UAAU,EAAE;AADX,CATgB,CAAnB;AAaAnB,UAAU,CAACoB,MAAX,CAAkBC,gCAAlB;;AAEA,MAAMC,SAAS,GAAGrB,kBAASsB,KAAT,CAAe,OAAf,EAAwBvB,UAAxB,CAAlB;;AAEA,SAASwB,iBAAT,CAA2B1B,IAA3B,EAAiC;AAC/B,SAAO2B,kBAAQC,OAAR,GAAkBC,IAAlB,CAAuB,MAAM;AAClC,QAAI,CAAC7B,IAAI,CAAC8B,EAAV,EAAc;AACZ,aAAO,IAAIN,SAAJ,CAAcxB,IAAd,EAAoB+B,IAApB,GAA2BF,IAA3B,CAAgCG,MAAM,IAAI;AAC/C,YAAIA,MAAJ,EAAY;AACV,iBAAO,6BAAeA,MAAf,CAAP;AACD;AACF,OAJM,CAAP;AAKD,KAND,MAMO;AACL,aAAOR,SAAS,CAACS,iBAAV,CAA4BjC,IAAI,CAAC8B,EAAjC,EAAqCI,CAAC,CAACC,IAAF,CAAOnC,IAAP,EAAa,IAAb,CAArC,EAAyD;AAAEoC,QAAAA,GAAG,EAAE;AAAP,OAAzD,CAAP;AACD;AACF,GAVM,EAUJC,KAVI,CAUEC,KAAK,IAAI;AAChB,QAAI,sBAAsBA,KAAK,CAAC3B,IAAhC,EAAsC;AACpC2B,MAAAA,KAAK,GAAGA,KAAK,CAACC,MAAN,CAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,MAAlB,EAA0B,CAA1B,CAAb,CAAR;AACA,YAAMG,8BAAqBN,GAArB,CAAyBM,8BAAqBC,WAA9C,EAA2DL,KAAK,CAACM,OAAjE,CAAN;AACD;;AACD,UAAMN,KAAN;AACD,GAhBM,CAAP;AAiBD;;AAED,eAAeO,UAAf,CAA0BlC,IAA1B,EAAgC;AAC9B,QAAMqB,MAAM,GAAG,MAAMR,SAAS,CAACsB,OAAV,CAAkB;AAAEzC,IAAAA,SAAS,EAAEM;AAAb,GAAlB,CAArB;;AACA,MAAIqB,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;;AACD,QAAMU,8BAAqBN,GAArB,CAAyBM,8BAAqBK,SAA9C,EAAyD,gBAAzD,CAAN;AACD;;AAED,eAAeC,KAAf,GAAuB;AACrB,QAAMhB,MAAM,GAAG,MAAMR,SAAS,CAACyB,IAAV,CAAe,EAAf,CAArB;;AACA,MAAIjB,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;AACF;;AAED,eAAekB,GAAf,CAAmBpB,EAAnB,EAAuB;AACrB,QAAME,MAAM,GAAG,MAAMR,SAAS,CAACsB,OAAV,CAAkB;AAAEK,IAAAA,GAAG,EAAErB;AAAP,GAAlB,CAArB;;AACA,MAAIE,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;;AACD,QAAMU,8BAAqBN,GAArB,CAAyBM,8BAAqBK,SAA9C,EAAyD,gBAAzD,CAAN;AACD;;AAED,eAAeK,UAAf,CAA0BtB,EAA1B,EAA8B;AAC5B,SAAO,MAAMN,SAAS,CAAC6B,iBAAV,CAA4BvB,EAA5B,CAAb;AACD;;AAED,eAAewB,SAAf,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO,MAAM/B,SAAS,CAAC8B,SAAV,CAAoBC,KAApB,CAAb;AACD;;eAEc;AACb7B,EAAAA,iBAAiB,EAAEA,iBADN;AAEbmB,EAAAA,UAAU,EAAEA,UAFC;AAGbG,EAAAA,KAAK,EAAEA,KAHM;AAIbE,EAAAA,GAAG,EAAEA,GAJQ;AAKbE,EAAAA,UAAU,EAAEA,UALC;AAMbE,EAAAA,SAAS,EAAEA,SANE;AAObxD,EAAAA,QAAQ,EAAEA,QAPG;AAQb2B,EAAAA,KAAK,EAAED;AARM,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport * as _ from 'lodash';\r\nimport Promise from 'bluebird';\r\nimport applicationException from '../service/applicationException';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\n\r\n\r\nconst userRole = {\r\n  admin: 'admin',\r\n  user: 'user'\r\n};\r\n\r\nconst userRoles = [userRole.admin, userRole.user];\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  loginName: { type: String, required: false, unique: true, sparse: true},\r\n  //PESEL: { type: String, required: false, unique: true, sparse: true},\r\n  name: { type: String, required: true, unique: false },\r\n  surname: { type: String, required: true, unique: false},\r\n  phone: { type: Number, required: false, unique: false },\r\n  role: { type: String, enum: userRoles, default: userRole.user },\r\n  active: { type: Boolean, default: true },\r\n  isAdmin: { type: Boolean, default: false, required: false }\r\n}, {\r\n  collection: 'users'\r\n});\r\n\r\nuserSchema.plugin(uniqueValidator);\r\n\r\nconst UserModel = mongoose.model('users', userSchema);\r\n\r\nfunction createNewOrUpdate(user) {\r\n  return Promise.resolve().then(() => {\r\n    if (!user.id) {\r\n      return new UserModel(user).save().then(result => {\r\n        if (result) {\r\n          return mongoConverter(result);\r\n        }\r\n      });\r\n    } else {\r\n      return UserModel.findByIdAndUpdate(user.id, _.omit(user, 'id'), { new: true });\r\n    }\r\n  }).catch(error => {\r\n    if ('ValidationError' === error.name) {\r\n      error = error.errors[Object.keys(error.errors)[0]];\r\n      throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n    }\r\n    throw error;\r\n  });\r\n}\r\n\r\nasync function getByEmail(name) {\r\n  const result = await UserModel.findOne({ loginName: name });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'User not found');\r\n}\r\n\r\nasync function query() {\r\n  const result = await UserModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\nasync function get(id) {\r\n  const result = await UserModel.findOne({ _id: id });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'User not found');\r\n}\r\n\r\nasync function removeById(id) {\r\n  return await UserModel.findByIdAndRemove(id);\r\n}\r\n\r\nasync function sendEmail(email) {\r\n  return await UserModel.sendEmail(email);\r\n}\r\n\r\nexport default {\r\n  createNewOrUpdate: createNewOrUpdate,\r\n  getByEmail: getByEmail,\r\n  query: query,\r\n  get: get,\r\n  removeById: removeById,\r\n  sendEmail: sendEmail,\r\n  userRole: userRole,\r\n  model: UserModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1610274945534
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\user.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\user.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\user.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\user.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "user.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _passwordDAO = _interopRequireDefault(require(\"../DAO/passwordDAO\"));\n\nvar _tokenDAO = _interopRequireDefault(require(\"../DAO/tokenDAO\"));\n\nvar _userDAO = _interopRequireDefault(require(\"../DAO/userDAO\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _medicineDAO = _interopRequireDefault(require(\"../DAO/medicineDAO\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nfunction create(context) {\n  function hashPassword(password) {\n    const salt = _bcrypt.default.genSaltSync(10);\n\n    const hash = _bcrypt.default.hashSync(password, salt);\n\n    return hash;\n  }\n\n  async function authenticate(name, password) {\n    let userData;\n    const user = await _userDAO.default.getByEmail(name);\n\n    if (!user) {\n      throw _applicationException.default.new(_applicationException.default.UNAUTHORIZED, 'User with that email does not exist');\n    }\n\n    if (!user.active) {\n      throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User does not exist or does not active');\n    }\n\n    userData = await user;\n    await _passwordDAO.default.authorize(user.id, password);\n    const token = await _tokenDAO.default.create(userData);\n    return getToken(token);\n  }\n\n  async function checkPassword(name, password) {\n    const user = await _userDAO.default.getByEmail(name);\n\n    if (!user) {\n      throw _applicationException.default.new(_applicationException.default.UNAUTHORIZED, 'User with that email does not exist');\n    }\n\n    if (!user.active) {\n      throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User does not exist or does not active');\n    }\n\n    return await _passwordDAO.default.authorize(user.id, password);\n  }\n\n  async function query() {\n    let result = _userDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  function getToken(token) {\n    return {\n      token: token.value\n    };\n  }\n\n  async function getUserByToken(receivedToken) {\n    const token = await _tokenDAO.default.get(receivedToken);\n    return await _userDAO.default.get(token.userId);\n  }\n\n  async function createNewOrUpdate(userData) {\n    const user = await _userDAO.default.createNewOrUpdate(userData);\n\n    if (await userData.password) {\n      return await _passwordDAO.default.createOrUpdate({\n        userId: user.id,\n        password: hashPassword(userData.password)\n      });\n    } else {\n      return user;\n    }\n  }\n\n  async function getByEmail(loginName) {\n    let result = await _userDAO.default.getByEmail(loginName);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function removeUserById(id) {\n    return await _userDAO.default.removeById(id);\n  }\n\n  async function removeHashSession(userId) {\n    return await _tokenDAO.default.remove(userId);\n  }\n\n  async function sendEmail(email) {\n    let userData;\n    const user = await _userDAO.default.getByEmail(email);\n\n    if (!user) {\n      throw _applicationException.default.new(_applicationException.default.UNAUTHORIZED, 'User with that email does not exist');\n    }\n\n    if (!user.active) {\n      throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User does not exist or does not active');\n    }\n\n    userData = await user;\n    const token = await _tokenDAO.default.createPasswordReset(userData);\n\n    let transporter = _nodemailer.default.createTransport({\n      service: 'gmail',\n      auth: {\n        user: 'noreply.aptekaonline.rr@gmail.com',\n        pass: _config.default.GmailPassword\n      }\n    });\n\n    let mailOptions = {\n      from: 'noreply.aptekaonline.rr@gmail.com',\n      to: email,\n      subject: 'Password Reset',\n      text: 'Kliknij w link, aby zresetować hasło: http://localhost:4200/password-reset/' + token.value + '/' + userData.id\n    };\n    await transporter.sendMail(mailOptions, function (error, info) {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Email sent: ' + info.response);\n      }\n    });\n  }\n\n  return {\n    authenticate: authenticate,\n    checkPassword: checkPassword,\n    getByEmail: getByEmail,\n    query: query,\n    getUserByToken: getUserByToken,\n    createNewOrUpdate: createNewOrUpdate,\n    removeUserById: removeUserById,\n    removeHashSession: removeHashSession,\n    sendEmail: sendEmail\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubWFuYWdlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGUiLCJjb250ZXh0IiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdFN5bmMiLCJoYXNoIiwiaGFzaFN5bmMiLCJhdXRoZW50aWNhdGUiLCJuYW1lIiwidXNlckRhdGEiLCJ1c2VyIiwiVXNlckRBTyIsImdldEJ5RW1haWwiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsIm5ldyIsIlVOQVVUSE9SSVpFRCIsImFjdGl2ZSIsIk5PVF9GT1VORCIsIlBhc3N3b3JkREFPIiwiYXV0aG9yaXplIiwiaWQiLCJ0b2tlbiIsIlRva2VuREFPIiwiZ2V0VG9rZW4iLCJjaGVja1Bhc3N3b3JkIiwicXVlcnkiLCJyZXN1bHQiLCJ2YWx1ZSIsImdldFVzZXJCeVRva2VuIiwicmVjZWl2ZWRUb2tlbiIsImdldCIsInVzZXJJZCIsImNyZWF0ZU5ld09yVXBkYXRlIiwiY3JlYXRlT3JVcGRhdGUiLCJsb2dpbk5hbWUiLCJyZW1vdmVVc2VyQnlJZCIsInJlbW92ZUJ5SWQiLCJyZW1vdmVIYXNoU2Vzc2lvbiIsInJlbW92ZSIsInNlbmRFbWFpbCIsImVtYWlsIiwiY3JlYXRlUGFzc3dvcmRSZXNldCIsInRyYW5zcG9ydGVyIiwibm9kZW1haWxlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwicGFzcyIsImNvbmZpZyIsIkdtYWlsUGFzc3dvcmQiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsInN1YmplY3QiLCJ0ZXh0Iiwic2VuZE1haWwiLCJlcnJvciIsImluZm8iLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxPQUFoQixFQUF5QjtBQUN2QixXQUFTQyxZQUFULENBQXNCQyxRQUF0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R0FBRztBQUNoQkMsTUFBQUEsSUFBSSxFQUFFLG1DQURVO0FBRWhCQyxNQUFBQSxFQUFFLEVBQUVaLEtBRlk7QUFHaEJhLE1BQUFBLE9BQU8sRUFBRSxnQkFITztBQUloQkMsTUFBQUEsSUFBSSxFQUFFLGdGQUFnRmpDLEtBQUssQ0FBQ00sS0FBdEYsR0FBOEYsR0FBOUYsR0FBb0dsQixRQUFRLENBQUNXO0FBSm5HLEtBQWxCO0FBT0EsVUFBTXNCLFdBQVcsQ0FBQ2EsUUFBWixDQUFxQkwsV0FBckIsRUFBa0MsVUFBVU0sS0FBVixFQUFpQkMsSUFBakIsRUFBdUI7QUFDN0QsVUFBSUQsS0FBSixFQUFXO0FBQ1RFLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxLQUFaO0FBQ0QsT0FGRCxNQUVPO0FBQ0xFLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFpQkYsSUFBSSxDQUFDRyxRQUFsQztBQUNEO0FBQ0YsS0FOSyxDQUFOO0FBT0Q7O0FBRUQsU0FBTztBQUNMckQsSUFBQUEsWUFBWSxFQUFFQSxZQURUO0FBRUxpQixJQUFBQSxhQUFhLEVBQUVBLGFBRlY7QUFHTFosSUFBQUEsVUFBVSxFQUFFQSxVQUhQO0FBSUxhLElBQUFBLEtBQUssRUFBRUEsS0FKRjtBQUtMRyxJQUFBQSxjQUFjLEVBQUVBLGNBTFg7QUFNTEksSUFBQUEsaUJBQWlCLEVBQUVBLGlCQU5kO0FBT0xHLElBQUFBLGNBQWMsRUFBRUEsY0FQWDtBQVFMRSxJQUFBQSxpQkFBaUIsRUFBRUEsaUJBUmQ7QUFTTEUsSUFBQUEsU0FBUyxFQUFFQTtBQVROLEdBQVA7QUFXRDs7ZUFFYztBQUNiekMsRUFBQUEsTUFBTSxFQUFFQTtBQURLLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXGJ1c2luZXNzXFwiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgUGFzc3dvcmREQU8gZnJvbSAnLi4vREFPL3Bhc3N3b3JkREFPJztcclxuaW1wb3J0IFRva2VuREFPIGZyb20gJy4uL0RBTy90b2tlbkRBTyc7XHJcbmltcG9ydCBVc2VyREFPIGZyb20gJy4uL0RBTy91c2VyREFPJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCBtZWRpY2luZURBTyBmcm9tIFwiLi4vREFPL21lZGljaW5lREFPXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZShjb250ZXh0KSB7XHJcbiAgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkKSB7XHJcbiAgICBjb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcclxuICAgIGNvbnN0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpO1xyXG4gICAgcmV0dXJuIGhhc2g7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGUobmFtZSwgcGFzc3dvcmQpIHtcclxuICAgIGxldCB1c2VyRGF0YTtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyREFPLmdldEJ5RW1haWwobmFtZSk7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLlVOQVVUSE9SSVpFRCwgJ1VzZXIgd2l0aCB0aGF0IGVtYWlsIGRvZXMgbm90IGV4aXN0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXVzZXIuYWN0aXZlKSB7XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdVc2VyIGRvZXMgbm90IGV4aXN0IG9yIGRvZXMgbm90IGFjdGl2ZScpO1xyXG4gICAgfVxyXG4gICAgdXNlckRhdGEgPSBhd2FpdCB1c2VyO1xyXG4gICAgYXdhaXQgUGFzc3dvcmREQU8uYXV0aG9yaXplKHVzZXIuaWQsIHBhc3N3b3JkKTtcclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgVG9rZW5EQU8uY3JlYXRlKHVzZXJEYXRhKTtcclxuICAgIHJldHVybiBnZXRUb2tlbih0b2tlbik7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjaGVja1Bhc3N3b3JkKG5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlckRBTy5nZXRCeUVtYWlsKG5hbWUpO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5VTkFVVEhPUklaRUQsICdVc2VyIHdpdGggdGhhdCBlbWFpbCBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF1c2VyLmFjdGl2ZSkge1xyXG4gICAgICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uTk9UX0ZPVU5ELCAnVXNlciBkb2VzIG5vdCBleGlzdCBvciBkb2VzIG5vdCBhY3RpdmUnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhd2FpdCBQYXNzd29yZERBTy5hdXRob3JpemUodXNlci5pZCwgcGFzc3dvcmQpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnkoKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gVXNlckRBTy5xdWVyeSgpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0VG9rZW4odG9rZW4pIHtcclxuICAgIHJldHVybiB7dG9rZW46IHRva2VuLnZhbHVlfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeVRva2VuKHJlY2VpdmVkVG9rZW4pIHtcclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgVG9rZW5EQU8uZ2V0KHJlY2VpdmVkVG9rZW4pO1xyXG4gICAgcmV0dXJuIGF3YWl0IFVzZXJEQU8uZ2V0KHRva2VuLnVzZXJJZCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdPclVwZGF0ZSh1c2VyRGF0YSkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJEQU8uY3JlYXRlTmV3T3JVcGRhdGUodXNlckRhdGEpO1xyXG4gICAgaWYgKGF3YWl0IHVzZXJEYXRhLnBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBQYXNzd29yZERBTy5jcmVhdGVPclVwZGF0ZSh7dXNlcklkOiB1c2VyLmlkLCBwYXNzd29yZDogaGFzaFBhc3N3b3JkKHVzZXJEYXRhLnBhc3N3b3JkKX0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZXRCeUVtYWlsKGxvZ2luTmFtZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IFVzZXJEQU8uZ2V0QnlFbWFpbChsb2dpbk5hbWUpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlVXNlckJ5SWQoaWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBVc2VyREFPLnJlbW92ZUJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlSGFzaFNlc3Npb24odXNlcklkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgVG9rZW5EQU8ucmVtb3ZlKHVzZXJJZCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWwoZW1haWwpIHtcclxuICAgIGxldCB1c2VyRGF0YTtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyREFPLmdldEJ5RW1haWwoZW1haWwpO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5VTkFVVEhPUklaRUQsICdVc2VyIHdpdGggdGhhdCBlbWFpbCBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF1c2VyLmFjdGl2ZSkge1xyXG4gICAgICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uTk9UX0ZPVU5ELCAnVXNlciBkb2VzIG5vdCBleGlzdCBvciBkb2VzIG5vdCBhY3RpdmUnKTtcclxuICAgIH1cclxuICAgIHVzZXJEYXRhID0gYXdhaXQgdXNlcjtcclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgVG9rZW5EQU8uY3JlYXRlUGFzc3dvcmRSZXNldCh1c2VyRGF0YSk7XHJcblxyXG4gICAgbGV0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxyXG4gICAgICBhdXRoOiB7XHJcbiAgICAgICAgdXNlcjogJ25vcmVwbHkuYXB0ZWthb25saW5lLnJyQGdtYWlsLmNvbScsXHJcbiAgICAgICAgcGFzczogY29uZmlnLkdtYWlsUGFzc3dvcmRcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IG1haWxPcHRpb25zID0ge1xyXG4gICAgICBmcm9tOiAnbm9yZXBseS5hcHRla2FvbmxpbmUucnJAZ21haWwuY29tJyxcclxuICAgICAgdG86IGVtYWlsLFxyXG4gICAgICBzdWJqZWN0OiAnUGFzc3dvcmQgUmVzZXQnLFxyXG4gICAgICB0ZXh0OiAnS2xpa25paiB3IGxpbmssIGFieSB6cmVzZXRvd2HEhyBoYXPFgm86IGh0dHA6Ly9sb2NhbGhvc3Q6NDIwMC9wYXNzd29yZC1yZXNldC8nICsgdG9rZW4udmFsdWUgKyAnLycgKyB1c2VyRGF0YS5pZFxyXG4gICAgfTtcclxuXHJcbiAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24gKGVycm9yLCBpbmZvKSB7XHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudDogJyArIGluZm8ucmVzcG9uc2UpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhdXRoZW50aWNhdGU6IGF1dGhlbnRpY2F0ZSxcclxuICAgIGNoZWNrUGFzc3dvcmQ6IGNoZWNrUGFzc3dvcmQsXHJcbiAgICBnZXRCeUVtYWlsOiBnZXRCeUVtYWlsLFxyXG4gICAgcXVlcnk6IHF1ZXJ5LFxyXG4gICAgZ2V0VXNlckJ5VG9rZW46IGdldFVzZXJCeVRva2VuLFxyXG4gICAgY3JlYXRlTmV3T3JVcGRhdGU6IGNyZWF0ZU5ld09yVXBkYXRlLFxyXG4gICAgcmVtb3ZlVXNlckJ5SWQ6IHJlbW92ZVVzZXJCeUlkLFxyXG4gICAgcmVtb3ZlSGFzaFNlc3Npb246IHJlbW92ZUhhc2hTZXNzaW9uLFxyXG4gICAgc2VuZEVtYWlsOiBzZW5kRW1haWxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY3JlYXRlOiBjcmVhdGVcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.manager.js"
      ],
      "names": [
        "create",
        "context",
        "hashPassword",
        "password",
        "salt",
        "bcrypt",
        "genSaltSync",
        "hash",
        "hashSync",
        "authenticate",
        "name",
        "userData",
        "user",
        "UserDAO",
        "getByEmail",
        "applicationException",
        "new",
        "UNAUTHORIZED",
        "active",
        "NOT_FOUND",
        "PasswordDAO",
        "authorize",
        "id",
        "token",
        "TokenDAO",
        "getToken",
        "checkPassword",
        "query",
        "result",
        "value",
        "getUserByToken",
        "receivedToken",
        "get",
        "userId",
        "createNewOrUpdate",
        "createOrUpdate",
        "loginName",
        "removeUserById",
        "removeById",
        "removeHashSession",
        "remove",
        "sendEmail",
        "email",
        "createPasswordReset",
        "transporter",
        "nodemailer",
        "createTransport",
        "service",
        "auth",
        "pass",
        "config",
        "GmailPassword",
        "mailOptions",
        "from",
        "to",
        "subject",
        "text",
        "sendMail",
        "error",
        "info",
        "console",
        "log",
        "response"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport PasswordDAO from '../DAO/passwordDAO';\r\nimport TokenDAO from '../DAO/tokenDAO';\r\nimport UserDAO from '../DAO/userDAO';\r\nimport applicationException from '../service/applicationException';\r\nimport bcrypt from 'bcrypt';\r\nimport medicineDAO from \"../DAO/medicineDAO\";\r\nimport config from \"../config\";\r\nimport nodemailer from 'nodemailer';\r\n\r\nfunction create(context) {\r\n  function hashPassword(password) {\r\n    const salt = bcrypt.genSaltSync(10);\r\n    const hash = bcrypt.hashSync(password, salt);\r\n    return hash;\r\n  }\r\n\r\n  async function authenticate(name, password) {\r\n    let userData;\r\n    const user = await UserDAO.getByEmail(name);\r\n    if (!user) {\r\n      throw applicationException.new(applicationException.UNAUTHORIZED, 'User with that email does not exist');\r\n    }\r\n    if (!user.active) {\r\n      throw applicationException.new(applicationException.NOT_FOUND, 'User does not exist or does not active');\r\n    }\r\n    userData = await user;\r\n    await PasswordDAO.authorize(user.id, password);\r\n    const token = await TokenDAO.create(userData);\r\n    return getToken(token);\r\n  }\r\n\r\n  async function checkPassword(name, password) {\r\n    const user = await UserDAO.getByEmail(name);\r\n    if (!user) {\r\n      throw applicationException.new(applicationException.UNAUTHORIZED, 'User with that email does not exist');\r\n    }\r\n    if (!user.active) {\r\n      throw applicationException.new(applicationException.NOT_FOUND, 'User does not exist or does not active');\r\n    }\r\n    return await PasswordDAO.authorize(user.id, password);\r\n  }\r\n\r\n  async function query() {\r\n    let result = UserDAO.query();\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  function getToken(token) {\r\n    return {token: token.value};\r\n  }\r\n\r\n  async function getUserByToken(receivedToken) {\r\n    const token = await TokenDAO.get(receivedToken);\r\n    return await UserDAO.get(token.userId);\r\n  }\r\n\r\n  async function createNewOrUpdate(userData) {\r\n    const user = await UserDAO.createNewOrUpdate(userData);\r\n    if (await userData.password) {\r\n      return await PasswordDAO.createOrUpdate({userId: user.id, password: hashPassword(userData.password)});\r\n    } else {\r\n      return user;\r\n    }\r\n  }\r\n\r\n  async function getByEmail(loginName) {\r\n    let result = await UserDAO.getByEmail(loginName);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function removeUserById(id) {\r\n    return await UserDAO.removeById(id);\r\n  }\r\n\r\n  async function removeHashSession(userId) {\r\n    return await TokenDAO.remove(userId);\r\n  }\r\n\r\n  async function sendEmail(email) {\r\n    let userData;\r\n    const user = await UserDAO.getByEmail(email);\r\n    if (!user) {\r\n      throw applicationException.new(applicationException.UNAUTHORIZED, 'User with that email does not exist');\r\n    }\r\n    if (!user.active) {\r\n      throw applicationException.new(applicationException.NOT_FOUND, 'User does not exist or does not active');\r\n    }\r\n    userData = await user;\r\n    const token = await TokenDAO.createPasswordReset(userData);\r\n\r\n    let transporter = nodemailer.createTransport({\r\n      service: 'gmail',\r\n      auth: {\r\n        user: 'noreply.aptekaonline.rr@gmail.com',\r\n        pass: config.GmailPassword\r\n      }\r\n    });\r\n\r\n    let mailOptions = {\r\n      from: 'noreply.aptekaonline.rr@gmail.com',\r\n      to: email,\r\n      subject: 'Password Reset',\r\n      text: 'Kliknij w link, aby zresetować hasło: http://localhost:4200/password-reset/' + token.value + '/' + userData.id\r\n    };\r\n\r\n    await transporter.sendMail(mailOptions, function (error, info) {\r\n      if (error) {\r\n        console.log(error);\r\n      } else {\r\n        console.log('Email sent: ' + info.response);\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    authenticate: authenticate,\r\n    checkPassword: checkPassword,\r\n    getByEmail: getByEmail,\r\n    query: query,\r\n    getUserByToken: getUserByToken,\r\n    createNewOrUpdate: createNewOrUpdate,\r\n    removeUserById: removeUserById,\r\n    removeHashSession: removeHashSession,\r\n    sendEmail: sendEmail\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611923474173
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\passwordDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\passwordDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\passwordDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\passwordDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "passwordDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nconst passwordSchema = new _mongoose.default.Schema({\n  userId: {\n    type: _mongoose.default.Types.ObjectId,\n    ref: 'user',\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  }\n}, {\n  collection: 'passwords'\n});\n\nconst PasswordModel = _mongoose.default.model('passwords', passwordSchema);\n\nasync function createOrUpdate(data) {\n  const result = await PasswordModel.findOneAndUpdate({\n    userId: data.userId\n  }, _.omit(data, 'id'), {\n    new: true\n  });\n\n  if (!result) {\n    const result = await new PasswordModel({\n      userId: data.userId,\n      password: data.password\n    }).save();\n\n    if (result) {\n      return (0, _mongoConverter.default)(result);\n    }\n  }\n\n  return result;\n}\n\nasync function authorize(userId, password) {\n  const result = await PasswordModel.findOne({\n    userId: userId\n  });\n\n  const hash = _bcrypt.default.compareSync(password, result.password);\n\n  if (hash) {\n    return true;\n  }\n\n  throw _applicationException.default.new(_applicationException.default.UNAUTHORIZED, 'User and password does not match');\n}\n\nvar _default = {\n  createOrUpdate: createOrUpdate,\n  authorize: authorize,\n  model: PasswordModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3N3b3JkREFPLmpzIl0sIm5hbWVzIjpbInBhc3N3b3JkU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwidW5pcXVlIiwicGFzc3dvcmQiLCJTdHJpbmciLCJjb2xsZWN0aW9uIiwiUGFzc3dvcmRNb2RlbCIsIm1vZGVsIiwiY3JlYXRlT3JVcGRhdGUiLCJkYXRhIiwicmVzdWx0IiwiZmluZE9uZUFuZFVwZGF0ZSIsIl8iLCJvbWl0IiwibmV3Iiwic2F2ZSIsImF1dGhvcml6ZSIsImZpbmRPbmUiLCJoYXNoIiwiYmNyeXB0IiwiY29tcGFyZVN5bmMiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsIlVOQVVUSE9SSVpFRCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsTUFBTUEsY0FBYyxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3pDQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0ksS0FBVCxDQUFlQyxRQUF2QjtBQUFpQ0MsSUFBQUEsR0FBRyxFQUFFLE1BQXRDO0FBQThDQyxJQUFBQSxRQUFRLEVBQUUsSUFBeEQ7QUFBOERDLElBQUFBLE1BQU0sRUFBRTtBQUF0RSxHQURpQztBQUV6Q0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVOLElBQUFBLElBQUksRUFBRU8sTUFBUjtBQUFnQkgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBRitCLENBQXBCLEVBR3BCO0FBQ0RJLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBSG9CLENBQXZCOztBQU9BLE1BQU1DLGFBQWEsR0FBR1osa0JBQVNhLEtBQVQsQ0FBZSxXQUFmLEVBQTRCZCxjQUE1QixDQUF0Qjs7QUFFQSxlQUFlZSxjQUFmLENBQThCQyxJQUE5QixFQUFvQztBQUNsQyxRQUFNQyxNQUFNLEdBQUcsTUFBTUosYUFBYSxDQUFDSyxnQkFBZCxDQUErQjtBQUFFZixJQUFBQSxNQUFNLEVBQUVhLElBQUksQ0FBQ2I7QUFBZixHQUEvQixFQUF3RGdCLENBQUMsQ0FBQ0MsSUFBRixDQUFPSixJQUFQLEVBQWEsSUFBYixDQUF4RCxFQUE0RTtBQUFFSyxJQUFBQSxHQUFHLEVBQUU7QUFBUCxHQUE1RSxDQUFyQjs7QUFDQSxNQUFJLENBQUNKLE1BQUwsRUFBYTtBQUNYLFVBQU1BLE1BQU0sR0FBRyxNQUFNLElBQUlKLGFBQUosQ0FBa0I7QUFBRVYsTUFBQUEsTUFBTSxFQUFFYSxJQUFJLENBQUNiLE1BQWY7QUFBdUJPLE1BQUFBLFFBQVEsRUFBRU0sSUFBSSxDQUFDTjtBQUF0QyxLQUFsQixFQUFvRVksSUFBcEUsRUFBckI7O0FBQ0EsUUFBSUwsTUFBSixFQUFZO0FBQ1YsYUFBTyw2QkFBZUEsTUFBZixDQUFQO0FBQ0Q7QUFDRjs7QUFDRCxTQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsZUFBZU0sU0FBZixDQUF5QnBCLE1BQXpCLEVBQWlDTyxRQUFqQyxFQUEyQztBQUN6QyxRQUFNTyxNQUFNLEdBQUcsTUFBTUosYUFBYSxDQUFDVyxPQUFkLENBQXNCO0FBQUVyQixJQUFBQSxNQUFNLEVBQUVBO0FBQVYsR0FBdEIsQ0FBckI7O0FBQ0EsUUFBTXNCLElBQUksR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUJqQixRQUFuQixFQUE2Qk8sTUFBTSxDQUFDUCxRQUFwQyxDQUFiOztBQUNBLE1BQUllLElBQUosRUFBVTtBQUNSLFdBQU8sSUFBUDtBQUNEOztBQUNELFFBQU1HLDhCQUFxQlAsR0FBckIsQ0FBeUJPLDhCQUFxQkMsWUFBOUMsRUFBNEQsa0NBQTVELENBQU47QUFDRDs7ZUFFYztBQUNiZCxFQUFBQSxjQUFjLEVBQUVBLGNBREg7QUFFYlEsRUFBQUEsU0FBUyxFQUFFQSxTQUZFO0FBR2JULEVBQUFBLEtBQUssRUFBRUQ7QUFITSxDIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxEQU9cXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG5pbXBvcnQgbW9uZ29Db252ZXJ0ZXIgZnJvbSAnLi4vc2VydmljZS9tb25nb0NvbnZlcnRlcic7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcclxuXHJcbmNvbnN0IHBhc3N3b3JkU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7IHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCByZWY6ICd1c2VyJywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxyXG59LCB7XHJcbiAgY29sbGVjdGlvbjogJ3Bhc3N3b3JkcydcclxufSk7XHJcblxyXG5jb25zdCBQYXNzd29yZE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ3Bhc3N3b3JkcycsIHBhc3N3b3JkU2NoZW1hKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKGRhdGEpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXNzd29yZE1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyB1c2VySWQ6IGRhdGEudXNlcklkIH0sIF8ub21pdChkYXRhLCAnaWQnKSwgeyBuZXc6IHRydWUgfSk7XHJcbiAgaWYgKCFyZXN1bHQpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ldyBQYXNzd29yZE1vZGVsKHsgdXNlcklkOiBkYXRhLnVzZXJJZCwgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQgfSkuc2F2ZSgpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYXV0aG9yaXplKHVzZXJJZCwgcGFzc3dvcmQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXNzd29yZE1vZGVsLmZpbmRPbmUoeyB1c2VySWQ6IHVzZXJJZH0pO1xyXG4gIGNvbnN0IGhhc2ggPSBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHJlc3VsdC5wYXNzd29yZCk7XHJcbiAgaWYgKGhhc2gpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uVU5BVVRIT1JJWkVELCAnVXNlciBhbmQgcGFzc3dvcmQgZG9lcyBub3QgbWF0Y2gnKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNyZWF0ZU9yVXBkYXRlOiBjcmVhdGVPclVwZGF0ZSxcclxuICBhdXRob3JpemU6IGF1dGhvcml6ZSxcclxuICBtb2RlbDogUGFzc3dvcmRNb2RlbFxyXG59O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "passwordDAO.js"
      ],
      "names": [
        "passwordSchema",
        "mongoose",
        "Schema",
        "userId",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "required",
        "unique",
        "password",
        "String",
        "collection",
        "PasswordModel",
        "model",
        "createOrUpdate",
        "data",
        "result",
        "findOneAndUpdate",
        "_",
        "omit",
        "new",
        "save",
        "authorize",
        "findOne",
        "hash",
        "bcrypt",
        "compareSync",
        "applicationException",
        "UNAUTHORIZED"
      ],
      "mappings": "AAAA;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,cAAc,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,IAAI,EAAEH,kBAASI,KAAT,CAAeC,QAAvB;AAAiCC,IAAAA,GAAG,EAAE,MAAtC;AAA8CC,IAAAA,QAAQ,EAAE,IAAxD;AAA8DC,IAAAA,MAAM,EAAE;AAAtE,GADiC;AAEzCC,EAAAA,QAAQ,EAAE;AAAEN,IAAAA,IAAI,EAAEO,MAAR;AAAgBH,IAAAA,QAAQ,EAAE;AAA1B;AAF+B,CAApB,EAGpB;AACDI,EAAAA,UAAU,EAAE;AADX,CAHoB,CAAvB;;AAOA,MAAMC,aAAa,GAAGZ,kBAASa,KAAT,CAAe,WAAf,EAA4Bd,cAA5B,CAAtB;;AAEA,eAAee,cAAf,CAA8BC,IAA9B,EAAoC;AAClC,QAAMC,MAAM,GAAG,MAAMJ,aAAa,CAACK,gBAAd,CAA+B;AAAEf,IAAAA,MAAM,EAAEa,IAAI,CAACb;AAAf,GAA/B,EAAwDgB,CAAC,CAACC,IAAF,CAAOJ,IAAP,EAAa,IAAb,CAAxD,EAA4E;AAAEK,IAAAA,GAAG,EAAE;AAAP,GAA5E,CAArB;;AACA,MAAI,CAACJ,MAAL,EAAa;AACX,UAAMA,MAAM,GAAG,MAAM,IAAIJ,aAAJ,CAAkB;AAAEV,MAAAA,MAAM,EAAEa,IAAI,CAACb,MAAf;AAAuBO,MAAAA,QAAQ,EAAEM,IAAI,CAACN;AAAtC,KAAlB,EAAoEY,IAApE,EAArB;;AACA,QAAIL,MAAJ,EAAY;AACV,aAAO,6BAAeA,MAAf,CAAP;AACD;AACF;;AACD,SAAOA,MAAP;AACD;;AAED,eAAeM,SAAf,CAAyBpB,MAAzB,EAAiCO,QAAjC,EAA2C;AACzC,QAAMO,MAAM,GAAG,MAAMJ,aAAa,CAACW,OAAd,CAAsB;AAAErB,IAAAA,MAAM,EAAEA;AAAV,GAAtB,CAArB;;AACA,QAAMsB,IAAI,GAAGC,gBAAOC,WAAP,CAAmBjB,QAAnB,EAA6BO,MAAM,CAACP,QAApC,CAAb;;AACA,MAAIe,IAAJ,EAAU;AACR,WAAO,IAAP;AACD;;AACD,QAAMG,8BAAqBP,GAArB,CAAyBO,8BAAqBC,YAA9C,EAA4D,kCAA5D,CAAN;AACD;;eAEc;AACbd,EAAAA,cAAc,EAAEA,cADH;AAEbQ,EAAAA,SAAS,EAAEA,SAFE;AAGbT,EAAAA,KAAK,EAAED;AAHM,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport * as _ from 'lodash';\r\nimport applicationException from '../service/applicationException';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport bcrypt from 'bcrypt';\r\n\r\nconst passwordSchema = new mongoose.Schema({\r\n  userId: { type: mongoose.Types.ObjectId, ref: 'user', required: true, unique: true },\r\n  password: { type: String, required: true }\r\n}, {\r\n  collection: 'passwords'\r\n});\r\n\r\nconst PasswordModel = mongoose.model('passwords', passwordSchema);\r\n\r\nasync function createOrUpdate(data) {\r\n  const result = await PasswordModel.findOneAndUpdate({ userId: data.userId }, _.omit(data, 'id'), { new: true });\r\n  if (!result) {\r\n    const result = await new PasswordModel({ userId: data.userId, password: data.password }).save();\r\n    if (result) {\r\n      return mongoConverter(result);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nasync function authorize(userId, password) {\r\n  const result = await PasswordModel.findOne({ userId: userId});\r\n  const hash = bcrypt.compareSync(password, result.password);\r\n  if (hash) {\r\n    return true;\r\n  }\r\n  throw applicationException.new(applicationException.UNAUTHORIZED, 'User and password does not match');\r\n}\r\n\r\nexport default {\r\n  createOrUpdate: createOrUpdate,\r\n  authorize: authorize,\r\n  model: PasswordModel\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609600793496
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\tokenDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\tokenDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\tokenDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\tokenDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "tokenDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _momentWrapper = _interopRequireDefault(require(\"../service/momentWrapper\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst tokenTypeEnum = {\n  authorization: 'authorization'\n};\nconst tokenTypes = [tokenTypeEnum.authorization];\nconst tokenSchema = new _mongoose.default.Schema({\n  userId: {\n    type: _mongoose.default.Types.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  createDate: {\n    type: Number,\n    required: true\n  },\n  type: {\n    type: String,\n    enum: tokenTypes,\n    required: true\n  },\n  value: {\n    type: String,\n    required: true\n  }\n}, {\n  collection: 'accessTokens'\n});\n\nconst TokenModel = _mongoose.default.model('accessTokens', tokenSchema);\n\nasync function create(user) {\n  const access = 'auth';\n  const userData = {\n    userId: user.id,\n    name: user.loginName,\n    role: user.role,\n    access: access\n  };\n\n  const value = _jsonwebtoken.default.sign(userData, _config.default.JwtSecret, {\n    expiresIn: '3h'\n  });\n\n  const result = await TokenModel({\n    userId: user.id,\n    type: 'authorization',\n    value: value,\n    createDate: _momentWrapper.default.get().valueOf()\n  }).save();\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n}\n\nasync function createPasswordReset(user) {\n  const access = 'auth';\n  const userData = {\n    userId: user.id,\n    name: user.loginName,\n    role: user.role,\n    access: access\n  };\n\n  const value = _jsonwebtoken.default.sign(userData, _config.default.JwtSecret, {\n    expiresIn: '10m'\n  });\n\n  const result = await TokenModel({\n    userId: user.id,\n    type: 'authorization',\n    value: value,\n    createDate: _momentWrapper.default.get().valueOf()\n  }).save();\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n}\n\nasync function get(tokenValue) {\n  const result = await TokenModel.findOne({\n    value: tokenValue\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.UNAUTHORIZED, 'Token not found');\n}\n\nasync function remove(userId) {\n  return await TokenModel.deleteOne({\n    userId: userId\n  });\n}\n\nvar _default = {\n  create: create,\n  createPasswordReset: createPasswordReset,\n  get: get,\n  remove: remove,\n  tokenTypeEnum: tokenTypeEnum,\n  model: TokenModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRva2VuREFPLmpzIl0sIm5hbWVzIjpbInRva2VuVHlwZUVudW0iLCJhdXRob3JpemF0aW9uIiwidG9rZW5UeXBlcyIsInRva2VuU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3JlYXRlRGF0ZSIsIk51bWJlciIsIlN0cmluZyIsImVudW0iLCJ2YWx1ZSIsImNvbGxlY3Rpb24iLCJUb2tlbk1vZGVsIiwibW9kZWwiLCJjcmVhdGUiLCJ1c2VyIiwiYWNjZXNzIiwidXNlckRhdGEiLCJpZCIsIm5hbWUiLCJsb2dpbk5hbWUiLCJyb2xlIiwiand0Iiwic2lnbiIsImNvbmZpZyIsIkp3dFNlY3JldCIsImV4cGlyZXNJbiIsInJlc3VsdCIsIm1vbWVudFdyYXBwZXIiLCJnZXQiLCJ2YWx1ZU9mIiwic2F2ZSIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwibmV3IiwiQkFEX1JFUVVFU1QiLCJlcnJvciIsIm1lc3NhZ2UiLCJjcmVhdGVQYXNzd29yZFJlc2V0IiwidG9rZW5WYWx1ZSIsImZpbmRPbmUiLCJVTkFVVEhPUklaRUQiLCJyZW1vdmUiLCJkZWxldGVPbmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxhQUFhLEdBQUc7QUFDcEJDLEVBQUFBLGFBQWEsRUFBRTtBQURLLENBQXRCO0FBSUEsTUFBTUMsVUFBVSxHQUFHLENBQUNGLGFBQWEsQ0FBQ0MsYUFBZixDQUFuQjtBQUVBLE1BQU1FLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUgsa0JBQVNJLEtBQVQsQ0FBZUMsUUFBdkI7QUFBaUNDLElBQUFBLEdBQUcsRUFBRSxNQUF0QztBQUE4Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQXhE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T0FBakUsQ0FBTjtBQUNEOztBQUVELGVBQWVQLEdBQWYsQ0FBbUJTLFVBQW5CLEVBQStCO0FBQzdCLFFBQU1YLE1BQU0sR0FBRyxNQUFNZixVQUFVLENBQUMyQixPQUFYLENBQW1CO0FBQUU3QixJQUFBQSxLQUFLLEVBQUU0QjtBQUFULEdBQW5CLENBQXJCOztBQUNBLE1BQUlYLE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEOztBQUNELFFBQU1LLDhCQUFxQkMsR0FBckIsQ0FBeUJELDhCQUFxQlEsWUFBOUMsRUFBNEQsaUJBQTVELENBQU47QUFDRDs7QUFFRCxlQUFlQyxNQUFmLENBQXNCekMsTUFBdEIsRUFBOEI7QUFDNUIsU0FBTyxNQUFNWSxVQUFVLENBQUM4QixTQUFYLENBQXFCO0FBQUUxQyxJQUFBQSxNQUFNLEVBQUVBO0FBQVYsR0FBckIsQ0FBYjtBQUNEOztlQUVjO0FBQ2JjLEVBQUFBLE1BQU0sRUFBRUEsTUFESztBQUVidUIsRUFBQUEsbUJBQW1CLEVBQUVBLG1CQUZSO0FBR2JSLEVBQUFBLEdBQUcsRUFBRUEsR0FIUTtBQUliWSxFQUFBQSxNQUFNLEVBQUVBLE1BSks7QUFLYi9DLEVBQUFBLGFBQWEsRUFBRUEsYUFMRjtBQU1ibUIsRUFBQUEsS0FBSyxFQUFFRDtBQU5NLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXERBT1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5pbXBvcnQgbW9tZW50V3JhcHBlciBmcm9tICcuLi9zZXJ2aWNlL21vbWVudFdyYXBwZXInO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBtb25nb0NvbnZlcnRlciBmcm9tICcuLi9zZXJ2aWNlL21vbmdvQ29udmVydGVyJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG5cclxuY29uc3QgdG9rZW5UeXBlRW51bSA9IHtcclxuICBhdXRob3JpemF0aW9uOiAnYXV0aG9yaXphdGlvbidcclxufTtcclxuXHJcbmNvbnN0IHRva2VuVHlwZXMgPSBbdG9rZW5UeXBlRW51bS5hdXRob3JpemF0aW9uXTtcclxuXHJcbmNvbnN0IHRva2VuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7IHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCByZWY6ICd1c2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjcmVhdGVEYXRlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZW51bTogdG9rZW5UeXBlcywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB2YWx1ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH1cclxufSwge1xyXG4gIGNvbGxlY3Rpb246ICdhY2Nlc3NUb2tlbnMnXHJcbn0pO1xyXG5cclxuY29uc3QgVG9rZW5Nb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdhY2Nlc3NUb2tlbnMnLCB0b2tlblNjaGVtYSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUodXNlcikge1xyXG4gIGNvbnN0IGFjY2VzcyA9ICdhdXRoJztcclxuICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgIG5hbWU6IHVzZXIubG9naW5OYW1lLFxyXG4gICAgcm9sZTogdXNlci5yb2xlLFxyXG4gICAgYWNjZXNzOiBhY2Nlc3NcclxuICB9O1xyXG4gIGNvbnN0IHZhbHVlID0gand0LnNpZ24oXHJcbiAgICB1c2VyRGF0YSxcclxuICAgIGNvbmZpZy5Kd3RTZWNyZXQsXHJcbiAgICB7XHJcbiAgICAgIGV4cGlyZXNJbjogJzNoJ1xyXG4gICAgfSk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVG9rZW5Nb2RlbCh7XHJcbiAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICB0eXBlOiAnYXV0aG9yaXphdGlvbicsXHJcbiAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICBjcmVhdGVEYXRlOiBtb21lbnRXcmFwcGVyLmdldCgpLnZhbHVlT2YoKVxyXG4gIH0pLnNhdmUoKTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLkJBRF9SRVFVRVNULCBlcnJvci5tZXNzYWdlKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGFzc3dvcmRSZXNldCh1c2VyKSB7XHJcbiAgY29uc3QgYWNjZXNzID0gJ2F1dGgnO1xyXG4gIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgbmFtZTogdXNlci5sb2dpbk5hbWUsXHJcbiAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICBhY2Nlc3M6IGFjY2Vzc1xyXG4gIH07XHJcbiAgY29uc3QgdmFsdWUgPSBqd3Quc2lnbihcclxuICAgIHVzZXJEYXRhLFxyXG4gICAgY29uZmlnLkp3dFNlY3JldCxcclxuICAgIHtcclxuICAgICAgZXhwaXJlc0luOiAnMTBtJ1xyXG4gICAgfSk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVG9rZW5Nb2RlbCh7XHJcbiAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICB0eXBlOiAnYXV0aG9yaXphdGlvbicsXHJcbiAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICBjcmVhdGVEYXRlOiBtb21lbnRXcmFwcGVyLmdldCgpLnZhbHVlT2YoKVxyXG4gIH0pLnNhdmUoKTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLkJBRF9SRVFVRVNULCBlcnJvci5tZXNzYWdlKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0KHRva2VuVmFsdWUpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBUb2tlbk1vZGVsLmZpbmRPbmUoeyB2YWx1ZTogdG9rZW5WYWx1ZSB9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLlVOQVVUSE9SSVpFRCwgJ1Rva2VuIG5vdCBmb3VuZCcpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW1vdmUodXNlcklkKSB7XHJcbiAgcmV0dXJuIGF3YWl0IFRva2VuTW9kZWwuZGVsZXRlT25lKHsgdXNlcklkOiB1c2VySWQgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjcmVhdGU6IGNyZWF0ZSxcclxuICBjcmVhdGVQYXNzd29yZFJlc2V0OiBjcmVhdGVQYXNzd29yZFJlc2V0LFxyXG4gIGdldDogZ2V0LFxyXG4gIHJlbW92ZTogcmVtb3ZlLFxyXG4gIHRva2VuVHlwZUVudW06IHRva2VuVHlwZUVudW0sXHJcbiAgbW9kZWw6IFRva2VuTW9kZWxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "tokenDAO.js"
      ],
      "names": [
        "tokenTypeEnum",
        "authorization",
        "tokenTypes",
        "tokenSchema",
        "mongoose",
        "Schema",
        "userId",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "required",
        "createDate",
        "Number",
        "String",
        "enum",
        "value",
        "collection",
        "TokenModel",
        "model",
        "create",
        "user",
        "access",
        "userData",
        "id",
        "name",
        "loginName",
        "role",
        "jwt",
        "sign",
        "config",
        "JwtSecret",
        "expiresIn",
        "result",
        "momentWrapper",
        "get",
        "valueOf",
        "save",
        "applicationException",
        "new",
        "BAD_REQUEST",
        "error",
        "message",
        "createPasswordReset",
        "tokenValue",
        "findOne",
        "UNAUTHORIZED",
        "remove",
        "deleteOne"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport config from '../config';\r\nimport momentWrapper from '../service/momentWrapper';\r\nimport jwt from 'jsonwebtoken';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport applicationException from '../service/applicationException';\r\n\r\nconst tokenTypeEnum = {\r\n  authorization: 'authorization'\r\n};\r\n\r\nconst tokenTypes = [tokenTypeEnum.authorization];\r\n\r\nconst tokenSchema = new mongoose.Schema({\r\n  userId: { type: mongoose.Types.ObjectId, ref: 'user', required: true },\r\n  createDate: { type: Number, required: true },\r\n  type: { type: String, enum: tokenTypes, required: true },\r\n  value: { type: String, required: true }\r\n}, {\r\n  collection: 'accessTokens'\r\n});\r\n\r\nconst TokenModel = mongoose.model('accessTokens', tokenSchema);\r\n\r\nasync function create(user) {\r\n  const access = 'auth';\r\n  const userData = {\r\n    userId: user.id,\r\n    name: user.loginName,\r\n    role: user.role,\r\n    access: access\r\n  };\r\n  const value = jwt.sign(\r\n    userData,\r\n    config.JwtSecret,\r\n    {\r\n      expiresIn: '3h'\r\n    });\r\n  const result = await TokenModel({\r\n    userId: user.id,\r\n    type: 'authorization',\r\n    value: value,\r\n    createDate: momentWrapper.get().valueOf()\r\n  }).save();\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n}\r\n\r\nasync function createPasswordReset(user) {\r\n  const access = 'auth';\r\n  const userData = {\r\n    userId: user.id,\r\n    name: user.loginName,\r\n    role: user.role,\r\n    access: access\r\n  };\r\n  const value = jwt.sign(\r\n    userData,\r\n    config.JwtSecret,\r\n    {\r\n      expiresIn: '10m'\r\n    });\r\n  const result = await TokenModel({\r\n    userId: user.id,\r\n    type: 'authorization',\r\n    value: value,\r\n    createDate: momentWrapper.get().valueOf()\r\n  }).save();\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n}\r\n\r\nasync function get(tokenValue) {\r\n  const result = await TokenModel.findOne({ value: tokenValue });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.UNAUTHORIZED, 'Token not found');\r\n}\r\n\r\nasync function remove(userId) {\r\n  return await TokenModel.deleteOne({ userId: userId });\r\n}\r\n\r\nexport default {\r\n  create: create,\r\n  createPasswordReset: createPasswordReset,\r\n  get: get,\r\n  remove: remove,\r\n  tokenTypeEnum: tokenTypeEnum,\r\n  model: TokenModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1610111282045
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst config = {\n  port: process.env.PORT || 3000,\n  databaseUrl: process.env.MONGODB_URI || 'mongodb+srv://admin:mongodb@meanproject.be50c.mongodb.net/meanproject?retryWrites=true&w=majority',\n  JwtSecret: process.env.JWT_SECRET || 'secret',\n  GmailPassword: process.env.GMAIL_PASSWORD || 'AptekaOnline#321'\n};\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJkYXRhYmFzZVVybCIsIk1PTkdPREJfVVJJIiwiSnd0U2VjcmV0IiwiSldUX1NFQ1JFVCIsIkdtYWlsUGFzc3dvcmQiLCJHTUFJTF9QQVNTV09SRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsTUFBTSxHQUFHO0FBQ2JDLEVBQUFBLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFEYjtBQUViQyxFQUFBQSxXQUFXLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUFaLElBQTJCLG1HQUYzQjtBQUdiQyxFQUFBQSxTQUFTLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxVQUFaLElBQTBCLFFBSHhCO0FBSWJDLEVBQUFBLGFBQWEsRUFBRVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLGNBQVosSUFBOEI7QUFKaEMsQ0FBZjtlQU1lVixNIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWcgPSB7XHJcbiAgcG9ydDogcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwLFxyXG4gIGRhdGFiYXNlVXJsOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYitzcnY6Ly9hZG1pbjptb25nb2RiQG1lYW5wcm9qZWN0LmJlNTBjLm1vbmdvZGIubmV0L21lYW5wcm9qZWN0P3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eScsXHJcbiAgSnd0U2VjcmV0OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzZWNyZXQnLFxyXG4gIEdtYWlsUGFzc3dvcmQ6IHByb2Nlc3MuZW52LkdNQUlMX1BBU1NXT1JEIHx8ICdBcHRla2FPbmxpbmUjMzIxJ1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "config",
        "port",
        "process",
        "env",
        "PORT",
        "databaseUrl",
        "MONGODB_URI",
        "JwtSecret",
        "JWT_SECRET",
        "GmailPassword",
        "GMAIL_PASSWORD"
      ],
      "mappings": ";;;;;;AAAA,MAAMA,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IADb;AAEbC,EAAAA,WAAW,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAAZ,IAA2B,mGAF3B;AAGbC,EAAAA,SAAS,EAAEL,OAAO,CAACC,GAAR,CAAYK,UAAZ,IAA0B,QAHxB;AAIbC,EAAAA,aAAa,EAAEP,OAAO,CAACC,GAAR,CAAYO,cAAZ,IAA8B;AAJhC,CAAf;eAMeV,M",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\",
      "sourcesContent": [
        "const config = {\r\n  port: process.env.PORT || 3000,\r\n  databaseUrl: process.env.MONGODB_URI || 'mongodb+srv://admin:mongodb@meanproject.be50c.mongodb.net/meanproject?retryWrites=true&w=majority',\r\n  JwtSecret: process.env.JWT_SECRET || 'secret',\r\n  GmailPassword: process.env.GMAIL_PASSWORD || 'AptekaOnline#321'\r\n}\r\nexport default config;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611922740397
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\service\\\\momentWrapper.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\momentWrapper.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\momentWrapper.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\momentWrapper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
        "sourceFileName": "momentWrapper.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nlet mockedTime;\n\nfunction get(time, format) {\n  if (null === time) {\n    time = undefined;\n  }\n\n  if (null === format) {\n    format = undefined;\n  }\n\n  return _moment.default.utc(time || mockedTime, format);\n}\n\nfunction set(time, format) {\n  if (null === time) {\n    time = undefined;\n  }\n\n  if (null === format) {\n    format = undefined;\n  }\n\n  mockedTime = undefined;\n\n  if (null !== time) {\n    mockedTime = _moment.default.utc(time, format);\n  }\n\n  return get(time, format);\n}\n\nvar _default = {\n  raw: _moment.default,\n  get: get,\n  set: set\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbWVudFdyYXBwZXIuanMiXSwibmFtZXMiOlsibW9ja2VkVGltZSIsImdldCIsInRpbWUiLCJmb3JtYXQiLCJ1bmRlZmluZWQiLCJtb21lbnQiLCJ1dGMiLCJzZXQiLCJyYXciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFJQSxVQUFKOztBQUVBLFNBQVNDLEdBQVQsQ0FBYUMsSUFBYixFQUFtQkMsTUFBbkIsRUFBMkI7QUFDekIsTUFBSSxTQUFTRCxJQUFiLEVBQW1CO0FBQ2pCQSxJQUFBQSxJQUFJLEdBQUdFLFNBQVA7QUFDRDs7QUFDRCxNQUFJLFNBQVNELE1BQWIsRUFBcUI7QUFDbkJBLElBQUFBLE1BQU0sR0FBR0MsU0FBVDtBQUNEOztBQUNELFNBQU9DLGdCQUFPQyxHQUFQLENBQVdKLElBQUksSUFBSUYsVUFBbkIsRUFBK0JHLE1BQS9CLENBQVA7QUFDRDs7QUFFRCxTQUFTSSxHQUFULENBQWFMLElBQWIsRUFBbUJDLE1BQW5CLEVBQTJCO0FBQ3pCLE1BQUksU0FBU0QsSUFBYixFQUFtQjtBQUNqQkEsSUFBQUEsSUFBSSxHQUFHRSxTQUFQO0FBQ0Q7O0FBQ0QsTUFBSSxTQUFTRCxNQUFiLEVBQXFCO0FBQ25CQSxJQUFBQSxNQUFNLEdBQUdDLFNBQVQ7QUFDRDs7QUFDREosRUFBQUEsVUFBVSxHQUFHSSxTQUFiOztBQUNBLE1BQUksU0FBU0YsSUFBYixFQUFtQjtBQUNqQkYsSUFBQUEsVUFBVSxHQUFHSyxnQkFBT0MsR0FBUCxDQUFXSixJQUFYLEVBQWlCQyxNQUFqQixDQUFiO0FBQ0Q7O0FBQ0QsU0FBT0YsR0FBRyxDQUFDQyxJQUFELEVBQU9DLE1BQVAsQ0FBVjtBQUNEOztlQUVjO0FBQ2JLLEVBQUFBLEdBQUcsRUFBRUgsZUFEUTtBQUViSixFQUFBQSxHQUFHLEVBQUVBLEdBRlE7QUFHYk0sRUFBQUEsR0FBRyxFQUFFQTtBQUhRLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXHNlcnZpY2VcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuXHJcbmxldCBtb2NrZWRUaW1lO1xyXG5cclxuZnVuY3Rpb24gZ2V0KHRpbWUsIGZvcm1hdCkge1xyXG4gIGlmIChudWxsID09PSB0aW1lKSB7XHJcbiAgICB0aW1lID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBpZiAobnVsbCA9PT0gZm9ybWF0KSB7XHJcbiAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG4gIHJldHVybiBtb21lbnQudXRjKHRpbWUgfHwgbW9ja2VkVGltZSwgZm9ybWF0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0KHRpbWUsIGZvcm1hdCkge1xyXG4gIGlmIChudWxsID09PSB0aW1lKSB7XHJcbiAgICB0aW1lID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBpZiAobnVsbCA9PT0gZm9ybWF0KSB7XHJcbiAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG4gIG1vY2tlZFRpbWUgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKG51bGwgIT09IHRpbWUpIHtcclxuICAgIG1vY2tlZFRpbWUgPSBtb21lbnQudXRjKHRpbWUsIGZvcm1hdCk7XHJcbiAgfVxyXG4gIHJldHVybiBnZXQodGltZSwgZm9ybWF0KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHJhdzogbW9tZW50LFxyXG4gIGdldDogZ2V0LFxyXG4gIHNldDogc2V0XHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "momentWrapper.js"
      ],
      "names": [
        "mockedTime",
        "get",
        "time",
        "format",
        "undefined",
        "moment",
        "utc",
        "set",
        "raw"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AAEA,IAAIA,UAAJ;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmBC,MAAnB,EAA2B;AACzB,MAAI,SAASD,IAAb,EAAmB;AACjBA,IAAAA,IAAI,GAAGE,SAAP;AACD;;AACD,MAAI,SAASD,MAAb,EAAqB;AACnBA,IAAAA,MAAM,GAAGC,SAAT;AACD;;AACD,SAAOC,gBAAOC,GAAP,CAAWJ,IAAI,IAAIF,UAAnB,EAA+BG,MAA/B,CAAP;AACD;;AAED,SAASI,GAAT,CAAaL,IAAb,EAAmBC,MAAnB,EAA2B;AACzB,MAAI,SAASD,IAAb,EAAmB;AACjBA,IAAAA,IAAI,GAAGE,SAAP;AACD;;AACD,MAAI,SAASD,MAAb,EAAqB;AACnBA,IAAAA,MAAM,GAAGC,SAAT;AACD;;AACDJ,EAAAA,UAAU,GAAGI,SAAb;;AACA,MAAI,SAASF,IAAb,EAAmB;AACjBF,IAAAA,UAAU,GAAGK,gBAAOC,GAAP,CAAWJ,IAAX,EAAiBC,MAAjB,CAAb;AACD;;AACD,SAAOF,GAAG,CAACC,IAAD,EAAOC,MAAP,CAAV;AACD;;eAEc;AACbK,EAAAA,GAAG,EAAEH,eADQ;AAEbJ,EAAAA,GAAG,EAAEA,GAFQ;AAGbM,EAAAA,GAAG,EAAEA;AAHQ,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\service\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport moment from 'moment';\r\n\r\nlet mockedTime;\r\n\r\nfunction get(time, format) {\r\n  if (null === time) {\r\n    time = undefined;\r\n  }\r\n  if (null === format) {\r\n    format = undefined;\r\n  }\r\n  return moment.utc(time || mockedTime, format);\r\n}\r\n\r\nfunction set(time, format) {\r\n  if (null === time) {\r\n    time = undefined;\r\n  }\r\n  if (null === format) {\r\n    format = undefined;\r\n  }\r\n  mockedTime = undefined;\r\n  if (null !== time) {\r\n    mockedTime = moment.utc(time, format);\r\n  }\r\n  return get(time, format);\r\n}\r\n\r\nexport default {\r\n  raw: moment,\r\n  get: get,\r\n  set: set\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606046457029
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\equipment.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\equipment.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\equipment.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\equipment.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "equipment.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _equipmentDAO = _interopRequireDefault(require(\"../DAO/equipmentDAO\"));\n\nvar _medicineDAO = _interopRequireDefault(require(\"../DAO/medicineDAO\"));\n\nfunction create(context) {\n  async function query() {\n    let result = _equipmentDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function get(id) {\n    let result = await _equipmentDAO.default.get(id);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function createNewOrUpdate(data) {\n    let result = await _equipmentDAO.default.createNewOrUpdate(data);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function removeEquipmentById(id) {\n    return await _equipmentDAO.default.removeById(id);\n  }\n\n  return {\n    query: query,\n    get: get,\n    createNewOrUpdate: createNewOrUpdate,\n    removeEquipmentById: removeEquipmentById\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWlwbWVudC5tYW5hZ2VyLmpzIl0sIm5hbWVzIjpbImNyZWF0ZSIsImNvbnRleHQiLCJxdWVyeSIsInJlc3VsdCIsImVxdWlwbWVudERBTyIsImdldCIsImlkIiwiY3JlYXRlTmV3T3JVcGRhdGUiLCJkYXRhIiwicmVtb3ZlRXF1aXBtZW50QnlJZCIsInJlbW92ZUJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxPQUFoQixFQUF5QjtBQUN2QixpQkFBZUMsS0FBZixHQUF1QjtBQUNyQixRQUFJQyxNQUFNLEdBQUdDLHNCQUFhRixLQUFiLEVBQWI7O0FBQ0EsUUFBSUMsTUFBSixFQUFZO0FBQ1YsYUFBT0EsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQsaUJBQWVFLEdBQWYsQ0FBbUJDLEVBQW5CLEVBQXVCO0FBQ3JCLFFBQUlILE1BQU0sR0FBRyxNQUFNQyxzQkFBYUMsR0FBYixDQUFpQkMsRUFBakIsQ0FBbkI7O0FBQ0EsUUFBSUgsTUFBSixFQUFZO0FBQ1YsYUFBT0EsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQsaUJBQWVJLGlCQUFmLENBQWlDQyxJQUFqQyxFQUF1QztBQUNyQyxRQUFJTCxNQUFNLEdBQUcsTUFBTUMsc0JBQWFHLGlCQUFiLENBQStCQyxJQUEvQixDQUFuQjs7QUFDQSxRQUFJTCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxpQkFBZU0sbUJBQWYsQ0FBbUNILEVBQW5DLEVBQXVDO0FBQ3JDLFdBQU8sTUFBTUYsc0JBQWFNLFVBQWIsQ0FBd0JKLEVBQXhCLENBQWI7QUFDRDs7QUFFRCxTQUFPO0FBQ0xKLElBQUFBLEtBQUssRUFBRUEsS0FERjtBQUVMRyxJQUFBQSxHQUFHLEVBQUVBLEdBRkE7QUFHTEUsSUFBQUEsaUJBQWlCLEVBQUVBLGlCQUhkO0FBSUxFLElBQUFBLG1CQUFtQixFQUFFQTtBQUpoQixHQUFQO0FBTUQ7O2VBRWM7QUFDYlQsRUFBQUEsTUFBTSxFQUFFQTtBQURLLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXGJ1c2luZXNzXFwiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgZXF1aXBtZW50REFPIGZyb20gXCIuLi9EQU8vZXF1aXBtZW50REFPXCI7XHJcbmltcG9ydCBtZWRpY2luZURBTyBmcm9tIFwiLi4vREFPL21lZGljaW5lREFPXCI7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUoY29udGV4dCkge1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IGVxdWlwbWVudERBTy5xdWVyeSgpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0KGlkKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXF1aXBtZW50REFPLmdldChpZCk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdPclVwZGF0ZShkYXRhKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXF1aXBtZW50REFPLmNyZWF0ZU5ld09yVXBkYXRlKGRhdGEpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlRXF1aXBtZW50QnlJZChpZCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGVxdWlwbWVudERBTy5yZW1vdmVCeUlkKGlkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBxdWVyeTogcXVlcnksXHJcbiAgICBnZXQ6IGdldCxcclxuICAgIGNyZWF0ZU5ld09yVXBkYXRlOiBjcmVhdGVOZXdPclVwZGF0ZSxcclxuICAgIHJlbW92ZUVxdWlwbWVudEJ5SWQ6IHJlbW92ZUVxdWlwbWVudEJ5SWRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY3JlYXRlOiBjcmVhdGVcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "equipment.manager.js"
      ],
      "names": [
        "create",
        "context",
        "query",
        "result",
        "equipmentDAO",
        "get",
        "id",
        "createNewOrUpdate",
        "data",
        "removeEquipmentById",
        "removeById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,iBAAeC,KAAf,GAAuB;AACrB,QAAIC,MAAM,GAAGC,sBAAaF,KAAb,EAAb;;AACA,QAAIC,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeE,GAAf,CAAmBC,EAAnB,EAAuB;AACrB,QAAIH,MAAM,GAAG,MAAMC,sBAAaC,GAAb,CAAiBC,EAAjB,CAAnB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeI,iBAAf,CAAiCC,IAAjC,EAAuC;AACrC,QAAIL,MAAM,GAAG,MAAMC,sBAAaG,iBAAb,CAA+BC,IAA/B,CAAnB;;AACA,QAAIL,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeM,mBAAf,CAAmCH,EAAnC,EAAuC;AACrC,WAAO,MAAMF,sBAAaM,UAAb,CAAwBJ,EAAxB,CAAb;AACD;;AAED,SAAO;AACLJ,IAAAA,KAAK,EAAEA,KADF;AAELG,IAAAA,GAAG,EAAEA,GAFA;AAGLE,IAAAA,iBAAiB,EAAEA,iBAHd;AAILE,IAAAA,mBAAmB,EAAEA;AAJhB,GAAP;AAMD;;eAEc;AACbT,EAAAA,MAAM,EAAEA;AADK,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport equipmentDAO from \"../DAO/equipmentDAO\";\r\nimport medicineDAO from \"../DAO/medicineDAO\";\r\n\r\nfunction create(context) {\r\n  async function query() {\r\n    let result = equipmentDAO.query();\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function get(id) {\r\n    let result = await equipmentDAO.get(id);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function createNewOrUpdate(data) {\r\n    let result = await equipmentDAO.createNewOrUpdate(data);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function removeEquipmentById(id) {\r\n    return await equipmentDAO.removeById(id);\r\n  }\r\n\r\n  return {\r\n    query: query,\r\n    get: get,\r\n    createNewOrUpdate: createNewOrUpdate,\r\n    removeEquipmentById: removeEquipmentById\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609929264540
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\equipmentDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\equipmentDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\equipmentDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\equipmentDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "equipmentDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst equipmentSchema = new _mongoose.default.Schema({\n  name: {\n    type: String\n  },\n  price: {\n    type: String\n  },\n  imageURL: {\n    type: String\n  },\n  description: {\n    type: String\n  }\n}, {\n  collection: 'equipment'\n});\nequipmentSchema.plugin(_mongooseUniqueValidator.default);\n\nconst EquipmentModel = _mongoose.default.model('equipment', equipmentSchema);\n\nfunction createNewOrUpdate(order) {\n  return Promise.resolve().then(() => {\n    if (!order.id) {\n      return new EquipmentModel(order).save().then(result => {\n        if (result) {\n          return (0, _mongoConverter.default)(result);\n        }\n      });\n    } else {\n      return EquipmentModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), {\n        new: true\n      });\n    }\n  }).catch(error => {\n    if ('ValidationError' === error.name) {\n      error = error.errors[Object.keys(error.errors)[0]];\n      throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n    }\n\n    throw error;\n  });\n}\n\nasync function query() {\n  const result = await EquipmentModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n}\n\nasync function get(id) {\n  const result = await EquipmentModel.findOne({\n    _id: id\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Equipment not found');\n}\n\nasync function removeById(id) {\n  return await EquipmentModel.findByIdAndRemove(id);\n}\n\nvar _default = {\n  createNewOrUpdate: createNewOrUpdate,\n  removeById: removeById,\n  query: query,\n  get: get,\n  model: EquipmentModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWlwbWVudERBTy5qcyJdLCJuYW1lcyI6WyJlcXVpcG1lbnRTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicHJpY2UiLCJpbWFnZVVSTCIsImRlc2NyaXB0aW9uIiwiY29sbGVjdGlvbiIsInBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIkVxdWlwbWVudE1vZGVsIiwibW9kZWwiLCJjcmVhdGVOZXdPclVwZGF0ZSIsIm9yZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiaWQiLCJzYXZlIiwicmVzdWx0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfIiwib21pdCIsIm5ldyIsImNhdGNoIiwiZXJyb3IiLCJlcnJvcnMiLCJPYmplY3QiLCJrZXlzIiwiYXBwbGljYXRpb25FeGNlcHRpb24iLCJCQURfUkVRVUVTVCIsIm1lc3NhZ2UiLCJxdWVyeSIsImZpbmQiLCJnZXQiLCJmaW5kT25lIiwiX2lkIiwiTk9UX0ZPVU5EIiwicmVtb3ZlQnlJZCIsImZpbmRCeUlkQW5kUmVtb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFDQyxJQUFBQSxJQUFJLEVBQUVDO0FBQVAsR0FEb0M7QUFFMUNDLEVBQUFBLEtBQUssRUFBRTtBQUFDRixJQUFBQSxJQUFJLEVBQUVDO0FBQVAsR0FGbUM7QUFHMUNFLEVBQUFBLFFBQVEsRUFBRTtBQUFDSCxJQUFBQSxJQUFJLEVBQUVDO0FBQVAsR0FIZ0M7QUFJMUNHLEVBQUFBLFdBQVcsRUFBRTtBQUFDSixJQUFBQSxJQUFJLEVBQUVDO0FBQVA7QUFKNkIsQ0FBcEIsRUFLckI7QUFDREksRUFBQUEsVUFBVSxFQUFFO0FBRFgsQ0FMcUIsQ0FBeEI7QUFTQVQsZUFBZSxDQUFDVSxNQUFoQixDQUF1QkMsZ0NBQXZCOztBQUVBLE1BQU1DLGNBQWMsR0FBR1gsa0JBQVNZLEtBQVQsQ0FBZSxXQUFmLEVBQTRCYixlQUE1QixDQUF2Qjs7QUFFQSxTQUFTYyxpQkFBVCxDQUEyQkMsS0FBM0IsRUFBa0M7QUFDaEMsU0FBT0MsT0FBTyxDQUFDQyxPQUFSLEdBQWtCQyxJQUFsQixDQUF1QixNQUFNO0FBQ2xDLFFBQUksQ0FBQ0gsS0FBSyxDQUFDSSxFQUFYLEVBQWU7QUFDYixhQUFPLElBQUlQLGNBQUosQ0FBbUJHLEtBQW5CLEVBQTBCSyxJQUExQixHQUFpQ0YsSUFBakMsQ0FBc0NHLE1BQU0sSUFBSTtBQUNyRCxZQUFJQSxNQUFKLEVBQVk7QUFDVixpQkFBTyw2QkFBZUEsTUFBZixDQUFQO0FBQ0Q7QUFDRixPQUpNLENBQVA7QUFLRCxLQU5ELE1BTU87QUFDTCxhQUFPVCxjQUFjLENBQUNVLGlCQUFmLENBQWlDUCxLQUFLLENBQUNJLEVBQXZDLEVBQTJDSSxDQUFDLENBQUNDLElBQUYsQ0FBT1QsS0FBUCxFQUFjLElBQWQsQ0FBM0MsRUFBZ0U7QUFBRVUsUUFBQUEsR0FBRyxFQUFFO0FBQVAsT0FBaEUsQ0FBUDtBQUNEO0FBQ0YsR0FWTSxFQVVKQyxLQVZJLENBVUVDLEtBQUssSUFBSTtBQUNoQixRQUFJLHNCQUFzQkEsS0FBSyxDQUFDeEIsSUFBaEMsRUFBc0M7QUFDcEN3QixNQUFBQSxLQUFLLEdBQUdBLEtBQUssQ0FBQ0MsTUFBTixDQUFhQyxNQUFNLENBQUNDLElBQVAsQ0FBWUgsS0FBSyxDQUFDQyxNQUFsQixFQUEwQixDQUExQixDQUFiLENBQVI7QUFDQSxZQUFNRyw4QkFBcUJOLEdBQXJCLENBQXlCTSw4QkFBcUJDLFdBQTlDLEVBQTJETCxLQUFLLENBQUNNLE9BQWpFLENBQU47QUFDRDs7QUFDRCxVQUFNTixLQUFOO0FBQ0QsR0FoQk0sQ0FBUDtBQWlCRDs7QUFFRCxlQUFlTyxLQUFmLEdBQXVCO0FBQ3JCLFFBQU1iLE1BQU0sR0FBRyxNQUFNVCxjQUFjLENBQUN1QixJQUFmLENBQW9CLEVBQXBCLENBQXJCOztBQUNBLE1BQUlkLE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBZWUsR0FBZixDQUFtQmpCLEVBQW5CLEVBQXVCO0FBQ3JCLFFBQU1FLE1BQU0sR0FBRyxNQUFNVCxjQUFjLENBQUN5QixPQUFmLENBQXVCO0FBQUVDLElBQUFBLEdBQUcsRUFBRW5CO0FBQVAsR0FBdkIsQ0FBckI7O0FBQ0EsTUFBSUUsTUFBSixFQUFZO0FBQ1YsV0FBTyw2QkFBZUEsTUFBZixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTVUsOEJBQXFCTixHQUFyQixDQUF5Qk0sOEJBQXFCUSxTQUE5QyxFQUF5RCxxQkFBekQsQ0FBTjtBQUNEOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJyQixFQUExQixFQUE4QjtBQUM1QixTQUFPLE1BQU1QLGNBQWMsQ0FBQzZCLGlCQUFmLENBQWlDdEIsRUFBakMsQ0FBYjtBQUNEOztlQUVjO0FBQ2JMLEVBQUFBLGlCQUFpQixFQUFFQSxpQkFETjtBQUViMEIsRUFBQUEsVUFBVSxFQUFFQSxVQUZDO0FBR2JOLEVBQUFBLEtBQUssRUFBRUEsS0FITTtBQUliRSxFQUFBQSxHQUFHLEVBQUVBLEdBSlE7QUFLYnZCLEVBQUFBLEtBQUssRUFBRUQ7QUFMTSxDIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxEQU9cXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XHJcbmltcG9ydCBtb25nb0NvbnZlcnRlciBmcm9tICcuLi9zZXJ2aWNlL21vbmdvQ29udmVydGVyJztcclxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkV4Y2VwdGlvbiBmcm9tIFwiLi4vc2VydmljZS9hcHBsaWNhdGlvbkV4Y2VwdGlvblwiO1xyXG5cclxuY29uc3QgZXF1aXBtZW50U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZToge3R5cGU6IFN0cmluZ30sXHJcbiAgcHJpY2U6IHt0eXBlOiBTdHJpbmd9LFxyXG4gIGltYWdlVVJMOiB7dHlwZTogU3RyaW5nfSxcclxuICBkZXNjcmlwdGlvbjoge3R5cGU6IFN0cmluZ30sXHJcbn0sIHtcclxuICBjb2xsZWN0aW9uOiAnZXF1aXBtZW50J1xyXG59KTtcclxuXHJcbmVxdWlwbWVudFNjaGVtYS5wbHVnaW4odW5pcXVlVmFsaWRhdG9yKTtcclxuXHJcbmNvbnN0IEVxdWlwbWVudE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ2VxdWlwbWVudCcsIGVxdWlwbWVudFNjaGVtYSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOZXdPclVwZGF0ZShvcmRlcikge1xyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgIGlmICghb3JkZXIuaWQpIHtcclxuICAgICAgcmV0dXJuIG5ldyBFcXVpcG1lbnRNb2RlbChvcmRlcikuc2F2ZSgpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIEVxdWlwbWVudE1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKG9yZGVyLmlkLCBfLm9taXQob3JkZXIsICdpZCcpLCB7IG5ldzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICBpZiAoJ1ZhbGlkYXRpb25FcnJvcicgPT09IGVycm9yLm5hbWUpIHtcclxuICAgICAgZXJyb3IgPSBlcnJvci5lcnJvcnNbT2JqZWN0LmtleXMoZXJyb3IuZXJyb3JzKVswXV07XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5CQURfUkVRVUVTVCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcXVlcnkoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRXF1aXBtZW50TW9kZWwuZmluZCh7fSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXQoaWQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBFcXVpcG1lbnRNb2RlbC5maW5kT25lKHsgX2lkOiBpZCB9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLk5PVF9GT1VORCwgJ0VxdWlwbWVudCBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQnlJZChpZCkge1xyXG4gIHJldHVybiBhd2FpdCBFcXVpcG1lbnRNb2RlbC5maW5kQnlJZEFuZFJlbW92ZShpZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjcmVhdGVOZXdPclVwZGF0ZTogY3JlYXRlTmV3T3JVcGRhdGUsXHJcbiAgcmVtb3ZlQnlJZDogcmVtb3ZlQnlJZCxcclxuICBxdWVyeTogcXVlcnksXHJcbiAgZ2V0OiBnZXQsXHJcbiAgbW9kZWw6IEVxdWlwbWVudE1vZGVsXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "equipmentDAO.js"
      ],
      "names": [
        "equipmentSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "price",
        "imageURL",
        "description",
        "collection",
        "plugin",
        "uniqueValidator",
        "EquipmentModel",
        "model",
        "createNewOrUpdate",
        "order",
        "Promise",
        "resolve",
        "then",
        "id",
        "save",
        "result",
        "findByIdAndUpdate",
        "_",
        "omit",
        "new",
        "catch",
        "error",
        "errors",
        "Object",
        "keys",
        "applicationException",
        "BAD_REQUEST",
        "message",
        "query",
        "find",
        "get",
        "findOne",
        "_id",
        "NOT_FOUND",
        "removeById",
        "findByIdAndRemove"
      ],
      "mappings": "AAAA;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAACC,IAAAA,IAAI,EAAEC;AAAP,GADoC;AAE1CC,EAAAA,KAAK,EAAE;AAACF,IAAAA,IAAI,EAAEC;AAAP,GAFmC;AAG1CE,EAAAA,QAAQ,EAAE;AAACH,IAAAA,IAAI,EAAEC;AAAP,GAHgC;AAI1CG,EAAAA,WAAW,EAAE;AAACJ,IAAAA,IAAI,EAAEC;AAAP;AAJ6B,CAApB,EAKrB;AACDI,EAAAA,UAAU,EAAE;AADX,CALqB,CAAxB;AASAT,eAAe,CAACU,MAAhB,CAAuBC,gCAAvB;;AAEA,MAAMC,cAAc,GAAGX,kBAASY,KAAT,CAAe,WAAf,EAA4Bb,eAA5B,CAAvB;;AAEA,SAASc,iBAAT,CAA2BC,KAA3B,EAAkC;AAChC,SAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,MAAM;AAClC,QAAI,CAACH,KAAK,CAACI,EAAX,EAAe;AACb,aAAO,IAAIP,cAAJ,CAAmBG,KAAnB,EAA0BK,IAA1B,GAAiCF,IAAjC,CAAsCG,MAAM,IAAI;AACrD,YAAIA,MAAJ,EAAY;AACV,iBAAO,6BAAeA,MAAf,CAAP;AACD;AACF,OAJM,CAAP;AAKD,KAND,MAMO;AACL,aAAOT,cAAc,CAACU,iBAAf,CAAiCP,KAAK,CAACI,EAAvC,EAA2CI,CAAC,CAACC,IAAF,CAAOT,KAAP,EAAc,IAAd,CAA3C,EAAgE;AAAEU,QAAAA,GAAG,EAAE;AAAP,OAAhE,CAAP;AACD;AACF,GAVM,EAUJC,KAVI,CAUEC,KAAK,IAAI;AAChB,QAAI,sBAAsBA,KAAK,CAACxB,IAAhC,EAAsC;AACpCwB,MAAAA,KAAK,GAAGA,KAAK,CAACC,MAAN,CAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACC,MAAlB,EAA0B,CAA1B,CAAb,CAAR;AACA,YAAMG,8BAAqBN,GAArB,CAAyBM,8BAAqBC,WAA9C,EAA2DL,KAAK,CAACM,OAAjE,CAAN;AACD;;AACD,UAAMN,KAAN;AACD,GAhBM,CAAP;AAiBD;;AAED,eAAeO,KAAf,GAAuB;AACrB,QAAMb,MAAM,GAAG,MAAMT,cAAc,CAACuB,IAAf,CAAoB,EAApB,CAArB;;AACA,MAAId,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;AACF;;AAED,eAAee,GAAf,CAAmBjB,EAAnB,EAAuB;AACrB,QAAME,MAAM,GAAG,MAAMT,cAAc,CAACyB,OAAf,CAAuB;AAAEC,IAAAA,GAAG,EAAEnB;AAAP,GAAvB,CAArB;;AACA,MAAIE,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;;AACD,QAAMU,8BAAqBN,GAArB,CAAyBM,8BAAqBQ,SAA9C,EAAyD,qBAAzD,CAAN;AACD;;AAED,eAAeC,UAAf,CAA0BrB,EAA1B,EAA8B;AAC5B,SAAO,MAAMP,cAAc,CAAC6B,iBAAf,CAAiCtB,EAAjC,CAAb;AACD;;eAEc;AACbL,EAAAA,iBAAiB,EAAEA,iBADN;AAEb0B,EAAAA,UAAU,EAAEA,UAFC;AAGbN,EAAAA,KAAK,EAAEA,KAHM;AAIbE,EAAAA,GAAG,EAAEA,GAJQ;AAKbvB,EAAAA,KAAK,EAAED;AALM,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport * as _ from \"lodash\";\r\nimport applicationException from \"../service/applicationException\";\r\n\r\nconst equipmentSchema = new mongoose.Schema({\r\n  name: {type: String},\r\n  price: {type: String},\r\n  imageURL: {type: String},\r\n  description: {type: String},\r\n}, {\r\n  collection: 'equipment'\r\n});\r\n\r\nequipmentSchema.plugin(uniqueValidator);\r\n\r\nconst EquipmentModel = mongoose.model('equipment', equipmentSchema);\r\n\r\nfunction createNewOrUpdate(order) {\r\n  return Promise.resolve().then(() => {\r\n    if (!order.id) {\r\n      return new EquipmentModel(order).save().then(result => {\r\n        if (result) {\r\n          return mongoConverter(result);\r\n        }\r\n      });\r\n    } else {\r\n      return EquipmentModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), { new: true });\r\n    }\r\n  }).catch(error => {\r\n    if ('ValidationError' === error.name) {\r\n      error = error.errors[Object.keys(error.errors)[0]];\r\n      throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n    }\r\n    throw error;\r\n  });\r\n}\r\n\r\nasync function query() {\r\n  const result = await EquipmentModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\nasync function get(id) {\r\n  const result = await EquipmentModel.findOne({ _id: id });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Equipment not found');\r\n}\r\n\r\nasync function removeById(id) {\r\n  return await EquipmentModel.findByIdAndRemove(id);\r\n}\r\n\r\nexport default {\r\n  createNewOrUpdate: createNewOrUpdate,\r\n  removeById: removeById,\r\n  query: query,\r\n  get: get,\r\n  model: EquipmentModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609929264535
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\order.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\order.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\order.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\order.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "order.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _orderDAO = _interopRequireDefault(require(\"../DAO/orderDAO\"));\n\nfunction create(context) {\n  async function query() {\n    let result = _orderDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function get(id) {\n    let result = await _orderDAO.default.get(id);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function getUserOrders(userId) {\n    let result = await _orderDAO.default.getUserOrders(userId);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function createNewOrUpdate(data) {\n    let result = await _orderDAO.default.createNewOrUpdate(data);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function removeOrderById(id) {\n    return await _orderDAO.default.removeById(id);\n  }\n\n  return {\n    query: query,\n    get: get,\n    getUserOrders: getUserOrders,\n    createNewOrUpdate: createNewOrUpdate,\n    removeOrderById: removeOrderById\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1hbmFnZXIuanMiXSwibmFtZXMiOlsiY3JlYXRlIiwiY29udGV4dCIsInF1ZXJ5IiwicmVzdWx0Iiwib3JkZXJEQU8iLCJnZXQiLCJpZCIsImdldFVzZXJPcmRlcnMiLCJ1c2VySWQiLCJjcmVhdGVOZXdPclVwZGF0ZSIsImRhdGEiLCJyZW1vdmVPcmRlckJ5SWQiLCJyZW1vdmVCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FBRUE7O0FBRUEsU0FBU0EsTUFBVCxDQUFnQkMsT0FBaEIsRUFBeUI7QUFDdkIsaUJBQWVDLEtBQWYsR0FBdUI7QUFDckIsUUFBSUMsTUFBTSxHQUFHQyxrQkFBU0YsS0FBVCxFQUFiOztBQUNBLFFBQUlDLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNGOztBQUVELGlCQUFlRSxHQUFmLENBQW1CQyxFQUFuQixFQUF1QjtBQUNyQixRQUFJSCxNQUFNLEdBQUcsTUFBTUMsa0JBQVNDLEdBQVQsQ0FBYUMsRUFBYixDQUFuQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxpQkFBZUksYUFBZixDQUE2QkMsTUFBN0IsRUFBcUM7QUFDbkMsUUFBSUwsTUFBTSxHQUFHLE1BQU1DLGtCQUFTRyxhQUFULENBQXVCQyxNQUF2QixDQUFuQjs7QUFDQSxRQUFJTCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxpQkFBZU0saUJBQWYsQ0FBaUNDLElBQWpDLEVBQXVDO0FBQ3JDLFFBQUlQLE1BQU0sR0FBRyxNQUFNQyxrQkFBU0ssaUJBQVQsQ0FBMkJDLElBQTNCLENBQW5COztBQUNBLFFBQUlQLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNGOztBQUVELGlCQUFlUSxlQUFmLENBQStCTCxFQUEvQixFQUFtQztBQUNqQyxXQUFPLE1BQU1GLGtCQUFTUSxVQUFULENBQW9CTixFQUFwQixDQUFiO0FBQ0Q7O0FBRUQsU0FBTztBQUNMSixJQUFBQSxLQUFLLEVBQUVBLEtBREY7QUFFTEcsSUFBQUEsR0FBRyxFQUFFQSxHQUZBO0FBR0xFLElBQUFBLGFBQWEsRUFBRUEsYUFIVjtBQUlMRSxJQUFBQSxpQkFBaUIsRUFBRUEsaUJBSmQ7QUFLTEUsSUFBQUEsZUFBZSxFQUFFQTtBQUxaLEdBQVA7QUFPRDs7ZUFFYztBQUNiWCxFQUFBQSxNQUFNLEVBQUVBO0FBREssQyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcYnVzaW5lc3NcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBvcmRlckRBTyBmcm9tIFwiLi4vREFPL29yZGVyREFPXCI7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUoY29udGV4dCkge1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IG9yZGVyREFPLnF1ZXJ5KCk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZXQoaWQpIHtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBvcmRlckRBTy5nZXQoaWQpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlck9yZGVycyh1c2VySWQpIHtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBvcmRlckRBTy5nZXRVc2VyT3JkZXJzKHVzZXJJZCk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdPclVwZGF0ZShkYXRhKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgb3JkZXJEQU8uY3JlYXRlTmV3T3JVcGRhdGUoZGF0YSk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVPcmRlckJ5SWQoaWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBvcmRlckRBTy5yZW1vdmVCeUlkKGlkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBxdWVyeTogcXVlcnksXHJcbiAgICBnZXQ6IGdldCxcclxuICAgIGdldFVzZXJPcmRlcnM6IGdldFVzZXJPcmRlcnMsXHJcbiAgICBjcmVhdGVOZXdPclVwZGF0ZTogY3JlYXRlTmV3T3JVcGRhdGUsXHJcbiAgICByZW1vdmVPcmRlckJ5SWQ6IHJlbW92ZU9yZGVyQnlJZFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjcmVhdGU6IGNyZWF0ZVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "order.manager.js"
      ],
      "names": [
        "create",
        "context",
        "query",
        "result",
        "orderDAO",
        "get",
        "id",
        "getUserOrders",
        "userId",
        "createNewOrUpdate",
        "data",
        "removeOrderById",
        "removeById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,iBAAeC,KAAf,GAAuB;AACrB,QAAIC,MAAM,GAAGC,kBAASF,KAAT,EAAb;;AACA,QAAIC,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeE,GAAf,CAAmBC,EAAnB,EAAuB;AACrB,QAAIH,MAAM,GAAG,MAAMC,kBAASC,GAAT,CAAaC,EAAb,CAAnB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeI,aAAf,CAA6BC,MAA7B,EAAqC;AACnC,QAAIL,MAAM,GAAG,MAAMC,kBAASG,aAAT,CAAuBC,MAAvB,CAAnB;;AACA,QAAIL,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeM,iBAAf,CAAiCC,IAAjC,EAAuC;AACrC,QAAIP,MAAM,GAAG,MAAMC,kBAASK,iBAAT,CAA2BC,IAA3B,CAAnB;;AACA,QAAIP,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeQ,eAAf,CAA+BL,EAA/B,EAAmC;AACjC,WAAO,MAAMF,kBAASQ,UAAT,CAAoBN,EAApB,CAAb;AACD;;AAED,SAAO;AACLJ,IAAAA,KAAK,EAAEA,KADF;AAELG,IAAAA,GAAG,EAAEA,GAFA;AAGLE,IAAAA,aAAa,EAAEA,aAHV;AAILE,IAAAA,iBAAiB,EAAEA,iBAJd;AAKLE,IAAAA,eAAe,EAAEA;AALZ,GAAP;AAOD;;eAEc;AACbX,EAAAA,MAAM,EAAEA;AADK,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport orderDAO from \"../DAO/orderDAO\";\r\n\r\nfunction create(context) {\r\n  async function query() {\r\n    let result = orderDAO.query();\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function get(id) {\r\n    let result = await orderDAO.get(id);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function getUserOrders(userId) {\r\n    let result = await orderDAO.getUserOrders(userId);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function createNewOrUpdate(data) {\r\n    let result = await orderDAO.createNewOrUpdate(data);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function removeOrderById(id) {\r\n    return await orderDAO.removeById(id);\r\n  }\r\n\r\n  return {\r\n    query: query,\r\n    get: get,\r\n    getUserOrders: getUserOrders,\r\n    createNewOrUpdate: createNewOrUpdate,\r\n    removeOrderById: removeOrderById\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1610277360804
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\orderDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\orderDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\orderDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\orderDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "orderDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _momentWrapper = _interopRequireDefault(require(\"../service/momentWrapper\"));\n\nconst orderSchema = new _mongoose.default.Schema({\n  userId: {\n    type: _mongoose.default.Types.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  medicines: {\n    type: Array\n  },\n  equipment: {\n    type: Array\n  },\n  shipment: {\n    type: Boolean\n  },\n  price: {\n    type: Number\n  },\n  payment: {\n    type: String\n  },\n  address: {\n    type: String\n  },\n  date: {\n    type: Date\n  },\n  email: {\n    type: String\n  }\n}, {\n  collection: 'orders'\n});\norderSchema.plugin(_mongooseUniqueValidator.default);\n\nconst OrderModel = _mongoose.default.model('orders', orderSchema);\n\nfunction createNewOrUpdate(order) {\n  return _bluebird.default.resolve().then(() => {\n    if (!order.id) {\n      return new OrderModel(order).save().then(result => {\n        if (result) {\n          return (0, _mongoConverter.default)(result);\n        }\n      });\n    } else {\n      return OrderModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), {\n        new: true\n      });\n    }\n  }).catch(error => {\n    if ('ValidationError' === error.name) {\n      error = error.errors[Object.keys(error.errors)[0]];\n      throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n    }\n\n    throw error;\n  });\n}\n\nasync function query() {\n  const result = await OrderModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n}\n\nasync function get(id) {\n  const result = await OrderModel.findOne({\n    _id: id\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Order not found');\n}\n\nasync function getUserOrders(userId) {\n  const result = await OrderModel.find({\n    userId: userId\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Order not found');\n}\n\nasync function removeById(id) {\n  return await OrderModel.findByIdAndRemove(id);\n}\n\nvar _default = {\n  createNewOrUpdate: createNewOrUpdate,\n  query: query,\n  get: get,\n  getUserOrders: getUserOrders,\n  removeById: removeById,\n  model: OrderModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyREFPLmpzIl0sIm5hbWVzIjpbIm9yZGVyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibWVkaWNpbmVzIiwiQXJyYXkiLCJlcXVpcG1lbnQiLCJzaGlwbWVudCIsIkJvb2xlYW4iLCJwcmljZSIsIk51bWJlciIsInBheW1lbnQiLCJTdHJpbmciLCJhZGRyZXNzIiwiZGF0ZSIsIkRhdGUiLCJlbWFpbCIsImNvbGxlY3Rpb24iLCJwbHVnaW4iLCJ1bmlxdWVWYWxpZGF0b3IiLCJPcmRlck1vZGVsIiwibW9kZWwiLCJjcmVhdGVOZXdPclVwZGF0ZSIsIm9yZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiaWQiLCJzYXZlIiwicmVzdWx0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfIiwib21pdCIsIm5ldyIsImNhdGNoIiwiZXJyb3IiLCJuYW1lIiwiZXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiQkFEX1JFUVVFU1QiLCJtZXNzYWdlIiwicXVlcnkiLCJmaW5kIiwiZ2V0IiwiZmluZE9uZSIsIl9pZCIsIk5PVF9GT1VORCIsImdldFVzZXJPcmRlcnMiLCJyZW1vdmVCeUlkIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUgsa0JBQVNJLEtBQVQsQ0FBZUMsUUFBdkI7QUFBaUNDLElBQUFBLEdBQUcsRUFBRSxNQUF0QztBQUE4Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQXhELEdBRDhCO0FBRXRDQyxFQUFBQSxTQUFTLEVBQUU7QUFBQ0ws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QixJQUFYLENBQWdCO0FBQUU5QyxJQUFBQSxNQUFNLEVBQUVBO0FBQVYsR0FBaEIsQ0FBckI7O0FBQ0EsTUFBSStCLE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEOztBQUNELFFBQU1XLDhCQUFxQlAsR0FBckIsQ0FBeUJPLDhCQUFxQlEsU0FBOUMsRUFBeUQsaUJBQXpELENBQU47QUFDRDs7QUFFRCxlQUFlRSxVQUFmLENBQTBCdkIsRUFBMUIsRUFBOEI7QUFDNUIsU0FBTyxNQUFNUCxVQUFVLENBQUMrQixpQkFBWCxDQUE2QnhCLEVBQTdCLENBQWI7QUFDRDs7ZUFFYztBQUNiTCxFQUFBQSxpQkFBaUIsRUFBRUEsaUJBRE47QUFFYnFCLEVBQUFBLEtBQUssRUFBRUEsS0FGTTtBQUdiRSxFQUFBQSxHQUFHLEVBQUVBLEdBSFE7QUFJYkksRUFBQUEsYUFBYSxFQUFFQSxhQUpGO0FBS2JDLEVBQUFBLFVBQVUsRUFBRUEsVUFMQztBQU1iN0IsRUFBQUEsS0FBSyxFQUFFRDtBQU5NLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXERBT1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IHVuaXF1ZVZhbGlkYXRvciBmcm9tICdtb25nb29zZS11bmlxdWUtdmFsaWRhdG9yJztcclxuaW1wb3J0IG1vbmdvQ29udmVydGVyIGZyb20gJy4uL3NlcnZpY2UvbW9uZ29Db252ZXJ0ZXInO1xyXG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgYXBwbGljYXRpb25FeGNlcHRpb24gZnJvbSBcIi4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb25cIjtcclxuaW1wb3J0IG1vbWVudFdyYXBwZXIgZnJvbSBcIi4uL3NlcnZpY2UvbW9tZW50V3JhcHBlclwiO1xyXG5cclxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB1c2VySWQ6IHsgdHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ3VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgbWVkaWNpbmVzOiB7dHlwZTogQXJyYXl9LFxyXG4gIGVxdWlwbWVudDoge3R5cGU6IEFycmF5fSxcclxuICBzaGlwbWVudDoge3R5cGU6IEJvb2xlYW59LFxyXG4gIHByaWNlOiB7dHlwZTogTnVtYmVyfSxcclxuICBwYXltZW50OiB7dHlwZTogU3RyaW5nfSxcclxuICBhZGRyZXNzOiB7dHlwZTogU3RyaW5nfSxcclxuICBkYXRlOiB7dHlwZTogRGF0ZX0sXHJcbiAgZW1haWw6IHt0eXBlOiBTdHJpbmd9XHJcbn0sIHtcclxuICBjb2xsZWN0aW9uOiAnb3JkZXJzJ1xyXG59KTtcclxub3JkZXJTY2hlbWEucGx1Z2luKHVuaXF1ZVZhbGlkYXRvcik7XHJcblxyXG5jb25zdCBPcmRlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ29yZGVycycsIG9yZGVyU2NoZW1hKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld09yVXBkYXRlKG9yZGVyKSB7XHJcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgaWYgKCFvcmRlci5pZCkge1xyXG4gICAgICByZXR1cm4gbmV3IE9yZGVyTW9kZWwob3JkZXIpLnNhdmUoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBPcmRlck1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKG9yZGVyLmlkLCBfLm9taXQob3JkZXIsICdpZCcpLCB7IG5ldzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICBpZiAoJ1ZhbGlkYXRpb25FcnJvcicgPT09IGVycm9yLm5hbWUpIHtcclxuICAgICAgZXJyb3IgPSBlcnJvci5lcnJvcnNbT2JqZWN0LmtleXMoZXJyb3IuZXJyb3JzKVswXV07XHJcbiAgICAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5CQURfUkVRVUVTVCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcXVlcnkoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgT3JkZXJNb2RlbC5maW5kKHt9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldChpZCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE9yZGVyTW9kZWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgfVxyXG4gIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdPcmRlciBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlck9yZGVycyh1c2VySWQpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBPcmRlck1vZGVsLmZpbmQoeyB1c2VySWQ6IHVzZXJJZCB9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLk5PVF9GT1VORCwgJ09yZGVyIG5vdCBmb3VuZCcpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW1vdmVCeUlkKGlkKSB7XHJcbiAgcmV0dXJuIGF3YWl0IE9yZGVyTW9kZWwuZmluZEJ5SWRBbmRSZW1vdmUoaWQpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY3JlYXRlTmV3T3JVcGRhdGU6IGNyZWF0ZU5ld09yVXBkYXRlLFxyXG4gIHF1ZXJ5OiBxdWVyeSxcclxuICBnZXQ6IGdldCxcclxuICBnZXRVc2VyT3JkZXJzOiBnZXRVc2VyT3JkZXJzLFxyXG4gIHJlbW92ZUJ5SWQ6IHJlbW92ZUJ5SWQsXHJcbiAgbW9kZWw6IE9yZGVyTW9kZWxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderDAO.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "userId",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "required",
        "medicines",
        "Array",
        "equipment",
        "shipment",
        "Boolean",
        "price",
        "Number",
        "payment",
        "String",
        "address",
        "date",
        "Date",
        "email",
        "collection",
        "plugin",
        "uniqueValidator",
        "OrderModel",
        "model",
        "createNewOrUpdate",
        "order",
        "Promise",
        "resolve",
        "then",
        "id",
        "save",
        "result",
        "findByIdAndUpdate",
        "_",
        "omit",
        "new",
        "catch",
        "error",
        "name",
        "errors",
        "Object",
        "keys",
        "applicationException",
        "BAD_REQUEST",
        "message",
        "query",
        "find",
        "get",
        "findOne",
        "_id",
        "NOT_FOUND",
        "getUserOrders",
        "removeById",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport Promise from 'bluebird';\r\nimport * as _ from \"lodash\";\r\nimport applicationException from \"../service/applicationException\";\r\nimport momentWrapper from \"../service/momentWrapper\";\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  userId: { type: mongoose.Types.ObjectId, ref: 'user', required: true},\r\n  medicines: {type: Array},\r\n  equipment: {type: Array},\r\n  shipment: {type: Boolean},\r\n  price: {type: Number},\r\n  payment: {type: String},\r\n  address: {type: String},\r\n  date: {type: Date},\r\n  email: {type: String}\r\n}, {\r\n  collection: 'orders'\r\n});\r\norderSchema.plugin(uniqueValidator);\r\n\r\nconst OrderModel = mongoose.model('orders', orderSchema);\r\n\r\nfunction createNewOrUpdate(order) {\r\n  return Promise.resolve().then(() => {\r\n    if (!order.id) {\r\n      return new OrderModel(order).save().then(result => {\r\n        if (result) {\r\n          return mongoConverter(result);\r\n        }\r\n      });\r\n    } else {\r\n      return OrderModel.findByIdAndUpdate(order.id, _.omit(order, 'id'), { new: true });\r\n    }\r\n  }).catch(error => {\r\n    if ('ValidationError' === error.name) {\r\n      error = error.errors[Object.keys(error.errors)[0]];\r\n      throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n    }\r\n    throw error;\r\n  });\r\n}\r\n\r\nasync function query() {\r\n  const result = await OrderModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\nasync function get(id) {\r\n  const result = await OrderModel.findOne({ _id: id });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Order not found');\r\n}\r\n\r\nasync function getUserOrders(userId) {\r\n  const result = await OrderModel.find({ userId: userId });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Order not found');\r\n}\r\n\r\nasync function removeById(id) {\r\n  return await OrderModel.findByIdAndRemove(id);\r\n}\r\n\r\nexport default {\r\n  createNewOrUpdate: createNewOrUpdate,\r\n  query: query,\r\n  get: get,\r\n  getUserOrders: getUserOrders,\r\n  removeById: removeById,\r\n  model: OrderModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611583054193
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\prescription.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\prescription.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\prescription.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\prescription.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "prescription.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _prescriptionDAO = _interopRequireDefault(require(\"../DAO/prescriptionDAO\"));\n\nfunction create(context) {\n  async function query() {\n    let result = _prescriptionDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function get(PESEL, code) {\n    let result = await _prescriptionDAO.default.get(PESEL, code);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  return {\n    query: query,\n    get: get\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXNjcmlwdGlvbi5tYW5hZ2VyLmpzIl0sIm5hbWVzIjpbImNyZWF0ZSIsImNvbnRleHQiLCJxdWVyeSIsInJlc3VsdCIsInByZXNjcmlwdGlvbkRBTyIsImdldCIsIlBFU0VMIiwiY29kZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQUVBOztBQUVBLFNBQVNBLE1BQVQsQ0FBZ0JDLE9BQWhCLEVBQXlCO0FBQ3ZCLGlCQUFlQyxLQUFmLEdBQXVCO0FBQ3JCLFFBQUlDLE1BQU0sR0FBR0MseUJBQWdCRixLQUFoQixFQUFiOztBQUNBLFFBQUlDLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNGOztBQUVELGlCQUFlRSxHQUFmLENBQW1CQyxLQUFuQixFQUEwQkMsSUFBMUIsRUFBZ0M7QUFDOUIsUUFBSUosTUFBTSxHQUFHLE1BQU1DLHlCQUFnQkMsR0FBaEIsQ0FBb0JDLEtBQXBCLEVBQTJCQyxJQUEzQixDQUFuQjs7QUFDQSxRQUFJSixNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPO0FBQ0xELElBQUFBLEtBQUssRUFBRUEsS0FERjtBQUVMRyxJQUFBQSxHQUFHLEVBQUVBO0FBRkEsR0FBUDtBQUlEOztlQUVjO0FBQ2JMLEVBQUFBLE1BQU0sRUFBRUE7QUFESyxDIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxidXNpbmVzc1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHByZXNjcmlwdGlvbkRBTyBmcm9tIFwiLi4vREFPL3ByZXNjcmlwdGlvbkRBT1wiO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlKGNvbnRleHQpIHtcclxuICBhc3luYyBmdW5jdGlvbiBxdWVyeSgpIHtcclxuICAgIGxldCByZXN1bHQgPSBwcmVzY3JpcHRpb25EQU8ucXVlcnkoKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdldChQRVNFTCwgY29kZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHByZXNjcmlwdGlvbkRBTy5nZXQoUEVTRUwsIGNvZGUpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHF1ZXJ5OiBxdWVyeSxcclxuICAgIGdldDogZ2V0XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNyZWF0ZTogY3JlYXRlXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "prescription.manager.js"
      ],
      "names": [
        "create",
        "context",
        "query",
        "result",
        "prescriptionDAO",
        "get",
        "PESEL",
        "code"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,iBAAeC,KAAf,GAAuB;AACrB,QAAIC,MAAM,GAAGC,yBAAgBF,KAAhB,EAAb;;AACA,QAAIC,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeE,GAAf,CAAmBC,KAAnB,EAA0BC,IAA1B,EAAgC;AAC9B,QAAIJ,MAAM,GAAG,MAAMC,yBAAgBC,GAAhB,CAAoBC,KAApB,EAA2BC,IAA3B,CAAnB;;AACA,QAAIJ,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,SAAO;AACLD,IAAAA,KAAK,EAAEA,KADF;AAELG,IAAAA,GAAG,EAAEA;AAFA,GAAP;AAID;;eAEc;AACbL,EAAAA,MAAM,EAAEA;AADK,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport prescriptionDAO from \"../DAO/prescriptionDAO\";\r\n\r\nfunction create(context) {\r\n  async function query() {\r\n    let result = prescriptionDAO.query();\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function get(PESEL, code) {\r\n    let result = await prescriptionDAO.get(PESEL, code);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  return {\r\n    query: query,\r\n    get: get\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609600793514
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\prescriptionDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\prescriptionDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\prescriptionDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\prescriptionDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "prescriptionDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst prescriptionSchema = new _mongoose.default.Schema({\n  PESEL: {\n    type: Number\n  },\n  code: {\n    type: Number\n  },\n  medicines: {\n    type: Array\n  },\n  price: {\n    type: String\n  }\n}, {\n  collection: 'prescriptions'\n});\nprescriptionSchema.plugin(_mongooseUniqueValidator.default);\n\nconst PrescriptionModel = _mongoose.default.model('prescriptions', prescriptionSchema);\n\nasync function query() {\n  const result = await PrescriptionModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n}\n\nasync function get(PESEL, code) {\n  const result = await PrescriptionModel.findOne({\n    PESEL: PESEL\n  });\n\n  if (result) {\n    if (result.code == code) {\n      return (0, _mongoConverter.default)(result);\n    }\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Prescription not found');\n}\n\nvar _default = {\n  query: query,\n  get: get,\n  model: PrescriptionModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXNjcmlwdGlvbkRBTy5qcyJdLCJuYW1lcyI6WyJwcmVzY3JpcHRpb25TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIlBFU0VMIiwidHlwZSIsIk51bWJlciIsImNvZGUiLCJtZWRpY2luZXMiLCJBcnJheSIsInByaWNlIiwiU3RyaW5nIiwiY29sbGVjdGlvbiIsInBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIlByZXNjcmlwdGlvbk1vZGVsIiwibW9kZWwiLCJxdWVyeSIsInJlc3VsdCIsImZpbmQiLCJnZXQiLCJmaW5kT25lIiwiYXBwbGljYXRpb25FeGNlcHRpb24iLCJuZXciLCJOT1RfRk9VTkQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLGtCQUFrQixHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQzdDQyxFQUFBQSxLQUFLLEVBQUU7QUFBQ0MsSUFBQUEsSUFBSSxFQUFFQztBQUFQLEdBRHNDO0FBRTdDQyxFQUFBQSxJQUFJLEVBQUU7QUFBQ0YsSUFBQUEsSUFBSSxFQUFFQztBQUFQLEdBRnVDO0FBRzdDRSxFQUFBQSxTQUFTLEVBQUU7QUFBQ0gsSUFBQUEsSUFBSSxFQUFFSTtBQUFQLEdBSGtDO0FBSTdDQyxFQUFBQSxLQUFLLEVBQUU7QUFBQ0wsSUFBQUEsSUFBSSxFQUFFTTtBQUFQO0FBSnNDLENBQXBCLEVBS3hCO0FBQ0RDLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBTHdCLENBQTNCO0FBUUFYLGtCQUFrQixDQUFDWSxNQUFuQixDQUEwQkMsZ0NBQTFCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHYixrQkFBU2MsS0FBVCxDQUFlLGVBQWYsRUFBZ0NmLGtCQUFoQyxDQUExQjs7QUFFQSxlQUFlZ0IsS0FBZixHQUF1QjtBQUNyQixRQUFNQyxNQUFNLEdBQUcsTUFBTUgsaUJBQWlCLENBQUNJLElBQWxCLENBQXVCLEVBQXZCLENBQXJCOztBQUNBLE1BQUlELE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsZUFBZUUsR0FBZixDQUFtQmhCLEtBQW5CLEVBQTBCRyxJQUExQixFQUFnQztBQUM5QixRQUFNVyxNQUFNLEdBQUcsTUFBTUgsaUJBQWlCLENBQUNNLE9BQWxCLENBQTBCO0FBQUVqQixJQUFBQSxLQUFLLEVBQUVBO0FBQVQsR0FBMUIsQ0FBckI7O0FBQ0EsTUFBSWMsTUFBSixFQUFZO0FBQ1YsUUFBSUEsTUFBTSxDQUFDWCxJQUFQLElBQWVBLElBQW5CLEVBQXlCO0FBQ3ZCLGFBQU8sNkJBQWVXLE1BQWYsQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsUUFBTUksOEJBQXFCQyxHQUFyQixDQUF5QkQsOEJBQXFCRSxTQUE5QyxFQUF5RCx3QkFBekQsQ0FBTjtBQUNEOztlQUVjO0FBQ2JQLEVBQUFBLEtBQUssRUFBRUEsS0FETTtBQUViRyxFQUFBQSxHQUFHLEVBQUVBLEdBRlE7QUFHYkosRUFBQUEsS0FBSyxFQUFFRDtBQUhNLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXERBT1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IHVuaXF1ZVZhbGlkYXRvciBmcm9tICdtb25nb29zZS11bmlxdWUtdmFsaWRhdG9yJztcclxuaW1wb3J0IG1vbmdvQ29udmVydGVyIGZyb20gJy4uL3NlcnZpY2UvbW9uZ29Db252ZXJ0ZXInO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gXCIuLi9zZXJ2aWNlL2FwcGxpY2F0aW9uRXhjZXB0aW9uXCI7XHJcblxyXG5jb25zdCBwcmVzY3JpcHRpb25TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBQRVNFTDoge3R5cGU6IE51bWJlcn0sXHJcbiAgY29kZToge3R5cGU6IE51bWJlcn0sXHJcbiAgbWVkaWNpbmVzOiB7dHlwZTogQXJyYXl9LFxyXG4gIHByaWNlOiB7dHlwZTogU3RyaW5nfSxcclxufSwge1xyXG4gIGNvbGxlY3Rpb246ICdwcmVzY3JpcHRpb25zJ1xyXG59KTtcclxucHJlc2NyaXB0aW9uU2NoZW1hLnBsdWdpbih1bmlxdWVWYWxpZGF0b3IpO1xyXG5cclxuY29uc3QgUHJlc2NyaXB0aW9uTW9kZWwgPSBtb25nb29zZS5tb2RlbCgncHJlc2NyaXB0aW9ucycsIHByZXNjcmlwdGlvblNjaGVtYSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeSgpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcmVzY3JpcHRpb25Nb2RlbC5maW5kKHt9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldChQRVNFTCwgY29kZSkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByZXNjcmlwdGlvbk1vZGVsLmZpbmRPbmUoeyBQRVNFTDogUEVTRUwgfSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgaWYgKHJlc3VsdC5jb2RlID09IGNvZGUpIHtcclxuICAgICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdQcmVzY3JpcHRpb24gbm90IGZvdW5kJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBxdWVyeTogcXVlcnksXHJcbiAgZ2V0OiBnZXQsXHJcbiAgbW9kZWw6IFByZXNjcmlwdGlvbk1vZGVsXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "prescriptionDAO.js"
      ],
      "names": [
        "prescriptionSchema",
        "mongoose",
        "Schema",
        "PESEL",
        "type",
        "Number",
        "code",
        "medicines",
        "Array",
        "price",
        "String",
        "collection",
        "plugin",
        "uniqueValidator",
        "PrescriptionModel",
        "model",
        "query",
        "result",
        "find",
        "get",
        "findOne",
        "applicationException",
        "new",
        "NOT_FOUND"
      ],
      "mappings": "AAAA;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,kBAAkB,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC7CC,EAAAA,KAAK,EAAE;AAACC,IAAAA,IAAI,EAAEC;AAAP,GADsC;AAE7CC,EAAAA,IAAI,EAAE;AAACF,IAAAA,IAAI,EAAEC;AAAP,GAFuC;AAG7CE,EAAAA,SAAS,EAAE;AAACH,IAAAA,IAAI,EAAEI;AAAP,GAHkC;AAI7CC,EAAAA,KAAK,EAAE;AAACL,IAAAA,IAAI,EAAEM;AAAP;AAJsC,CAApB,EAKxB;AACDC,EAAAA,UAAU,EAAE;AADX,CALwB,CAA3B;AAQAX,kBAAkB,CAACY,MAAnB,CAA0BC,gCAA1B;;AAEA,MAAMC,iBAAiB,GAAGb,kBAASc,KAAT,CAAe,eAAf,EAAgCf,kBAAhC,CAA1B;;AAEA,eAAegB,KAAf,GAAuB;AACrB,QAAMC,MAAM,GAAG,MAAMH,iBAAiB,CAACI,IAAlB,CAAuB,EAAvB,CAArB;;AACA,MAAID,MAAJ,EAAY;AACV,WAAO,6BAAeA,MAAf,CAAP;AACD;AACF;;AAED,eAAeE,GAAf,CAAmBhB,KAAnB,EAA0BG,IAA1B,EAAgC;AAC9B,QAAMW,MAAM,GAAG,MAAMH,iBAAiB,CAACM,OAAlB,CAA0B;AAAEjB,IAAAA,KAAK,EAAEA;AAAT,GAA1B,CAArB;;AACA,MAAIc,MAAJ,EAAY;AACV,QAAIA,MAAM,CAACX,IAAP,IAAeA,IAAnB,EAAyB;AACvB,aAAO,6BAAeW,MAAf,CAAP;AACD;AACF;;AACD,QAAMI,8BAAqBC,GAArB,CAAyBD,8BAAqBE,SAA9C,EAAyD,wBAAzD,CAAN;AACD;;eAEc;AACbP,EAAAA,KAAK,EAAEA,KADM;AAEbG,EAAAA,GAAG,EAAEA,GAFQ;AAGbJ,EAAAA,KAAK,EAAED;AAHM,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport * as _ from \"lodash\";\r\nimport applicationException from \"../service/applicationException\";\r\n\r\nconst prescriptionSchema = new mongoose.Schema({\r\n  PESEL: {type: Number},\r\n  code: {type: Number},\r\n  medicines: {type: Array},\r\n  price: {type: String},\r\n}, {\r\n  collection: 'prescriptions'\r\n});\r\nprescriptionSchema.plugin(uniqueValidator);\r\n\r\nconst PrescriptionModel = mongoose.model('prescriptions', prescriptionSchema);\r\n\r\nasync function query() {\r\n  const result = await PrescriptionModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\nasync function get(PESEL, code) {\r\n  const result = await PrescriptionModel.findOne({ PESEL: PESEL });\r\n  if (result) {\r\n    if (result.code == code) {\r\n      return mongoConverter(result);\r\n    }\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Prescription not found');\r\n}\r\n\r\nexport default {\r\n  query: query,\r\n  get: get,\r\n  model: PrescriptionModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609601410032
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\form.manager.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\form.manager.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\form.manager.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\form.manager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "form.manager.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _formDAO = _interopRequireDefault(require(\"../DAO/formDAO\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _equipmentDAO = _interopRequireDefault(require(\"../DAO/equipmentDAO\"));\n\nfunction create(context) {\n  async function query() {\n    let result = _formDAO.default.query();\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function get(id) {\n    let result = await _formDAO.default.get(id);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function createNewOrUpdate(data) {\n    let result = await _formDAO.default.createNewOrUpdate(data);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function getByEmail(loginName) {\n    let result = await _formDAO.default.getByEmail(loginName);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  async function removeFormById(id) {\n    return await _formDAO.default.removeById(id);\n  }\n\n  return {\n    get: get,\n    getByEmail: getByEmail,\n    query: query,\n    createNewOrUpdate: createNewOrUpdate,\n    removeFormById: removeFormById\n  };\n}\n\nvar _default = {\n  create: create\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0ubWFuYWdlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGUiLCJjb250ZXh0IiwicXVlcnkiLCJyZXN1bHQiLCJGb3JtREFPIiwiZ2V0IiwiaWQiLCJjcmVhdGVOZXdPclVwZGF0ZSIsImRhdGEiLCJnZXRCeUVtYWlsIiwibG9naW5OYW1lIiwicmVtb3ZlRm9ybUJ5SWQiLCJyZW1vdmVCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBRUEsU0FBU0EsTUFBVCxDQUFnQkMsT0FBaEIsRUFBeUI7QUFDdkIsaUJBQWVDLEtBQWYsR0FBdUI7QUFDckIsUUFBSUMsTUFBTSxHQUFHQyxpQkFBUUYsS0FBUixFQUFiOztBQUNBLFFBQUlDLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDQTtBQUNGOztBQUVGLGlCQUFlRSxHQUFmLENBQW1CQyxFQUFuQixFQUF1QjtBQUNyQixRQUFJSCxNQUFNLEdBQUcsTUFBTUMsaUJBQVFDLEdBQVIsQ0FBWUMsRUFBWixDQUFuQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7QUFDRjs7QUFFRCxpQkFBZUksaUJBQWYsQ0FBaUNDLElBQWpDLEVBQXVDO0FBQ3JDLFFBQUlMLE1BQU0sR0FBRyxNQUFNQyxpQkFBUUcsaUJBQVIsQ0FBMEJDLElBQTFCLENBQW5COztBQUNBLFFBQUlMLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNGOztBQUVELGlCQUFlTSxVQUFmLENBQTBCQyxTQUExQixFQUFxQztBQUNuQyxRQUFJUCxNQUFNLEdBQUcsTUFBTUMsaUJBQVFLLFVBQVIsQ0FBbUJDLFNBQW5CLENBQW5COztBQUNBLFFBQUlQLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNGOztBQUVELGlCQUFlUSxjQUFmLENBQThCTCxFQUE5QixFQUFrQztBQUNoQyxXQUFPLE1BQU1GLGlCQUFRUSxVQUFSLENBQW1CTixFQUFuQixDQUFiO0FBQ0Q7O0FBRUQsU0FBTztBQUNMRCxJQUFBQSxHQUFHLEVBQUVBLEdBREE7QUFFTEksSUFBQUEsVUFBVSxFQUFFQSxVQUZQO0FBR0xQLElBQUFBLEtBQUssRUFBRUEsS0FIRjtBQUlMSyxJQUFBQSxpQkFBaUIsRUFBRUEsaUJBSmQ7QUFLTEksSUFBQUEsY0FBYyxFQUFFQTtBQUxYLEdBQVA7QUFPRDs7ZUFFYztBQUNiWCxFQUFBQSxNQUFNLEVBQUVBO0FBREssQyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcYnVzaW5lc3NcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBGb3JtREFPIGZyb20gJy4uL0RBTy9mb3JtREFPJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG5pbXBvcnQgZXF1aXBtZW50REFPIGZyb20gXCIuLi9EQU8vZXF1aXBtZW50REFPXCI7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUoY29udGV4dCkge1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IEZvcm1EQU8ucXVlcnkoKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICB9XHJcbiAgIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0KGlkKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgRm9ybURBTy5nZXQoaWQpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTmV3T3JVcGRhdGUoZGF0YSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IEZvcm1EQU8uY3JlYXRlTmV3T3JVcGRhdGUoZGF0YSk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZXRCeUVtYWlsKGxvZ2luTmFtZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IEZvcm1EQU8uZ2V0QnlFbWFpbChsb2dpbk5hbWUpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlRm9ybUJ5SWQoaWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBGb3JtREFPLnJlbW92ZUJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldDogZ2V0LFxyXG4gICAgZ2V0QnlFbWFpbDogZ2V0QnlFbWFpbCxcclxuICAgIHF1ZXJ5OiBxdWVyeSxcclxuICAgIGNyZWF0ZU5ld09yVXBkYXRlOiBjcmVhdGVOZXdPclVwZGF0ZSxcclxuICAgIHJlbW92ZUZvcm1CeUlkOiByZW1vdmVGb3JtQnlJZCxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY3JlYXRlOiBjcmVhdGVcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "form.manager.js"
      ],
      "names": [
        "create",
        "context",
        "query",
        "result",
        "FormDAO",
        "get",
        "id",
        "createNewOrUpdate",
        "data",
        "getByEmail",
        "loginName",
        "removeFormById",
        "removeById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,iBAAeC,KAAf,GAAuB;AACrB,QAAIC,MAAM,GAAGC,iBAAQF,KAAR,EAAb;;AACA,QAAIC,MAAJ,EAAY;AACV,aAAOA,MAAP;AACA;AACF;;AAEF,iBAAeE,GAAf,CAAmBC,EAAnB,EAAuB;AACrB,QAAIH,MAAM,GAAG,MAAMC,iBAAQC,GAAR,CAAYC,EAAZ,CAAnB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeI,iBAAf,CAAiCC,IAAjC,EAAuC;AACrC,QAAIL,MAAM,GAAG,MAAMC,iBAAQG,iBAAR,CAA0BC,IAA1B,CAAnB;;AACA,QAAIL,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeM,UAAf,CAA0BC,SAA1B,EAAqC;AACnC,QAAIP,MAAM,GAAG,MAAMC,iBAAQK,UAAR,CAAmBC,SAAnB,CAAnB;;AACA,QAAIP,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;AACF;;AAED,iBAAeQ,cAAf,CAA8BL,EAA9B,EAAkC;AAChC,WAAO,MAAMF,iBAAQQ,UAAR,CAAmBN,EAAnB,CAAb;AACD;;AAED,SAAO;AACLD,IAAAA,GAAG,EAAEA,GADA;AAELI,IAAAA,UAAU,EAAEA,UAFP;AAGLP,IAAAA,KAAK,EAAEA,KAHF;AAILK,IAAAA,iBAAiB,EAAEA,iBAJd;AAKLI,IAAAA,cAAc,EAAEA;AALX,GAAP;AAOD;;eAEc;AACbX,EAAAA,MAAM,EAAEA;AADK,C",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport FormDAO from '../DAO/formDAO';\r\nimport applicationException from '../service/applicationException';\r\nimport equipmentDAO from \"../DAO/equipmentDAO\";\r\n\r\nfunction create(context) {\r\n  async function query() {\r\n    let result = FormDAO.query();\r\n    if (result) {\r\n      return result;\r\n     }\r\n   }\r\n\r\n  async function get(id) {\r\n    let result = await FormDAO.get(id);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function createNewOrUpdate(data) {\r\n    let result = await FormDAO.createNewOrUpdate(data);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function getByEmail(loginName) {\r\n    let result = await FormDAO.getByEmail(loginName);\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  async function removeFormById(id) {\r\n    return await FormDAO.removeById(id);\r\n  }\r\n\r\n  return {\r\n    get: get,\r\n    getByEmail: getByEmail,\r\n    query: query,\r\n    createNewOrUpdate: createNewOrUpdate,\r\n    removeFormById: removeFormById,\r\n  };\r\n}\r\n\r\nexport default {\r\n  create: create\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611688118558
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\routes.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"./user.endpoint\"));\n\nvar _medicines = _interopRequireDefault(require(\"./medicines.endpoints\"));\n\nvar _equipment = _interopRequireDefault(require(\"./equipment.endpoint\"));\n\nvar _order = _interopRequireDefault(require(\"./order.endpoint\"));\n\nvar _prescriptions = _interopRequireDefault(require(\"./prescriptions.endpoint\"));\n\nvar _form = _interopRequireDefault(require(\"./form.endpoint\"));\n\nconst routes = (router, config) => {\n  (0, _medicines.default)(router);\n  (0, _equipment.default)(router);\n  (0, _user.default)(router);\n  (0, _order.default)(router);\n  (0, _prescriptions.default)(router);\n  (0, _form.default)(router);\n};\n\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJyb3V0ZXIiLCJjb25maWciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsQ0FBQ0MsTUFBRCxFQUFTQyxNQUFULEtBQW9CO0FBQ2pDLDBCQUFpQkQsTUFBakI7QUFDQSwwQkFBa0JBLE1BQWxCO0FBQ0EscUJBQWFBLE1BQWI7QUFDQSxzQkFBY0EsTUFBZDtBQUNBLDhCQUFzQkEsTUFBdEI7QUFDQSxxQkFBYUEsTUFBYjtBQUNELENBUEQ7O2VBU2VELE0iLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXFJFU1RcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB1c2VyRW5kcG9pbnQgZnJvbSBcIi4vdXNlci5lbmRwb2ludFwiO1xyXG5pbXBvcnQgbWVkaWNpbmVFbmRwb2ludCBmcm9tIFwiLi9tZWRpY2luZXMuZW5kcG9pbnRzXCI7XHJcbmltcG9ydCBlcXVpcG1lbnRFbmRwb2ludCBmcm9tIFwiLi9lcXVpcG1lbnQuZW5kcG9pbnRcIjtcclxuaW1wb3J0IG9yZGVyRW5kcG9pbnQgZnJvbSBcIi4vb3JkZXIuZW5kcG9pbnRcIjtcclxuaW1wb3J0IHByZXNjcmlwdGlvbnNFbmRwb2ludCBmcm9tIFwiLi9wcmVzY3JpcHRpb25zLmVuZHBvaW50XCI7XHJcbmltcG9ydCBmb3JtRW5kcG9pbnQgZnJvbSBcIi4vZm9ybS5lbmRwb2ludFwiO1xyXG5cclxuY29uc3Qgcm91dGVzID0gKHJvdXRlciwgY29uZmlnKSA9PiB7XHJcbiAgbWVkaWNpbmVFbmRwb2ludChyb3V0ZXIpO1xyXG4gIGVxdWlwbWVudEVuZHBvaW50KHJvdXRlcilcclxuICB1c2VyRW5kcG9pbnQocm91dGVyKTtcclxuICBvcmRlckVuZHBvaW50KHJvdXRlcik7XHJcbiAgcHJlc2NyaXB0aW9uc0VuZHBvaW50KHJvdXRlcik7XHJcbiAgZm9ybUVuZHBvaW50KHJvdXRlcik7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "router",
        "config"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AACjC,0BAAiBD,MAAjB;AACA,0BAAkBA,MAAlB;AACA,qBAAaA,MAAb;AACA,sBAAcA,MAAd;AACA,8BAAsBA,MAAtB;AACA,qBAAaA,MAAb;AACD,CAPD;;eASeD,M",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport userEndpoint from \"./user.endpoint\";\r\nimport medicineEndpoint from \"./medicines.endpoints\";\r\nimport equipmentEndpoint from \"./equipment.endpoint\";\r\nimport orderEndpoint from \"./order.endpoint\";\r\nimport prescriptionsEndpoint from \"./prescriptions.endpoint\";\r\nimport formEndpoint from \"./form.endpoint\";\r\n\r\nconst routes = (router, config) => {\r\n  medicineEndpoint(router);\r\n  equipmentEndpoint(router)\r\n  userEndpoint(router);\r\n  orderEndpoint(router);\r\n  prescriptionsEndpoint(router);\r\n  formEndpoint(router);\r\n};\r\n\r\nexport default routes;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611670168263
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\user.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\user.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "user.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\n\n// import auth from '../middleware/auth';\nconst admin = require('../middleware/admin');\n\nconst userEndpoint = router => {\n  router.get('/api/users', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/auth', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).authenticate(request.body.login, request.body.password);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  }); // router.delete('/api/user/logout', async (request, response, next) => {\n  //   try {\n  //     let result = await business(request).getUserManager(request).removeHashSession(request.body.userId);\n  //     response.status(200).send('Access token for user with id: ' + result + ' deleted.');\n  //   } catch (error) {\n  //     applicationException.errorHandler(error, response);\n  //   }\n  // })\n\n  router.post('/api/user/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/passwordCheck', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).checkPassword(request.body.loginName, request.body.password);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  }); // router.get('/api/user/:id', async (request, response, next) => {\n  //   try {\n  //     let result = await business(request).getUserManager(request).get(request.params.id);\n  //     response.status(200).send(result);\n  //   } catch (error) {\n  //     applicationException.errorHandler(error, response);\n  //   }\n  // });\n\n  router.get('/api/user/:loginName', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).getByEmail(request.params.loginName);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/user/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).removeUserById(request.params.id);\n      response.status(200).send('User with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/user/logout/:userId', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).removeHashSession(request.params.userId);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/user/sendEmail', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getUserManager(request).sendEmail(request.body.loginName);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = userEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuZW5kcG9pbnQuanMiXSwibmFtZXMiOlsiYWRtaW4iLCJyZXF1aXJlIiwidXNlckVuZHBvaW50Iiwicm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInJlc3VsdCIsImdldFVzZXJNYW5hZ2VyIiwicXVlcnkiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsImVycm9ySGFuZGxlciIsInBvc3QiLCJhdXRoZW50aWNhdGUiLCJib2R5IiwibG9naW4iLCJwYXNzd29yZCIsImNyZWF0ZU5ld09yVXBkYXRlIiwiY2hlY2tQYXNzd29yZCIsImxvZ2luTmFtZSIsImdldEJ5RW1haWwiLCJwYXJhbXMiLCJkZWxldGUiLCJyZW1vdmVVc2VyQnlJZCIsImlkIiwicmVtb3ZlSGFzaFNlc3Npb24iLCJ1c2VySWQiLCJzZW5kRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFHQTs7QUFGQTtBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLHFCQUFELENBQXJCOztBQUdBLE1BQU1DLFlBQVksR0FBSUMsTUFBRCxJQUFZO0FBQy9CQSxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxZQUFYLEVBQXlCLE9BQU9DLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUMxRCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNILE9BQVQsRUFBa0JJLGNBQWxCLENBQWlDSixPQUFqQyxFQUEwQ0ssS0FBMUMsRUFBbkI7QUFDQUosTUFBQUEsUUFBUSxDQUFDSyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUCxRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVNBSCxFQUFBQSxNQUFNLENB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QXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNQLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBUUQsQ0ExRkQ7O2VBNEZlSixZIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxSRVNUXFwiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgYnVzaW5lc3MgZnJvbSAnLi4vYnVzaW5lc3MvYnVzaW5lc3MuY29udGFpbmVyJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG4vLyBpbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgnO1xyXG5jb25zdCBhZG1pbiA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvYWRtaW4nKTtcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoJztcclxuXHJcbmNvbnN0IHVzZXJFbmRwb2ludCA9IChyb3V0ZXIpID0+IHtcclxuICByb3V0ZXIuZ2V0KCcvYXBpL3VzZXJzJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucXVlcnkoKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5wb3N0KCcvYXBpL3VzZXIvYXV0aCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmF1dGhlbnRpY2F0ZShyZXF1ZXN0LmJvZHkubG9naW4sIHJlcXVlc3QuYm9keS5wYXNzd29yZCk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyByb3V0ZXIuZGVsZXRlKCcvYXBpL3VzZXIvbG9nb3V0JywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgLy8gICB0cnkge1xyXG4gIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucmVtb3ZlSGFzaFNlc3Npb24ocmVxdWVzdC5ib2R5LnVzZXJJZCk7XHJcbiAgLy8gICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoJ0FjY2VzcyB0b2tlbiBmb3IgdXNlciB3aXRoIGlkOiAnICsgcmVzdWx0ICsgJyBkZWxldGVkLicpO1xyXG4gIC8vICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAvLyAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfSlcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9jcmVhdGUnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5jcmVhdGVOZXdPclVwZGF0ZShyZXF1ZXN0LmJvZHkpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9wYXNzd29yZENoZWNrJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkuY2hlY2tQYXNzd29yZChyZXF1ZXN0LmJvZHkubG9naW5OYW1lLCByZXF1ZXN0LmJvZHkucGFzc3dvcmQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS91c2VyLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gIC8vICAgdHJ5IHtcclxuICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmdldChyZXF1ZXN0LnBhcmFtcy5pZCk7XHJcbiAgLy8gICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgLy8gICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH0pO1xyXG5cclxuICByb3V0ZXIuZ2V0KCcvYXBpL3VzZXIvOmxvZ2luTmFtZScsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldFVzZXJNYW5hZ2VyKHJlcXVlc3QpLmdldEJ5RW1haWwocmVxdWVzdC5wYXJhbXMubG9naW5OYW1lKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5kZWxldGUoJy9hcGkvdXNlci9kZWxldGUvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0VXNlck1hbmFnZXIocmVxdWVzdCkucmVtb3ZlVXNlckJ5SWQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKCdVc2VyIHdpdGggaWQ6ICcgKyByZXN1bHQgKyAnIGRlbGV0ZWQuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByb3V0ZXIuZGVsZXRlKCcvYXBpL3VzZXIvbG9nb3V0Lzp1c2VySWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5yZW1vdmVIYXNoU2Vzc2lvbihyZXF1ZXN0LnBhcmFtcy51c2VySWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvdXNlci9zZW5kRW1haWwnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRVc2VyTWFuYWdlcihyZXF1ZXN0KS5zZW5kRW1haWwocmVxdWVzdC5ib2R5LmxvZ2luTmFtZSk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckVuZHBvaW50O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.endpoint.js"
      ],
      "names": [
        "admin",
        "require",
        "userEndpoint",
        "router",
        "get",
        "request",
        "response",
        "next",
        "result",
        "getUserManager",
        "query",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "post",
        "authenticate",
        "body",
        "login",
        "password",
        "createNewOrUpdate",
        "checkPassword",
        "loginName",
        "getByEmail",
        "params",
        "delete",
        "removeUserById",
        "id",
        "removeHashSession",
        "userId",
        "sendEmail"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAGA;;AAFA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,qBAAD,CAArB;;AAGA,MAAMC,YAAY,GAAIC,MAAD,IAAY;AAC/BA,EAAAA,MAAM,CAACC,GAAP,CAAW,YAAX,EAAyB,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAC1D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CK,KAA1C,EAAnB;AACAJ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACa,IAAP,CAAY,gBAAZ,EAA8B,OAAOX,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAC/D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CY,YAA1C,CAAuDZ,OAAO,CAACa,IAAR,CAAaC,KAApE,EAA2Ed,OAAO,CAACa,IAAR,CAAaE,QAAxF,CAAnB;AACAd,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD,EAV+B,CAmB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAH,EAAAA,MAAM,CAACa,IAAP,CAAY,kBAAZ,EAAgC,OAAOX,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACjE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CgB,iBAA1C,CAA4DhB,OAAO,CAACa,IAApE,CAAnB;AACAZ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACa,IAAP,CAAY,yBAAZ,EAAuC,OAAOX,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACxE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CiB,aAA1C,CAAwDjB,OAAO,CAACa,IAAR,CAAaK,SAArE,EAAgFlB,OAAO,CAACa,IAAR,CAAaE,QAA7F,CAAnB;AACAd,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD,EArC+B,CA8C/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAH,EAAAA,MAAM,CAACC,GAAP,CAAW,sBAAX,EAAmC,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACpE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CmB,UAA1C,CAAqDnB,OAAO,CAACoB,MAAR,CAAeF,SAApE,CAAnB;AACAjB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACuB,MAAP,CAAc,sBAAd,EAAsC,OAAOrB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACvE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CsB,cAA1C,CAAyDtB,OAAO,CAACoB,MAAR,CAAeG,EAAxE,CAAnB;AACAtB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,mBAAmBJ,MAAnB,GAA4B,WAAtD;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACuB,MAAP,CAAc,0BAAd,EAA0C,OAAOrB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAC3E,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CwB,iBAA1C,CAA4DxB,OAAO,CAACoB,MAAR,CAAeK,MAA3E,CAAnB;AACAxB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACa,IAAP,CAAY,qBAAZ,EAAmC,OAAOX,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACpE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0C0B,SAA1C,CAAoD1B,OAAO,CAACa,IAAR,CAAaK,SAAjE,CAAnB;AACAjB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AAQD,CA1FD;;eA4FeJ,Y",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n// import auth from '../middleware/auth';\r\nconst admin = require('../middleware/admin');\r\nimport auth from '../middleware/auth';\r\n\r\nconst userEndpoint = (router) => {\r\n  router.get('/api/users', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).query();\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/auth', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).authenticate(request.body.login, request.body.password);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  // router.delete('/api/user/logout', async (request, response, next) => {\r\n  //   try {\r\n  //     let result = await business(request).getUserManager(request).removeHashSession(request.body.userId);\r\n  //     response.status(200).send('Access token for user with id: ' + result + ' deleted.');\r\n  //   } catch (error) {\r\n  //     applicationException.errorHandler(error, response);\r\n  //   }\r\n  // })\r\n\r\n  router.post('/api/user/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/passwordCheck', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).checkPassword(request.body.loginName, request.body.password);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  // router.get('/api/user/:id', async (request, response, next) => {\r\n  //   try {\r\n  //     let result = await business(request).getUserManager(request).get(request.params.id);\r\n  //     response.status(200).send(result);\r\n  //   } catch (error) {\r\n  //     applicationException.errorHandler(error, response);\r\n  //   }\r\n  // });\r\n\r\n  router.get('/api/user/:loginName', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).getByEmail(request.params.loginName);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.delete('/api/user/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).removeUserById(request.params.id);\r\n      response.status(200).send('User with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.delete('/api/user/logout/:userId', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).removeHashSession(request.params.userId);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/user/sendEmail', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getUserManager(request).sendEmail(request.body.loginName);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n};\r\n\r\nexport default userEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1610281010657
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\business\\\\business.container.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\business.container.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
        "sourceFileName": "business.container.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _medicine = _interopRequireDefault(require(\"./medicine.manager\"));\n\nvar _user = _interopRequireDefault(require(\"./user.manager\"));\n\nvar _equipment = _interopRequireDefault(require(\"./equipment.manager\"));\n\nvar _order = _interopRequireDefault(require(\"./order.manager\"));\n\nvar _prescription = _interopRequireDefault(require(\"./prescription.manager\"));\n\nvar _form = _interopRequireDefault(require(\"./form.manager\"));\n\nfunction getContext(request) {\n  return {\n    user: request && request.user\n  };\n}\n\nfunction getter(manager, request) {\n  return function (request) {\n    return manager.create(getContext(request), this);\n  };\n}\n\nconst createBusinessContainer = (request, config) => {\n  return {\n    getMedicineManager: getter(_medicine.default, request),\n    getUserManager: getter(_user.default, request),\n    getEquipmentManager: getter(_equipment.default, request),\n    getOrderManager: getter(_order.default, request),\n    getPrescriptionManager: getter(_prescription.default, request),\n    getFormManager: getter(_form.default, request)\n  };\n};\n\nvar _default = createBusinessContainer;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2luZXNzLmNvbnRhaW5lci5qcyJdLCJuYW1lcyI6WyJnZXRDb250ZXh0IiwicmVxdWVzdCIsInVzZXIiLCJnZXR0ZXIiLCJtYW5hZ2VyIiwiY3JlYXRlIiwiY3JlYXRlQnVzaW5lc3NDb250YWluZXIiLCJjb25maWciLCJnZXRNZWRpY2luZU1hbmFnZXIiLCJtZWRpY2luZU1hbmFnZXIiLCJnZXRVc2VyTWFuYWdlciIsInVzZXJNYW5hZ2VyIiwiZ2V0RXF1aXBtZW50TWFuYWdlciIsImVxdWlwbWVudE1hbmFnZXIiLCJnZXRPcmRlck1hbmFnZXIiLCJvcmRlck1hbmFnZXIiLCJnZXRQcmVzY3JpcHRpb25NYW5hZ2VyIiwicHJlc2NyaXB0aW9uTWFuYWdlciIsImdldEZvcm1NYW5hZ2VyIiwiZm9ybU1hbmFnZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxTQUFTQSxVQUFULENBQW9CQyxPQUFwQixFQUE2QjtBQUMzQixTQUFPO0FBQUVDLElBQUFBLElBQUksRUFBRUQsT0FBTyxJQUFJQSxPQUFPLENBQUNDO0FBQTNCLEdBQVA7QUFDRDs7QUFFRCxTQUFTQyxNQUFULENBQWdCQyxPQUFoQixFQUF5QkgsT0FBekIsRUFBa0M7QUFDaEMsU0FBTyxVQUFVQSxPQUFWLEVBQW1CO0FBQ3hCLFdBQU9HLE9BQU8sQ0FBQ0MsTUFBUixDQUFlTCxVQUFVLENBQUNDLE9BQUQsQ0FBekIsRUFBb0MsSUFBcEMsQ0FBUDtBQUNELEdBRkQ7QUFHRDs7QUFFRCxNQUFNSyx1QkFBdUIsR0FBRyxDQUFDTCxPQUFELEVBQVVNLE1BQVYsS0FBcUI7QUFFbkQsU0FBTztBQUNMQyxJQUFBQSxrQkFBa0IsRUFBRUwsTUFBTSxDQUFDTSxpQkFBRCxFQUFrQlIsT0FBbEIsQ0FEckI7QUFFTFMsSUFBQUEsY0FBYyxFQUFFUCxNQUFNLENBQUNRLGFBQUQsRUFBY1YsT0FBZCxDQUZqQjtBQUdMVyxJQUFBQSxtQkFBbUIsRUFBRVQsTUFBTSxDQUFDVSxrQkFBRCxFQUFtQlosT0FBbkIsQ0FIdEI7QUFJTGEsSUFBQUEsZUFBZSxFQUFFWCxNQUFNLENBQUNZLGNBQUQsRUFBZWQsT0FBZixDQUpsQjtBQUtMZSxJQUFBQSxzQkFBc0IsRUFBRWIsTUFBTSxDQUFDYyxxQkFBRCxFQUFzQmhCLE9BQXRCLENBTHpCO0FBTUxpQixJQUFBQSxjQUFjLEVBQUVmLE1BQU0sQ0FBQ2dCLGFBQUQsRUFBY2xCLE9BQWQ7QUFOakIsR0FBUDtBQVFELENBVkQ7O2VBWWVLLHVCIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxidXNpbmVzc1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1lZGljaW5lTWFuYWdlciBmcm9tICcuL21lZGljaW5lLm1hbmFnZXInXHJcbmltcG9ydCB1c2VyTWFuYWdlciBmcm9tICcuL3VzZXIubWFuYWdlcidcclxuaW1wb3J0IGVxdWlwbWVudE1hbmFnZXIgZnJvbSAnLi9lcXVpcG1lbnQubWFuYWdlcic7XHJcbmltcG9ydCBvcmRlck1hbmFnZXIgZnJvbSAnLi9vcmRlci5tYW5hZ2VyJztcclxuaW1wb3J0IHByZXNjcmlwdGlvbk1hbmFnZXIgZnJvbSAnLi9wcmVzY3JpcHRpb24ubWFuYWdlcic7XHJcbmltcG9ydCBmb3JtTWFuYWdlciBmcm9tICcuL2Zvcm0ubWFuYWdlcic7XHJcblxyXG5mdW5jdGlvbiBnZXRDb250ZXh0KHJlcXVlc3QpIHtcclxuICByZXR1cm4geyB1c2VyOiByZXF1ZXN0ICYmIHJlcXVlc3QudXNlciB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXR0ZXIobWFuYWdlciwgcmVxdWVzdCkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgcmV0dXJuIG1hbmFnZXIuY3JlYXRlKGdldENvbnRleHQocmVxdWVzdCksIHRoaXMpO1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUJ1c2luZXNzQ29udGFpbmVyID0gKHJlcXVlc3QsIGNvbmZpZykgPT4ge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0TWVkaWNpbmVNYW5hZ2VyOiBnZXR0ZXIobWVkaWNpbmVNYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldFVzZXJNYW5hZ2VyOiBnZXR0ZXIodXNlck1hbmFnZXIsIHJlcXVlc3QpLFxyXG4gICAgZ2V0RXF1aXBtZW50TWFuYWdlcjogZ2V0dGVyKGVxdWlwbWVudE1hbmFnZXIsIHJlcXVlc3QpLFxyXG4gICAgZ2V0T3JkZXJNYW5hZ2VyOiBnZXR0ZXIob3JkZXJNYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldFByZXNjcmlwdGlvbk1hbmFnZXI6IGdldHRlcihwcmVzY3JpcHRpb25NYW5hZ2VyLCByZXF1ZXN0KSxcclxuICAgIGdldEZvcm1NYW5hZ2VyOiBnZXR0ZXIoZm9ybU1hbmFnZXIsIHJlcXVlc3QpXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJ1c2luZXNzQ29udGFpbmVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "business.container.js"
      ],
      "names": [
        "getContext",
        "request",
        "user",
        "getter",
        "manager",
        "create",
        "createBusinessContainer",
        "config",
        "getMedicineManager",
        "medicineManager",
        "getUserManager",
        "userManager",
        "getEquipmentManager",
        "equipmentManager",
        "getOrderManager",
        "orderManager",
        "getPrescriptionManager",
        "prescriptionManager",
        "getFormManager",
        "formManager"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,SAASA,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,SAAO;AAAEC,IAAAA,IAAI,EAAED,OAAO,IAAIA,OAAO,CAACC;AAA3B,GAAP;AACD;;AAED,SAASC,MAAT,CAAgBC,OAAhB,EAAyBH,OAAzB,EAAkC;AAChC,SAAO,UAAUA,OAAV,EAAmB;AACxB,WAAOG,OAAO,CAACC,MAAR,CAAeL,UAAU,CAACC,OAAD,CAAzB,EAAoC,IAApC,CAAP;AACD,GAFD;AAGD;;AAED,MAAMK,uBAAuB,GAAG,CAACL,OAAD,EAAUM,MAAV,KAAqB;AAEnD,SAAO;AACLC,IAAAA,kBAAkB,EAAEL,MAAM,CAACM,iBAAD,EAAkBR,OAAlB,CADrB;AAELS,IAAAA,cAAc,EAAEP,MAAM,CAACQ,aAAD,EAAcV,OAAd,CAFjB;AAGLW,IAAAA,mBAAmB,EAAET,MAAM,CAACU,kBAAD,EAAmBZ,OAAnB,CAHtB;AAILa,IAAAA,eAAe,EAAEX,MAAM,CAACY,cAAD,EAAed,OAAf,CAJlB;AAKLe,IAAAA,sBAAsB,EAAEb,MAAM,CAACc,qBAAD,EAAsBhB,OAAtB,CALzB;AAMLiB,IAAAA,cAAc,EAAEf,MAAM,CAACgB,aAAD,EAAclB,OAAd;AANjB,GAAP;AAQD,CAVD;;eAYeK,uB",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\business\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport medicineManager from './medicine.manager'\r\nimport userManager from './user.manager'\r\nimport equipmentManager from './equipment.manager';\r\nimport orderManager from './order.manager';\r\nimport prescriptionManager from './prescription.manager';\r\nimport formManager from './form.manager';\r\n\r\nfunction getContext(request) {\r\n  return { user: request && request.user };\r\n}\r\n\r\nfunction getter(manager, request) {\r\n  return function (request) {\r\n    return manager.create(getContext(request), this);\r\n  };\r\n}\r\n\r\nconst createBusinessContainer = (request, config) => {\r\n\r\n  return {\r\n    getMedicineManager: getter(medicineManager, request),\r\n    getUserManager: getter(userManager, request),\r\n    getEquipmentManager: getter(equipmentManager, request),\r\n    getOrderManager: getter(orderManager, request),\r\n    getPrescriptionManager: getter(prescriptionManager, request),\r\n    getFormManager: getter(formManager, request)\r\n  };\r\n};\r\n\r\nexport default createBusinessContainer;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611670168248
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\DAO\\\\formDAO.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\formDAO.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\formDAO.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\formDAO.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
        "sourceFileName": "formDAO.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _ = _interopRequireWildcard(require(\"lodash\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _mongoConverter = _interopRequireDefault(require(\"../service/mongoConverter\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nconst subject = {\n  product: 'Pytanie o produkt',\n  order: 'Dotyczy zamówienia',\n  reclamation: 'Reklamacje i zwrot towaru',\n  money: 'Dotyczy zwrotu pieniędzy',\n  prescription: 'Dotyczy E-Recept',\n  account: 'Dotyczy konta'\n};\nconst subjects = [subject.product, subject.order, subject.reclamation, subject.money, subject.prescription, subject.account];\nconst formSchema = new _mongoose.default.Schema({\n  loginName: {\n    type: String\n  },\n  subject: {\n    type: String,\n    enum: subjects\n  },\n  description: {\n    type: String\n  }\n}, {\n  collection: 'forms'\n});\nformSchema.plugin(_mongooseUniqueValidator.default);\n\nconst FormModel = _mongoose.default.model('forms', formSchema);\n\nfunction createNewOrUpdate(form) {\n  return _bluebird.default.resolve().then(() => {\n    if (!form.id) {\n      return new FormModel(form).save().then(result => {\n        if (result) {\n          return (0, _mongoConverter.default)(result);\n        }\n      });\n    } else {\n      return FormModel.findByIdAndUpdate(form.id, _.omit(form, 'id'), {\n        new: true\n      });\n    }\n  }).catch(error => {\n    if ('ValidationError' === error.name) {\n      error = error.errors[Object.keys(error.errors)[0]];\n      throw _applicationException.default.new(_applicationException.default.BAD_REQUEST, error.message);\n    }\n\n    throw error;\n  });\n}\n\nasync function get(id) {\n  const result = await FormModel.findOne({\n    _id: id\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'Equipment not found');\n}\n\nasync function getByEmail(name) {\n  const result = await FormModel.findOne({\n    loginName: name\n  });\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n\n  throw _applicationException.default.new(_applicationException.default.NOT_FOUND, 'User not found');\n}\n\nasync function query() {\n  const result = await FormModel.find({});\n\n  if (result) {\n    return (0, _mongoConverter.default)(result);\n  }\n} // async function get(id) {\n//   const result = await FormModel.findOne({ _id: id });\n//   if (result) {\n//     return mongoConverter(result);\n//   }\n//   throw applicationException.new(applicationException.NOT_FOUND, 'User not found');\n// }\n\n\nasync function removeById(id) {\n  return await FormModel.findByIdAndRemove(id);\n}\n\nvar _default = {\n  createNewOrUpdate: createNewOrUpdate,\n  getByEmail: getByEmail,\n  query: query,\n  get: get,\n  removeById: removeById,\n  subject: subject,\n  model: FormModel\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1EQU8uanMiXSwibmFtZXMiOlsic3ViamVjdCIsInByb2R1Y3QiLCJvcmRlciIsInJlY2xhbWF0aW9uIiwibW9uZXkiLCJwcmVzY3JpcHRpb24iLCJhY2NvdW50Iiwic3ViamVjdHMiLCJmb3JtU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJsb2dpbk5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwiZW51bSIsImRlc2NyaXB0aW9uIiwiY29sbGVjdGlvbiIsInBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIkZvcm1Nb2RlbCIsIm1vZGVsIiwiY3JlYXRlTmV3T3JVcGRhdGUiLCJmb3JtIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiaWQiLCJzYXZlIiwicmVzdWx0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfIiwib21pdCIsIm5ldyIsImNhdGNoIiwiZXJyb3IiLCJuYW1lIiwiZXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiQkFEX1JFUVVFU1QiLCJtZXNzYWdlIiwiZ2V0IiwiZmluZE9uZSIsIl9pZCIsIk5PVF9GT1VORCIsImdldEJ5RW1haWwiLCJxdWVyeSIsImZpbmQiLCJyZW1vdmVCeUlkIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdBLE1BQU1BLE9BQU8sR0FBRztBQUNkQyxFQUFBQSxPQUFPLEVBQUUsbUJBREs7QUFFZEMsRUFBQUEsS0FBSyxFQUFFLG9CQUZPO0FBR2RDLEVBQUFBLFdBQVcsRUFBRSwyQkFIQztBQUlkQyxFQUFBQSxLQUFLLEVBQUUsMEJBSk87QUFLZEMsRUFBQUEsWUFBWSxFQUFFLGtCQUxBO0FBTWRDLEVBQUFBLE9BQU8sRUFBRTtBQU5LLENBQWhCO0FBU0EsTUFBTUMsUUFBUSxHQUFHLENBQ2ZQLE9BQU8sQ0FBQ0MsT0FETyxFQUVmRCxPQUFPLENBQUNFLEtBRk8s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SUFBVixDQUFlLEVBQWYsQ0FBckI7O0FBQ0EsTUFBSXBCLE1BQUosRUFBWTtBQUNWLFdBQU8sNkJBQWVBLE1BQWYsQ0FBUDtBQUNEO0FBQ0YsQyxDQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxlQUFlcUIsVUFBZixDQUEwQnZCLEVBQTFCLEVBQThCO0FBQzVCLFNBQU8sTUFBTVAsU0FBUyxDQUFDK0IsaUJBQVYsQ0FBNEJ4QixFQUE1QixDQUFiO0FBQ0Q7O2VBRWM7QUFDYkwsRUFBQUEsaUJBQWlCLEVBQUVBLGlCQUROO0FBRWJ5QixFQUFBQSxVQUFVLEVBQUVBLFVBRkM7QUFHYkMsRUFBQUEsS0FBSyxFQUFFQSxLQUhNO0FBSWJMLEVBQUFBLEdBQUcsRUFBRUEsR0FKUTtBQUtiTyxFQUFBQSxVQUFVLEVBQUVBLFVBTEM7QUFNYmpELEVBQUFBLE9BQU8sRUFBRUEsT0FOSTtBQU9ib0IsRUFBQUEsS0FBSyxFQUFFRDtBQVBNLEMiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXERBT1xcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkV4Y2VwdGlvbiBmcm9tICcuLi9zZXJ2aWNlL2FwcGxpY2F0aW9uRXhjZXB0aW9uJztcclxuaW1wb3J0IG1vbmdvQ29udmVydGVyIGZyb20gJy4uL3NlcnZpY2UvbW9uZ29Db252ZXJ0ZXInO1xyXG5pbXBvcnQgdW5pcXVlVmFsaWRhdG9yIGZyb20gJ21vbmdvb3NlLXVuaXF1ZS12YWxpZGF0b3InO1xyXG5cclxuXHJcbmNvbnN0IHN1YmplY3QgPSB7XHJcbiAgcHJvZHVjdDogJ1B5dGFuaWUgbyBwcm9kdWt0JyxcclxuICBvcmRlcjogJ0RvdHljenkgemFtw7N3aWVuaWEnLFxyXG4gIHJlY2xhbWF0aW9uOiAnUmVrbGFtYWNqZSBpIHp3cm90IHRvd2FydScsXHJcbiAgbW9uZXk6ICdEb3R5Y3p5IHp3cm90dSBwaWVuacSZZHp5JyxcclxuICBwcmVzY3JpcHRpb246ICdEb3R5Y3p5IEUtUmVjZXB0JyxcclxuICBhY2NvdW50OiAnRG90eWN6eSBrb250YSdcclxufTtcclxuXHJcbmNvbnN0IHN1YmplY3RzID0gW1xyXG4gIHN1YmplY3QucHJvZHVjdCxcclxuICBzdWJqZWN0Lm9yZGVyLFxyXG4gIHN1YmplY3QucmVjbGFtYXRpb24sXHJcbiAgc3ViamVjdC5tb25leSxcclxuICBzdWJqZWN0LnByZXNjcmlwdGlvbixcclxuICBzdWJqZWN0LmFjY291bnRcclxuXTtcclxuXHJcbmNvbnN0IGZvcm1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBsb2dpbk5hbWU6IHsgdHlwZTogU3RyaW5nfSxcclxuICBzdWJqZWN0OiB7IHR5cGU6IFN0cmluZywgZW51bTogc3ViamVjdHMgfSxcclxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmd9XHJcbn0sIHtcclxuICBjb2xsZWN0aW9uOiAnZm9ybXMnXHJcbn0pO1xyXG5cclxuZm9ybVNjaGVtYS5wbHVnaW4odW5pcXVlVmFsaWRhdG9yKTtcclxuXHJcbmNvbnN0IEZvcm1Nb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdmb3JtcycsIGZvcm1TY2hlbWEpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlTmV3T3JVcGRhdGUoZm9ybSkge1xyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgIGlmICghZm9ybS5pZCkge1xyXG4gICAgICByZXR1cm4gbmV3IEZvcm1Nb2RlbChmb3JtKS5zYXZlKCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIHJldHVybiBtb25nb0NvbnZlcnRlcihyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gRm9ybU1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKGZvcm0uaWQsIF8ub21pdChmb3JtLCAnaWQnKSwgeyBuZXc6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgaWYgKCdWYWxpZGF0aW9uRXJyb3InID09PSBlcnJvci5uYW1lKSB7XHJcbiAgICAgIGVycm9yID0gZXJyb3IuZXJyb3JzW09iamVjdC5rZXlzKGVycm9yLmVycm9ycylbMF1dO1xyXG4gICAgICB0aHJvdyBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5uZXcoYXBwbGljYXRpb25FeGNlcHRpb24uQkFEX1JFUVVFU1QsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldChpZCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEZvcm1Nb2RlbC5maW5kT25lKHsgX2lkOiBpZCB9KTtcclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbW9uZ29Db252ZXJ0ZXIocmVzdWx0KTtcclxuICB9XHJcbiAgdGhyb3cgYXBwbGljYXRpb25FeGNlcHRpb24ubmV3KGFwcGxpY2F0aW9uRXhjZXB0aW9uLk5PVF9GT1VORCwgJ0VxdWlwbWVudCBub3QgZm91bmQnKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlFbWFpbChuYW1lKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRm9ybU1vZGVsLmZpbmRPbmUoeyBsb2dpbk5hbWU6IG5hbWUgfSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgfVxyXG4gIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdVc2VyIG5vdCBmb3VuZCcpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeSgpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBGb3JtTW9kZWwuZmluZCh7fSk7XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBnZXQoaWQpIHtcclxuLy8gICBjb25zdCByZXN1bHQgPSBhd2FpdCBGb3JtTW9kZWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbi8vICAgaWYgKHJlc3VsdCkge1xyXG4vLyAgICAgcmV0dXJuIG1vbmdvQ29udmVydGVyKHJlc3VsdCk7XHJcbi8vICAgfVxyXG4vLyAgIHRocm93IGFwcGxpY2F0aW9uRXhjZXB0aW9uLm5ldyhhcHBsaWNhdGlvbkV4Y2VwdGlvbi5OT1RfRk9VTkQsICdVc2VyIG5vdCBmb3VuZCcpO1xyXG4vLyB9XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW1vdmVCeUlkKGlkKSB7XHJcbiAgcmV0dXJuIGF3YWl0IEZvcm1Nb2RlbC5maW5kQnlJZEFuZFJlbW92ZShpZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBjcmVhdGVOZXdPclVwZGF0ZTogY3JlYXRlTmV3T3JVcGRhdGUsXHJcbiAgZ2V0QnlFbWFpbDogZ2V0QnlFbWFpbCxcclxuICBxdWVyeTogcXVlcnksXHJcbiAgZ2V0OiBnZXQsXHJcbiAgcmVtb3ZlQnlJZDogcmVtb3ZlQnlJZCxcclxuICBzdWJqZWN0OiBzdWJqZWN0LFxyXG4gIG1vZGVsOiBGb3JtTW9kZWxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "formDAO.js"
      ],
      "names": [
        "subject",
        "product",
        "order",
        "reclamation",
        "money",
        "prescription",
        "account",
        "subjects",
        "formSchema",
        "mongoose",
        "Schema",
        "loginName",
        "type",
        "String",
        "enum",
        "description",
        "collection",
        "plugin",
        "uniqueValidator",
        "FormModel",
        "model",
        "createNewOrUpdate",
        "form",
        "Promise",
        "resolve",
        "then",
        "id",
        "save",
        "result",
        "findByIdAndUpdate",
        "_",
        "omit",
        "new",
        "catch",
        "error",
        "name",
        "errors",
        "Object",
        "keys",
        "applicationException",
        "BAD_REQUEST",
        "message",
        "get",
        "findOne",
        "_id",
        "NOT_FOUND",
        "getByEmail",
        "query",
        "find",
        "removeById",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\DAO\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport mongoose from 'mongoose';\r\nimport * as _ from 'lodash';\r\nimport Promise from 'bluebird';\r\nimport applicationException from '../service/applicationException';\r\nimport mongoConverter from '../service/mongoConverter';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\n\r\n\r\nconst subject = {\r\n  product: 'Pytanie o produkt',\r\n  order: 'Dotyczy zamówienia',\r\n  reclamation: 'Reklamacje i zwrot towaru',\r\n  money: 'Dotyczy zwrotu pieniędzy',\r\n  prescription: 'Dotyczy E-Recept',\r\n  account: 'Dotyczy konta'\r\n};\r\n\r\nconst subjects = [\r\n  subject.product,\r\n  subject.order,\r\n  subject.reclamation,\r\n  subject.money,\r\n  subject.prescription,\r\n  subject.account\r\n];\r\n\r\nconst formSchema = new mongoose.Schema({\r\n  loginName: { type: String},\r\n  subject: { type: String, enum: subjects },\r\n  description: { type: String}\r\n}, {\r\n  collection: 'forms'\r\n});\r\n\r\nformSchema.plugin(uniqueValidator);\r\n\r\nconst FormModel = mongoose.model('forms', formSchema);\r\n\r\nfunction createNewOrUpdate(form) {\r\n  return Promise.resolve().then(() => {\r\n    if (!form.id) {\r\n      return new FormModel(form).save().then(result => {\r\n        if (result) {\r\n          return mongoConverter(result);\r\n        }\r\n      });\r\n    } else {\r\n      return FormModel.findByIdAndUpdate(form.id, _.omit(form, 'id'), { new: true });\r\n    }\r\n  }).catch(error => {\r\n    if ('ValidationError' === error.name) {\r\n      error = error.errors[Object.keys(error.errors)[0]];\r\n      throw applicationException.new(applicationException.BAD_REQUEST, error.message);\r\n    }\r\n    throw error;\r\n  });\r\n}\r\n\r\nasync function get(id) {\r\n  const result = await FormModel.findOne({ _id: id });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'Equipment not found');\r\n}\r\n\r\nasync function getByEmail(name) {\r\n  const result = await FormModel.findOne({ loginName: name });\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n  throw applicationException.new(applicationException.NOT_FOUND, 'User not found');\r\n}\r\n\r\nasync function query() {\r\n  const result = await FormModel.find({});\r\n  if (result) {\r\n    return mongoConverter(result);\r\n  }\r\n}\r\n\r\n// async function get(id) {\r\n//   const result = await FormModel.findOne({ _id: id });\r\n//   if (result) {\r\n//     return mongoConverter(result);\r\n//   }\r\n//   throw applicationException.new(applicationException.NOT_FOUND, 'User not found');\r\n// }\r\n\r\nasync function removeById(id) {\r\n  return await FormModel.findByIdAndRemove(id);\r\n}\r\n\r\nexport default {\r\n  createNewOrUpdate: createNewOrUpdate,\r\n  getByEmail: getByEmail,\r\n  query: query,\r\n  get: get,\r\n  removeById: removeById,\r\n  subject: subject,\r\n  model: FormModel\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611941280447
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\middleware\\\\auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nconst auth = (req, res, next) => {\n  const token = req.header('x-auth-token');\n  if (!token) return res.status(401).send('Access denied. No token provided.');\n\n  try {\n    const decoded = _jsonwebtoken.default.verify(token, 'secret');\n\n    req.user = decoded;\n    next();\n  } catch (ex) {\n    res.status(400).send('Invalid token.');\n  }\n};\n\nvar _default = auth;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsInN0YXR1cyIsInNlbmQiLCJkZWNvZGVkIiwiand0IiwidmVyaWZ5IiwidXNlciIsImV4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDL0IsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE1BQUosQ0FBVyxjQUFYLENBQWQ7QUFDQSxNQUFJLENBQUNELEtBQUwsRUFBWSxPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixtQ0FBckIsQ0FBUDs7QUFFWixNQUFJO0FBQ0YsVUFBTUMsT0FBTyxHQUFHQyxzQkFBSUMsTUFBSixDQUFXTixLQUFYLEVBQWtCLFFBQWxCLENBQWhCOztBQUNBSCxJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0gsT0FBWDtBQUNBTCxJQUFBQSxJQUFJO0FBQ0wsR0FKRCxDQUtBLE9BQU9TLEVBQVAsRUFBVztBQUNUVixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixnQkFBckI7QUFDRDtBQUNGLENBWkQ7O2VBY2VQLEkiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbmNvbnN0IGF1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXIoJ3gtYXV0aC10b2tlbicpO1xyXG4gIGlmICghdG9rZW4pIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCgnQWNjZXNzIGRlbmllZC4gTm8gdG9rZW4gcHJvdmlkZWQuJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgJ3NlY3JldCcpO1xyXG4gICAgcmVxLnVzZXIgPSBkZWNvZGVkO1xyXG4gICAgbmV4dCgpO1xyXG4gIH1cclxuICBjYXRjaCAoZXgpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIHRva2VuLicpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGg7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "auth",
        "req",
        "res",
        "next",
        "token",
        "header",
        "status",
        "send",
        "decoded",
        "jwt",
        "verify",
        "user",
        "ex"
      ],
      "mappings": ";;;;;;;;;AAAA;;AAEA,MAAMA,IAAI,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC/B,QAAMC,KAAK,GAAGH,GAAG,CAACI,MAAJ,CAAW,cAAX,CAAd;AACA,MAAI,CAACD,KAAL,EAAY,OAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,mCAArB,CAAP;;AAEZ,MAAI;AACF,UAAMC,OAAO,GAAGC,sBAAIC,MAAJ,CAAWN,KAAX,EAAkB,QAAlB,CAAhB;;AACAH,IAAAA,GAAG,CAACU,IAAJ,GAAWH,OAAX;AACAL,IAAAA,IAAI;AACL,GAJD,CAKA,OAAOS,EAAP,EAAW;AACTV,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gBAArB;AACD;AACF,CAZD;;eAceP,I",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\r\n\r\nconst auth = (req, res, next) => {\r\n  const token = req.header('x-auth-token');\r\n  if (!token) return res.status(401).send('Access denied. No token provided.');\r\n\r\n  try {\r\n    const decoded = jwt.verify(token, 'secret');\r\n    req.user = decoded;\r\n    next();\r\n  }\r\n  catch (ex) {\r\n    res.status(400).send('Invalid token.');\r\n  }\r\n};\r\n\r\nexport default auth;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611338904197
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\middleware\\\\admin.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\admin.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\admin.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\admin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
        "sourceFileName": "admin.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst admin = (req, res, next) => {\n  if (!req.user.isAdmin) return res.status(403).send('Access denied.');\n  next();\n};\n\nvar _default = admin;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImFkbWluIiwicmVxIiwicmVzIiwibmV4dCIsInVzZXIiLCJpc0FkbWluIiwic3RhdHVzIiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLEtBQUssR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNoQyxNQUFJLENBQUNGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxPQUFkLEVBQXVCLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLGdCQUFyQixDQUFQO0FBQ3ZCSixFQUFBQSxJQUFJO0FBQ0wsQ0FIRDs7ZUFLZUgsSyIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcbWlkZGxld2FyZVxcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBpZiAoIXJlcS51c2VyLmlzQWRtaW4pIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnQWNjZXNzIGRlbmllZC4nKTtcclxuICBuZXh0KCk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhZG1pbjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "admin.js"
      ],
      "names": [
        "admin",
        "req",
        "res",
        "next",
        "user",
        "isAdmin",
        "status",
        "send"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,KAAK,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChC,MAAI,CAACF,GAAG,CAACG,IAAJ,CAASC,OAAd,EAAuB,OAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gBAArB,CAAP;AACvBJ,EAAAA,IAAI;AACL,CAHD;;eAKeH,K",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\middleware\\",
      "sourcesContent": [
        "const admin = (req, res, next) => {\r\n  if (!req.user.isAdmin) return res.status(403).send('Access denied.');\r\n  next();\r\n};\r\n\r\nexport default admin;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606046116192
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\medicines.endpoints.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\medicines.endpoints.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\medicines.endpoints.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\medicines.endpoints.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "medicines.endpoints.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\n\nconst medicineEndpoint = router => {\n  router.get('/api/medicine', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getMedicineManager().query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/medicine/:id', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getMedicineManager().get(request.params.id);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/medicine/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getMedicineManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/medicine/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getMedicineManager(request).removeMedicineById(request.params.id);\n      response.status(200).send('Medicine with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = medicineEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZGljaW5lcy5lbmRwb2ludHMuanMiXSwibmFtZXMiOlsibWVkaWNpbmVFbmRwb2ludCIsInJvdXRlciIsImdldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlc3VsdCIsImdldE1lZGljaW5lTWFuYWdlciIsInF1ZXJ5Iiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwiYXBwbGljYXRpb25FeGNlcHRpb24iLCJlcnJvckhhbmRsZXIiLCJwYXJhbXMiLCJpZCIsInBvc3QiLCJuZXh0IiwiY3JlYXRlTmV3T3JVcGRhdGUiLCJib2R5IiwiZGVsZXRlIiwicmVtb3ZlTWVkaWNpbmVCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBR0EsTUFBTUEsZ0JBQWdCLEdBQUlDLE1BQUQsSUFBWTtBQUNuQ0EsRUFBQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsZUFBWCxFQUE0QixPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixLQUE2QjtBQUN2RCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLGtCQUFsQixHQUF1Q0MsS0FBdkMsRUFBbkI7QUFDQUgsTUFBQUEsUUFBUSxDQUFDSSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBSUEsT0FBT0ssS0FBUCxFQUFjO0FBQ1pDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDTixRQUF6QztBQUNEO0FBQ0YsR0FSRDtBQVVBSCxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQyxPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixLQUE2QjtBQUMzRCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLGtCQUFsQixHQUF1Q0osR0FBdkMsQ0FBMkNDLE9BQU8sQ0FBQ1UsTUFBUixDQUFlQyxFQUExRCxDQUFuQjtBQUNBVixNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FJQSxPQUFPSyxLQUFQLEVBQWM7QUFDWkMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNOLFFBQXpDO0FBQ0Q7QUFDRixHQVJEO0FBVUFILEVBQUFBLE1BQU0sQ0FBQ2MsSUFBUCxDQUFZLHNCQUFaLEVBQW9DLE9BQU9aLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCWSxJQUExQixLQUFtQztBQUNyRSxRQUFJO0FBQ0YsVUFBSVgsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLGtCQUFsQixDQUFxQ0gsT0FBckMsRUFBOENjLGlCQUE5QyxDQUFnRWQsT0FBTyxDQUFDZSxJQUF4RSxDQUFuQjtBQUNBZCxNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNOLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBU0FILEVBQUFBLE1BQU0sQ0FBQ2tCLE1BQVAsQ0FBYywwQkFBZCxFQUEwQyxPQUFPaEIsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEJZLElBQTFCLEtBQW1DO0FBQzNFLFFBQUk7QUFDRixVQUFJWCxNQUFNLEdBQUcsTUFBTSx1QkFBU0YsT0FBVCxFQUFrQkcsa0JBQWxCLENBQXFDSCxPQUFyQyxFQUE4Q2lCLGtCQUE5QyxDQUFpRWpCLE9BQU8sQ0FBQ1UsTUFBUixDQUFlQyxFQUFoRixDQUFuQjtBQUNBVixNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCLHVCQUF1QkosTUFBdkIsR0FBZ0MsV0FBMUQ7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDTixRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVFELENBdENEOztlQXdDZUosZ0IiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXFJFU1RcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBidXNpbmVzcyBmcm9tICcuLi9idXNpbmVzcy9idXNpbmVzcy5jb250YWluZXInO1xyXG5pbXBvcnQgYXBwbGljYXRpb25FeGNlcHRpb24gZnJvbSAnLi4vc2VydmljZS9hcHBsaWNhdGlvbkV4Y2VwdGlvbic7XHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhcIjtcclxuXHJcblxyXG5jb25zdCBtZWRpY2luZUVuZHBvaW50ID0gKHJvdXRlcikgPT4ge1xyXG4gIHJvdXRlci5nZXQoJy9hcGkvbWVkaWNpbmUnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRNZWRpY2luZU1hbmFnZXIoKS5xdWVyeSgpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9tZWRpY2luZS86aWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRNZWRpY2luZU1hbmFnZXIoKS5nZXQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvbWVkaWNpbmUvY3JlYXRlJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0TWVkaWNpbmVNYW5hZ2VyKHJlcXVlc3QpLmNyZWF0ZU5ld09yVXBkYXRlKHJlcXVlc3QuYm9keSk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByb3V0ZXIuZGVsZXRlKCcvYXBpL21lZGljaW5lL2RlbGV0ZS86aWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRNZWRpY2luZU1hbmFnZXIocmVxdWVzdCkucmVtb3ZlTWVkaWNpbmVCeUlkKHJlcXVlc3QucGFyYW1zLmlkKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZCgnTWVkaWNpbmUgd2l0aCBpZDogJyArIHJlc3VsdCArICcgZGVsZXRlZC4nKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZWRpY2luZUVuZHBvaW50O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "medicines.endpoints.js"
      ],
      "names": [
        "medicineEndpoint",
        "router",
        "get",
        "request",
        "response",
        "result",
        "getMedicineManager",
        "query",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "params",
        "id",
        "post",
        "next",
        "createNewOrUpdate",
        "body",
        "delete",
        "removeMedicineById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AACA;;AAGA,MAAMA,gBAAgB,GAAIC,MAAD,IAAY;AACnCA,EAAAA,MAAM,CAACC,GAAP,CAAW,eAAX,EAA4B,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AACvD,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,kBAAlB,GAAuCC,KAAvC,EAAnB;AACAH,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAIA,OAAOK,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACC,GAAP,CAAW,mBAAX,EAAgC,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AAC3D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,kBAAlB,GAAuCJ,GAAvC,CAA2CC,OAAO,CAACU,MAAR,CAAeC,EAA1D,CAAnB;AACAV,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAIA,OAAOK,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACc,IAAP,CAAY,sBAAZ,EAAoC,OAAOZ,OAAP,EAAgBC,QAAhB,EAA0BY,IAA1B,KAAmC;AACrE,QAAI;AACF,UAAIX,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,kBAAlB,CAAqCH,OAArC,EAA8Cc,iBAA9C,CAAgEd,OAAO,CAACe,IAAxE,CAAnB;AACAd,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACkB,MAAP,CAAc,0BAAd,EAA0C,OAAOhB,OAAP,EAAgBC,QAAhB,EAA0BY,IAA1B,KAAmC;AAC3E,QAAI;AACF,UAAIX,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,kBAAlB,CAAqCH,OAArC,EAA8CiB,kBAA9C,CAAiEjB,OAAO,CAACU,MAAR,CAAeC,EAAhF,CAAnB;AACAV,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,uBAAuBJ,MAAvB,GAAgC,WAA1D;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GAPD;AAQD,CAtCD;;eAwCeJ,gB",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\nimport auth from \"../middleware/auth\";\r\n\r\n\r\nconst medicineEndpoint = (router) => {\r\n  router.get('/api/medicine', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getMedicineManager().query();\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.get('/api/medicine/:id', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getMedicineManager().get(request.params.id);\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.post('/api/medicine/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getMedicineManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.delete('/api/medicine/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getMedicineManager(request).removeMedicineById(request.params.id);\r\n      response.status(200).send('Medicine with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n};\r\n\r\nexport default medicineEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611939546174
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\equipment.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\equipment.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\equipment.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\equipment.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "equipment.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst equipmentEndpoint = router => {\n  router.get('/api/equipment', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getEquipmentManager().query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/equipment/:id', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getEquipmentManager().get(request.params.id);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/equipment/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getEquipmentManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/equipment/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getEquipmentManager(request).removeEquipmentById(request.params.id);\n      response.status(200).send('Equipment with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = equipmentEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWlwbWVudC5lbmRwb2ludC5qcyJdLCJuYW1lcyI6WyJlcXVpcG1lbnRFbmRwb2ludCIsInJvdXRlciIsImdldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlc3VsdCIsImdldEVxdWlwbWVudE1hbmFnZXIiLCJxdWVyeSIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiZXJyb3JIYW5kbGVyIiwicGFyYW1zIiwiaWQiLCJwb3N0IiwibmV4dCIsImNyZWF0ZU5ld09yVXBkYXRlIiwiYm9keSIsImRlbGV0ZSIsInJlbW92ZUVxdWlwbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFFQSxNQUFNQSxpQkFBaUIsR0FBSUMsTUFBRCxJQUFZO0FBQ3BDQSxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QixPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixLQUE2QjtBQUN4RCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLG1CQUFsQixHQUF3Q0MsS0FBeEMsRUFBbkI7QUFDQUgsTUFBQUEsUUFBUSxDQUFDSSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBSUEsT0FBT0ssS0FBUCxFQUFjO0FBQ1pDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDTixRQUF6QztBQUNEO0FBQ0YsR0FSRDtBQVVBSCxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixLQUE2QjtBQUM1RCxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLG1CQUFsQixHQUF3Q0osR0FBeEMsQ0FBNENDLE9BQU8sQ0FBQ1UsTUFBUixDQUFlQyxFQUEzRCxDQUFuQjtBQUNBVixNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FJQSxPQUFPSyxLQUFQLEVBQWM7QUFDWkMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNOLFFBQXpDO0FBQ0Q7QUFDRixHQVJEO0FBVUFILEVBQUFBLE1BQU0sQ0FBQ2MsSUFBUCxDQUFZLHVCQUFaLEVBQXFDLE9BQU9aLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCWSxJQUExQixLQUFtQztBQUN0RSxRQUFJO0FBQ0YsVUFBSVgsTUFBTSxHQUFHLE1BQU0sdUJBQVNGLE9BQVQsRUFBa0JHLG1CQUFsQixDQUFzQ0gsT0FBdEMsRUFBK0NjLGlCQUEvQyxDQUFpRWQsT0FBTyxDQUFDZSxJQUF6RSxDQUFuQjtBQUNBZCxNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNOLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBU0FILEVBQUFBLE1BQU0sQ0FBQ2tCLE1BQVAsQ0FBYywyQkFBZCxFQUEyQyxPQUFPaEIsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEJZLElBQTFCLEtBQW1DO0FBQzVFLFFBQUk7QUFDRixVQUFJWCxNQUFNLEdBQUcsTUFBTSx1QkFBU0YsT0FBVCxFQUFrQkcsbUJBQWxCLENBQXNDSCxPQUF0QyxFQUErQ2lCLG1CQUEvQyxDQUFtRWpCLE9BQU8sQ0FBQ1UsTUFBUixDQUFlQyxFQUFsRixDQUFuQjtBQUNBVixNQUFBQSxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCLHdCQUF3QkosTUFBeEIsR0FBaUMsV0FBM0Q7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDTixRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVFELENBdENEOztlQXdDZUosaUIiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXFJFU1RcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBidXNpbmVzcyBmcm9tICcuLi9idXNpbmVzcy9idXNpbmVzcy5jb250YWluZXInO1xyXG5pbXBvcnQgYXBwbGljYXRpb25FeGNlcHRpb24gZnJvbSAnLi4vc2VydmljZS9hcHBsaWNhdGlvbkV4Y2VwdGlvbic7XHJcblxyXG5jb25zdCBlcXVpcG1lbnRFbmRwb2ludCA9IChyb3V0ZXIpID0+IHtcclxuICByb3V0ZXIuZ2V0KCcvYXBpL2VxdWlwbWVudCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldEVxdWlwbWVudE1hbmFnZXIoKS5xdWVyeSgpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9lcXVpcG1lbnQvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0RXF1aXBtZW50TWFuYWdlcigpLmdldChyZXF1ZXN0LnBhcmFtcy5pZCk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByb3V0ZXIucG9zdCgnL2FwaS9lcXVpcG1lbnQvY3JlYXRlJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0RXF1aXBtZW50TWFuYWdlcihyZXF1ZXN0KS5jcmVhdGVOZXdPclVwZGF0ZShyZXF1ZXN0LmJvZHkpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLmRlbGV0ZSgnL2FwaS9lcXVpcG1lbnQvZGVsZXRlLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldEVxdWlwbWVudE1hbmFnZXIocmVxdWVzdCkucmVtb3ZlRXF1aXBtZW50QnlJZChyZXF1ZXN0LnBhcmFtcy5pZCk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoJ0VxdWlwbWVudCB3aXRoIGlkOiAnICsgcmVzdWx0ICsgJyBkZWxldGVkLicpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGVxdWlwbWVudEVuZHBvaW50O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "equipment.endpoint.js"
      ],
      "names": [
        "equipmentEndpoint",
        "router",
        "get",
        "request",
        "response",
        "result",
        "getEquipmentManager",
        "query",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "params",
        "id",
        "post",
        "next",
        "createNewOrUpdate",
        "body",
        "delete",
        "removeEquipmentById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAEA,MAAMA,iBAAiB,GAAIC,MAAD,IAAY;AACpCA,EAAAA,MAAM,CAACC,GAAP,CAAW,gBAAX,EAA6B,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AACxD,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,mBAAlB,GAAwCC,KAAxC,EAAnB;AACAH,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAIA,OAAOK,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACC,GAAP,CAAW,oBAAX,EAAiC,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AAC5D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,mBAAlB,GAAwCJ,GAAxC,CAA4CC,OAAO,CAACU,MAAR,CAAeC,EAA3D,CAAnB;AACAV,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAIA,OAAOK,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACc,IAAP,CAAY,uBAAZ,EAAqC,OAAOZ,OAAP,EAAgBC,QAAhB,EAA0BY,IAA1B,KAAmC;AACtE,QAAI;AACF,UAAIX,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,mBAAlB,CAAsCH,OAAtC,EAA+Cc,iBAA/C,CAAiEd,OAAO,CAACe,IAAzE,CAAnB;AACAd,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACkB,MAAP,CAAc,2BAAd,EAA2C,OAAOhB,OAAP,EAAgBC,QAAhB,EAA0BY,IAA1B,KAAmC;AAC5E,QAAI;AACF,UAAIX,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,mBAAlB,CAAsCH,OAAtC,EAA+CiB,mBAA/C,CAAmEjB,OAAO,CAACU,MAAR,CAAeC,EAAlF,CAAnB;AACAV,MAAAA,QAAQ,CAACI,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,wBAAwBJ,MAAxB,GAAiC,WAA3D;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCN,QAAzC;AACD;AACF,GAPD;AAQD,CAtCD;;eAwCeJ,iB",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n\r\nconst equipmentEndpoint = (router) => {\r\n  router.get('/api/equipment', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getEquipmentManager().query();\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.get('/api/equipment/:id', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getEquipmentManager().get(request.params.id);\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.post('/api/equipment/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getEquipmentManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.delete('/api/equipment/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getEquipmentManager(request).removeEquipmentById(request.params.id);\r\n      response.status(200).send('Equipment with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n};\r\n\r\nexport default equipmentEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609942401418
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\order.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\order.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\order.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\order.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "order.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst orderEndpoint = router => {\n  router.post('/api/order/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getOrderManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/order', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getOrderManager().query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/order/:id', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getOrderManager().get(request.params.id);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/orders', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getOrderManager().getUserOrders(request.query.userId);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/order/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getOrderManager(request).removeOrderById(request.params.id);\n      response.status(200).send('Order with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = orderEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLmVuZHBvaW50LmpzIl0sIm5hbWVzIjpbIm9yZGVyRW5kcG9pbnQiLCJyb3V0ZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInJlc3VsdCIsImdldE9yZGVyTWFuYWdlciIsImNyZWF0ZU5ld09yVXBkYXRlIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiZXJyb3JIYW5kbGVyIiwiZ2V0IiwicXVlcnkiLCJwYXJhbXMiLCJpZCIsImdldFVzZXJPcmRlcnMiLCJ1c2VySWQiLCJkZWxldGUiLCJyZW1vdmVPcmRlckJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFFQSxNQUFNQSxhQUFhLEdBQUlDLE1BQUQsSUFBWTtBQUNoQ0EsRUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVksbUJBQVosRUFBaUMsT0FBT0MsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEJDLElBQTFCLEtBQW1DO0FBQ2xFLFFBQUk7QUFDRixVQUFJQyxNQUFNLEdBQUcsTUFBTSx1QkFBU0gsT0FBVCxFQUFrQkksZUFBbEIsQ0FBa0NKLE9BQWxDLEVBQTJDSyxpQkFBM0MsQ0FBNkRMLE9BQU8sQ0FBQ00sSUFBckUsQ0FBbkI7QUFDQUwsTUFBQUEsUUFBUSxDQUFDTSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkwsTUFBMUI7QUFDRCxLQUhELENBR0UsT0FBT00sS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUixRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVNBSCxFQUFBQSxNQUFNLENBQUNjLEdBQVAsQ0FBVyxZQUFYLEVBQXlCLE9BQU9aLE9BQVAsRUFBZ0JDLFFBQWhCLEtBQTZCO0FBQ3BELFFBQUk7QUFDRixVQUFJRSxNQUFNLEdBQUcsTUFBTSx1QkFBU0gsT0FBVCxFQUFrQkksZUFBbEIsR0FBb0NTLEtBQXBDLEVBQW5CO0FBQ0FaLE1BQUFBLFFBQVEsQ0FBQ00sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEJMLE1BQTFCO0FBQ0QsS0FIRCxDQUlBLE9BQU9NLEtBQVAsRUFBYztBQUNaQyxvQ0FBcUJDLFlBQXJCLENBQWtDRixLQUFsQyxFQUF5Q1IsUUFBekM7QUFDRDtBQUNGLEdBUkQ7QUFVQUgsRUFBQUEsTUFBTSxDQUFDYyxHQUFQLENBQVcsZ0JBQVgsRUFBNkIsT0FBT1osT0FBUCxFQUFnQkMsUUFBaEIsS0FBNkI7QUFDeEQsUUFBSTtBQUNGLFVBQUlFLE1BQU0sR0FBRyxNQUFNLHVCQUFTSCxPQUFULEVBQWtCSSxlQUFsQixHQUFvQ1EsR0FBcEMsQ0FBd0NaLE9BQU8sQ0FBQ2MsTUFBUixDQUFlQyxFQUF2RCxDQUFuQjtBQUNBZCxNQUFBQSxRQUFRLENBQUNNLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCTCxNQUExQjtBQUNELEtBSEQsQ0FJQSxPQUFPTSxLQUFQLEVBQWM7QUFDWkMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNSLFFBQXpDO0FBQ0Q7QUFDRixHQVJEO0FBVUFILEVBQUFBLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXLGFBQVgsRUFBMEIsT0FBT1osT0FBUCxFQUFnQkMsUUFBaEIsS0FBNkI7QUFDckQsUUFBSTtBQUNGLFVBQUlFLE1BQU0sR0FBRyxNQUFNLHVCQUFTSCxPQUFULEVBQWtCSSxlQUFsQixHQUFvQ1ksYUFBcEMsQ0FBa0RoQixPQUFPLENBQUNhLEtBQVIsQ0FBY0ksTUFBaEUsQ0FBbkI7QUFDQWhCLE1BQUFBLFFBQVEsQ0FBQ00sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEJMLE1BQTFCO0FBQ0QsS0FIRCxDQUlBLE9BQU9NLEtBQVAsRUFBYztBQUNaQyxvQ0FBcUJDLFlBQXJCLENBQWtDRixLQUFsQyxFQUF5Q1IsUUFBekM7QUFDRDtBQUNGLEdBUkQ7QUFVQUgsRUFBQUEsTUFBTSxDQUFDb0IsTUFBUCxDQUFjLHVCQUFkLEVBQXVDLE9BQU9sQixPQUFQLEVBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsS0FBbUM7QUFDeEUsUUFBSTtBQUNGLFVBQUlDLE1BQU0sR0FBRyxNQUFNLHVCQUFTSCxPQUFULEVBQWtCSSxlQUFsQixDQUFrQ0osT0FBbEMsRUFBMkNtQixlQUEzQyxDQUEyRG5CLE9BQU8sQ0FBQ2MsTUFBUixDQUFlQyxFQUExRSxDQUFuQjtBQUNBZCxNQUFBQSxRQUFRLENBQUNNLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCLG9CQUFvQkwsTUFBcEIsR0FBNkIsV0FBdkQ7QUFDRCxLQUhELENBR0UsT0FBT00sS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUixRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVFELENBaEREOztlQWtEZUosYSIsInNvdXJjZVJvb3QiOiJEOlxcUmFmYcWCXFxEb2t1bWVudHlcXFByYWNhIER5cGxvbW93YVxcQXB0ZWthIE9ubGluZVxcUGhhcm1hY3lcXGFwaVxcUkVTVFxcIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IGJ1c2luZXNzIGZyb20gJy4uL2J1c2luZXNzL2J1c2luZXNzLmNvbnRhaW5lcic7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkV4Y2VwdGlvbiBmcm9tICcuLi9zZXJ2aWNlL2FwcGxpY2F0aW9uRXhjZXB0aW9uJztcclxuXHJcbmNvbnN0IG9yZGVyRW5kcG9pbnQgPSAocm91dGVyKSA9PiB7XHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvb3JkZXIvY3JlYXRlJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0T3JkZXJNYW5hZ2VyKHJlcXVlc3QpLmNyZWF0ZU5ld09yVXBkYXRlKHJlcXVlc3QuYm9keSk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIHJvdXRlci5nZXQoJy9hcGkvb3JkZXInLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRPcmRlck1hbmFnZXIoKS5xdWVyeSgpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9vcmRlci86aWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRPcmRlck1hbmFnZXIoKS5nZXQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9vcmRlcnMnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRPcmRlck1hbmFnZXIoKS5nZXRVc2VyT3JkZXJzKHJlcXVlc3QucXVlcnkudXNlcklkKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIHJvdXRlci5kZWxldGUoJy9hcGkvb3JkZXIvZGVsZXRlLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldE9yZGVyTWFuYWdlcihyZXF1ZXN0KS5yZW1vdmVPcmRlckJ5SWQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKCdPcmRlciB3aXRoIGlkOiAnICsgcmVzdWx0ICsgJyBkZWxldGVkLicpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9yZGVyRW5kcG9pbnQ7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "order.endpoint.js"
      ],
      "names": [
        "orderEndpoint",
        "router",
        "post",
        "request",
        "response",
        "next",
        "result",
        "getOrderManager",
        "createNewOrUpdate",
        "body",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "get",
        "query",
        "params",
        "id",
        "getUserOrders",
        "userId",
        "delete",
        "removeOrderById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAEA,MAAMA,aAAa,GAAIC,MAAD,IAAY;AAChCA,EAAAA,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAiC,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAClE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,eAAlB,CAAkCJ,OAAlC,EAA2CK,iBAA3C,CAA6DL,OAAO,CAACM,IAArE,CAAnB;AACAL,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BL,MAA1B;AACD,KAHD,CAGE,OAAOM,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACc,GAAP,CAAW,YAAX,EAAyB,OAAOZ,OAAP,EAAgBC,QAAhB,KAA6B;AACpD,QAAI;AACF,UAAIE,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,eAAlB,GAAoCS,KAApC,EAAnB;AACAZ,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BL,MAA1B;AACD,KAHD,CAIA,OAAOM,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACc,GAAP,CAAW,gBAAX,EAA6B,OAAOZ,OAAP,EAAgBC,QAAhB,KAA6B;AACxD,QAAI;AACF,UAAIE,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,eAAlB,GAAoCQ,GAApC,CAAwCZ,OAAO,CAACc,MAAR,CAAeC,EAAvD,CAAnB;AACAd,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BL,MAA1B;AACD,KAHD,CAIA,OAAOM,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACc,GAAP,CAAW,aAAX,EAA0B,OAAOZ,OAAP,EAAgBC,QAAhB,KAA6B;AACrD,QAAI;AACF,UAAIE,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,eAAlB,GAAoCY,aAApC,CAAkDhB,OAAO,CAACa,KAAR,CAAcI,MAAhE,CAAnB;AACAhB,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BL,MAA1B;AACD,KAHD,CAIA,OAAOM,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GARD;AAUAH,EAAAA,MAAM,CAACoB,MAAP,CAAc,uBAAd,EAAuC,OAAOlB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACxE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,eAAlB,CAAkCJ,OAAlC,EAA2CmB,eAA3C,CAA2DnB,OAAO,CAACc,MAAR,CAAeC,EAA1E,CAAnB;AACAd,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,oBAAoBL,MAApB,GAA6B,WAAvD;AACD,KAHD,CAGE,OAAOM,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GAPD;AAQD,CAhDD;;eAkDeJ,a",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n\r\nconst orderEndpoint = (router) => {\r\n  router.post('/api/order/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getOrderManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.get('/api/order', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getOrderManager().query();\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.get('/api/order/:id', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getOrderManager().get(request.params.id);\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.get('/api/orders', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getOrderManager().getUserOrders(request.query.userId);\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n\r\n  router.delete('/api/order/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getOrderManager(request).removeOrderById(request.params.id);\r\n      response.status(200).send('Order with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n};\r\n\r\nexport default orderEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611584529153
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\prescriptions.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\prescriptions.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\prescriptions.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\prescriptions.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "prescriptions.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nconst medicineEndpoint = router => {\n  router.get('/api/prescription', async (request, response) => {\n    try {\n      let result = await (0, _business.default)(request).getPrescriptionManager().get(request.query.PESEL, request.query.code);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = medicineEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXNjcmlwdGlvbnMuZW5kcG9pbnQuanMiXSwibmFtZXMiOlsibWVkaWNpbmVFbmRwb2ludCIsInJvdXRlciIsImdldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsInJlc3VsdCIsImdldFByZXNjcmlwdGlvbk1hbmFnZXIiLCJxdWVyeSIsIlBFU0VMIiwiY29kZSIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsImFwcGxpY2F0aW9uRXhjZXB0aW9uIiwiZXJyb3JIYW5kbGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUlDLE1BQUQsSUFBWTtBQUNuQ0EsRUFBQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsbUJBQVgsRUFBZ0MsT0FBT0MsT0FBUCxFQUFnQkMsUUFBaEIsS0FBNkI7QUFDM0QsUUFBSTtBQUNGLFVBQUlDLE1BQU0sR0FBRyxNQUFNLHVCQUFTRixPQUFULEVBQWtCRyxzQkFBbEIsR0FBMkNKLEdBQTNDLENBQStDQyxPQUFPLENBQUNJLEtBQVIsQ0FBY0MsS0FBN0QsRUFBb0VMLE9BQU8sQ0FBQ0ksS0FBUixDQUFjRSxJQUFsRixDQUFuQjtBQUNBTCxNQUFBQSxRQUFRLENBQUNNLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCTixNQUExQjtBQUNELEtBSEQsQ0FJQSxPQUFPTyxLQUFQLEVBQWM7QUFDWkMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNSLFFBQXpDO0FBQ0Q7QUFDRixHQVJEO0FBU0QsQ0FWRDs7ZUFZZUosZ0IiLCJzb3VyY2VSb290IjoiRDpcXFJhZmHFglxcRG9rdW1lbnR5XFxQcmFjYSBEeXBsb21vd2FcXEFwdGVrYSBPbmxpbmVcXFBoYXJtYWN5XFxhcGlcXFJFU1RcXCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBidXNpbmVzcyBmcm9tICcuLi9idXNpbmVzcy9idXNpbmVzcy5jb250YWluZXInO1xyXG5pbXBvcnQgYXBwbGljYXRpb25FeGNlcHRpb24gZnJvbSAnLi4vc2VydmljZS9hcHBsaWNhdGlvbkV4Y2VwdGlvbic7XHJcblxyXG5jb25zdCBtZWRpY2luZUVuZHBvaW50ID0gKHJvdXRlcikgPT4ge1xyXG4gIHJvdXRlci5nZXQoJy9hcGkvcHJlc2NyaXB0aW9uJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0UHJlc2NyaXB0aW9uTWFuYWdlcigpLmdldChyZXF1ZXN0LnF1ZXJ5LlBFU0VMLCByZXF1ZXN0LnF1ZXJ5LmNvZGUpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lZGljaW5lRW5kcG9pbnQ7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "prescriptions.endpoint.js"
      ],
      "names": [
        "medicineEndpoint",
        "router",
        "get",
        "request",
        "response",
        "result",
        "getPrescriptionManager",
        "query",
        "PESEL",
        "code",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAEA,MAAMA,gBAAgB,GAAIC,MAAD,IAAY;AACnCA,EAAAA,MAAM,CAACC,GAAP,CAAW,mBAAX,EAAgC,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AAC3D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASF,OAAT,EAAkBG,sBAAlB,GAA2CJ,GAA3C,CAA+CC,OAAO,CAACI,KAAR,CAAcC,KAA7D,EAAoEL,OAAO,CAACI,KAAR,CAAcE,IAAlF,CAAnB;AACAL,MAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BN,MAA1B;AACD,KAHD,CAIA,OAAOO,KAAP,EAAc;AACZC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCR,QAAzC;AACD;AACF,GARD;AASD,CAVD;;eAYeJ,gB",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n\r\nconst medicineEndpoint = (router) => {\r\n  router.get('/api/prescription', async (request, response) => {\r\n    try {\r\n      let result = await business(request).getPrescriptionManager().get(request.query.PESEL, request.query.code);\r\n      response.status(200).send(result);\r\n    }\r\n    catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n};\r\n\r\nexport default medicineEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609605994504
  },
  "{\"sourceRoot\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"filename\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\\\\REST\\\\form.endpoint.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Rafał\\\\Dokumenty\\\\Praca Dyplomowa\\\\Apteka Online\\\\Pharmacy\\\\api\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\form.endpoint.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\form.endpoint.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\form.endpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
        "sourceFileName": "form.endpoint.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _business = _interopRequireDefault(require(\"../business/business.container\"));\n\nvar _applicationException = _interopRequireDefault(require(\"../service/applicationException\"));\n\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\n\n// import auth from '../middleware/auth';\nconst admin = require('../middleware/admin');\n\nconst formEndpoint = router => {\n  router.get('/api/form', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getFormManager(request).query();\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.post('/api/form/create', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getFormManager(request).createNewOrUpdate(request.body);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/form/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getFormManager(request).get(request.params.id);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.get('/api/form/:loginName', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getFormManager(request).getByEmail(request.params.loginName);\n      response.status(200).send(result);\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n  router.delete('/api/form/delete/:id', async (request, response, next) => {\n    try {\n      let result = await (0, _business.default)(request).getFormManager(request).removeFormById(request.params.id);\n      response.status(200).send('Form with id: ' + result + ' deleted.');\n    } catch (error) {\n      _applicationException.default.errorHandler(error, response);\n    }\n  });\n};\n\nvar _default = formEndpoint;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uZW5kcG9pbnQuanMiXSwibmFtZXMiOlsiYWRtaW4iLCJyZXF1aXJlIiwiZm9ybUVuZHBvaW50Iiwicm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInJlc3VsdCIsImdldEZvcm1NYW5hZ2VyIiwicXVlcnkiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJhcHBsaWNhdGlvbkV4Y2VwdGlvbiIsImVycm9ySGFuZGxlciIsInBvc3QiLCJjcmVhdGVOZXdPclVwZGF0ZSIsImJvZHkiLCJwYXJhbXMiLCJpZCIsImdldEJ5RW1haWwiLCJsb2dpbk5hbWUiLCJkZWxldGUiLCJyZW1vdmVGb3JtQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUdBOztBQUZBO0FBQ0EsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMscUJBQUQsQ0FBckI7O0FBR0EsTUFBTUMsWUFBWSxHQUFJQyxNQUFELElBQVk7QUFDL0JBLEVBQUFBLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLFdBQVgsRUFBd0IsT0FBT0MsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEJDLElBQTFCLEtBQW1DO0FBQ3pELFFBQUk7QUFDRixVQUFJQyxNQUFNLEdBQUcsTUFBTSx1QkFBU0gsT0FBVCxFQUFrQkksY0FBbEIsQ0FBaUNKLE9BQWpDLEVBQTBDSyxLQUExQyxFQUFuQjtBQUNBSixNQUFBQSxRQUFRLENBQUNLLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCSixNQUExQjtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNQLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBU0FILEVBQUFBLE1BQU0sQ0FBQ2EsSUFBUCxDQUFZLGtCQUFaLEVBQWdDLE9BQU9YLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUNqRSxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNILE9BQVQsRUFBa0JJLGNBQWxCLENBQWlDSixPQUFqQyxFQUEwQ1ksaUJBQTFDLENBQTREWixPQUFPLENBQUNhLElBQXBFLENBQW5CO0FBQ0FaLE1BQUFBLFFBQVEsQ0FBQ0ssTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEJKLE1BQTFCO0FBQ0QsS0FIRCxDQUdFLE9BQU9LLEtBQVAsRUFBYztBQUNkQyxvQ0FBcUJDLFlBQXJCLENBQWtDRixLQUFsQyxFQUF5Q1AsUUFBekM7QUFDRDtBQUNGLEdBUEQ7QUFTQUgsRUFBQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsZUFBWCxFQUE0QixPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsS0FBbUM7QUFDN0QsUUFBSTtBQUNGLFVBQUlDLE1BQU0sR0FBRyxNQUFNLHVCQUFTSCxPQUFULEVBQWtCSSxjQUFsQixDQUFpQ0osT0FBakMsRUFBMENELEdBQTFDLENBQThDQyxPQUFPLENBQUNjLE1BQVIsQ0FBZUMsRUFBN0QsQ0FBbkI7QUFDQWQsTUFBQUEsUUFBUSxDQUFDSyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUCxRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVNBSCxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxzQkFBWCxFQUFtQyxPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsS0FBbUM7QUFDcEUsUUFBSTtBQUNGLFVBQUlDLE1BQU0sR0FBRyxNQUFNLHVCQUFTSCxPQUFULEVBQWtCSSxjQUFsQixDQUFpQ0osT0FBakMsRUFBMENnQixVQUExQyxDQUFxRGhCLE9BQU8sQ0FBQ2MsTUFBUixDQUFlRyxTQUFwRSxDQUFuQjtBQUNBaEIsTUFBQUEsUUFBUSxDQUFDSyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQkosTUFBMUI7QUFDRCxLQUhELENBR0UsT0FBT0ssS0FBUCxFQUFjO0FBQ2RDLG9DQUFxQkMsWUFBckIsQ0FBa0NGLEtBQWxDLEVBQXlDUCxRQUF6QztBQUNEO0FBQ0YsR0FQRDtBQVNBSCxFQUFBQSxNQUFNLENBQUNvQixNQUFQLENBQWMsc0JBQWQsRUFBc0MsT0FBT2xCLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUN2RSxRQUFJO0FBQ0YsVUFBSUMsTUFBTSxHQUFHLE1BQU0sdUJBQVNILE9BQVQsRUFBa0JJLGNBQWxCLENBQWlDSixPQUFqQyxFQUEwQ21CLGNBQTFDLENBQXlEbkIsT0FBTyxDQUFDYyxNQUFSLENBQWVDLEVBQXhFLENBQW5CO0FBQ0FkLE1BQUFBLFFBQVEsQ0FBQ0ssTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEIsbUJBQW1CSixNQUFuQixHQUE0QixXQUF0RDtBQUNELEtBSEQsQ0FHRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsb0NBQXFCQyxZQUFyQixDQUFrQ0YsS0FBbEMsRUFBeUNQLFFBQXpDO0FBQ0Q7QUFDRixHQVBEO0FBUUQsQ0E3Q0Q7O2VBK0NlSixZIiwic291cmNlUm9vdCI6IkQ6XFxSYWZhxYJcXERva3VtZW50eVxcUHJhY2EgRHlwbG9tb3dhXFxBcHRla2EgT25saW5lXFxQaGFybWFjeVxcYXBpXFxSRVNUXFwiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgYnVzaW5lc3MgZnJvbSAnLi4vYnVzaW5lc3MvYnVzaW5lc3MuY29udGFpbmVyJztcclxuaW1wb3J0IGFwcGxpY2F0aW9uRXhjZXB0aW9uIGZyb20gJy4uL3NlcnZpY2UvYXBwbGljYXRpb25FeGNlcHRpb24nO1xyXG4vLyBpbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgnO1xyXG5jb25zdCBhZG1pbiA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvYWRtaW4nKTtcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoJztcclxuXHJcbmNvbnN0IGZvcm1FbmRwb2ludCA9IChyb3V0ZXIpID0+IHtcclxuICByb3V0ZXIuZ2V0KCcvYXBpL2Zvcm0nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRGb3JtTWFuYWdlcihyZXF1ZXN0KS5xdWVyeSgpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLnBvc3QoJy9hcGkvZm9ybS9jcmVhdGUnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBidXNpbmVzcyhyZXF1ZXN0KS5nZXRGb3JtTWFuYWdlcihyZXF1ZXN0KS5jcmVhdGVOZXdPclVwZGF0ZShyZXF1ZXN0LmJvZHkpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9mb3JtLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldEZvcm1NYW5hZ2VyKHJlcXVlc3QpLmdldChyZXF1ZXN0LnBhcmFtcy5pZCk7XHJcbiAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGFwcGxpY2F0aW9uRXhjZXB0aW9uLmVycm9ySGFuZGxlcihlcnJvciwgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByb3V0ZXIuZ2V0KCcvYXBpL2Zvcm0vOmxvZ2luTmFtZScsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzKHJlcXVlc3QpLmdldEZvcm1NYW5hZ2VyKHJlcXVlc3QpLmdldEJ5RW1haWwocmVxdWVzdC5wYXJhbXMubG9naW5OYW1lKTtcclxuICAgICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXBwbGljYXRpb25FeGNlcHRpb24uZXJyb3JIYW5kbGVyKGVycm9yLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5kZWxldGUoJy9hcGkvZm9ybS9kZWxldGUvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnVzaW5lc3MocmVxdWVzdCkuZ2V0Rm9ybU1hbmFnZXIocmVxdWVzdCkucmVtb3ZlRm9ybUJ5SWQocmVxdWVzdC5wYXJhbXMuaWQpO1xyXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKCdGb3JtIHdpdGggaWQ6ICcgKyByZXN1bHQgKyAnIGRlbGV0ZWQuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhcHBsaWNhdGlvbkV4Y2VwdGlvbi5lcnJvckhhbmRsZXIoZXJyb3IsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZm9ybUVuZHBvaW50O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "form.endpoint.js"
      ],
      "names": [
        "admin",
        "require",
        "formEndpoint",
        "router",
        "get",
        "request",
        "response",
        "next",
        "result",
        "getFormManager",
        "query",
        "status",
        "send",
        "error",
        "applicationException",
        "errorHandler",
        "post",
        "createNewOrUpdate",
        "body",
        "params",
        "id",
        "getByEmail",
        "loginName",
        "delete",
        "removeFormById"
      ],
      "mappings": "AAAA;;;;;;;;;AAEA;;AACA;;AAGA;;AAFA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,qBAAD,CAArB;;AAGA,MAAMC,YAAY,GAAIC,MAAD,IAAY;AAC/BA,EAAAA,MAAM,CAACC,GAAP,CAAW,WAAX,EAAwB,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACzD,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CK,KAA1C,EAAnB;AACAJ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACa,IAAP,CAAY,kBAAZ,EAAgC,OAAOX,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACjE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CY,iBAA1C,CAA4DZ,OAAO,CAACa,IAApE,CAAnB;AACAZ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACC,GAAP,CAAW,eAAX,EAA4B,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAC7D,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CD,GAA1C,CAA8CC,OAAO,CAACc,MAAR,CAAeC,EAA7D,CAAnB;AACAd,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACC,GAAP,CAAW,sBAAX,EAAmC,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACpE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CgB,UAA1C,CAAqDhB,OAAO,CAACc,MAAR,CAAeG,SAApE,CAAnB;AACAhB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BJ,MAA1B;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AASAH,EAAAA,MAAM,CAACoB,MAAP,CAAc,sBAAd,EAAsC,OAAOlB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACvE,QAAI;AACF,UAAIC,MAAM,GAAG,MAAM,uBAASH,OAAT,EAAkBI,cAAlB,CAAiCJ,OAAjC,EAA0CmB,cAA1C,CAAyDnB,OAAO,CAACc,MAAR,CAAeC,EAAxE,CAAnB;AACAd,MAAAA,QAAQ,CAACK,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,mBAAmBJ,MAAnB,GAA4B,WAAtD;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,oCAAqBC,YAArB,CAAkCF,KAAlC,EAAyCP,QAAzC;AACD;AACF,GAPD;AAQD,CA7CD;;eA+CeJ,Y",
      "sourceRoot": "D:\\Rafał\\Dokumenty\\Praca Dyplomowa\\Apteka Online\\Pharmacy\\api\\REST\\",
      "sourcesContent": [
        "'use strict';\r\n\r\nimport business from '../business/business.container';\r\nimport applicationException from '../service/applicationException';\r\n// import auth from '../middleware/auth';\r\nconst admin = require('../middleware/admin');\r\nimport auth from '../middleware/auth';\r\n\r\nconst formEndpoint = (router) => {\r\n  router.get('/api/form', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getFormManager(request).query();\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.post('/api/form/create', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getFormManager(request).createNewOrUpdate(request.body);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.get('/api/form/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getFormManager(request).get(request.params.id);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.get('/api/form/:loginName', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getFormManager(request).getByEmail(request.params.loginName);\r\n      response.status(200).send(result);\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  });\r\n\r\n  router.delete('/api/form/delete/:id', async (request, response, next) => {\r\n    try {\r\n      let result = await business(request).getFormManager(request).removeFormById(request.params.id);\r\n      response.status(200).send('Form with id: ' + result + ' deleted.');\r\n    } catch (error) {\r\n      applicationException.errorHandler(error, response);\r\n    }\r\n  })\r\n};\r\n\r\nexport default formEndpoint;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1611687976546
  }
}